globalThis.process = {
								argv: [],
								env: {},
							};
var Pc=Object.create;var Ut=Object.defineProperty;var Oc=Object.getOwnPropertyDescriptor;var Bc=Object.getOwnPropertyNames;var Lc=Object.getPrototypeOf,Ic=Object.prototype.hasOwnProperty;var f=(s,e)=>()=>(s&&(e=s(s=0)),e);var L=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),I=(s,e)=>{for(var r in e)Ut(s,r,{get:e[r],enumerable:!0})},$i=(s,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Bc(e))!Ic.call(s,n)&&n!==r&&Ut(s,n,{get:()=>e[n],enumerable:!(t=Oc(e,n))||t.enumerable});return s};var ve=(s,e,r)=>(r=s!=null?Pc(Lc(s)):{},$i(e||!s||!s.__esModule?Ut(r,"default",{value:s,enumerable:!0}):r,s)),Uc=s=>$i(Ut({},"__esModule",{value:!0}),s);function Ti(s){return s.endsWith("/")?s:s+"/"}function tt(s){return s[0]==="/"?s:"/"+s}function Tr(s){return s.replace(/(?<!:)\/\/+/g,"/")}function Nt(s){return s.endsWith("/")?s.slice(0,s.length-1):s}function Nc(s){return s.startsWith("/")?s.substring(1):s}function jr(s){return s.replace(/^\/|\/$/g,"")}function Mc(s){return typeof s=="string"||s instanceof String}function ye(...s){return s.filter(Mc).map((e,r)=>r===0?Nt(e):r===s.length-1?Nc(e):jr(e)).join("/")}function Ie(s){return/^(http|ftp|https|ws):?\/\//.test(s)||s.startsWith("data:")}function Rr(s){return s.replace(/\\/g,"/")}var rt=f(()=>{});var Or=L(Pr=>{"use strict";Pr.parse=zc;Pr.serialize=Hc;var qc=Object.prototype.toString,Mt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function zc(s,e){if(typeof s!="string")throw new TypeError("argument str must be a string");for(var r={},t=e||{},n=t.decode||Wc,i=0;i<s.length;){var a=s.indexOf("=",i);if(a===-1)break;var o=s.indexOf(";",i);if(o===-1)o=s.length;else if(o<a){i=s.lastIndexOf(";",a-1)+1;continue}var c=s.slice(i,a).trim();if(r[c]===void 0){var u=s.slice(a+1,o).trim();u.charCodeAt(0)===34&&(u=u.slice(1,-1)),r[c]=Jc(u,n)}i=o+1}return r}function Hc(s,e,r){var t=r||{},n=t.encode||Vc;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!Mt.test(s))throw new TypeError("argument name is invalid");var i=n(e);if(i&&!Mt.test(i))throw new TypeError("argument val is invalid");var a=s+"="+i;if(t.maxAge!=null){var o=t.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(t.domain){if(!Mt.test(t.domain))throw new TypeError("option domain is invalid");a+="; Domain="+t.domain}if(t.path){if(!Mt.test(t.path))throw new TypeError("option path is invalid");a+="; Path="+t.path}if(t.expires){var c=t.expires;if(!Gc(c)||isNaN(c.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+c.toUTCString()}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.priority){var u=typeof t.priority=="string"?t.priority.toLowerCase():t.priority;switch(u){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(t.sameSite){var l=typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function Wc(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function Vc(s){return encodeURIComponent(s)}function Gc(s){return qc.call(s)==="[object Date]"||s instanceof Date}function Jc(s,e){try{return e(s)}catch{return s}}});var Mi=L((_h,Ur)=>{var le={};typeof Ur>"u"?window.eastasianwidth=le:Ur.exports=le;le.eastAsianWidth=function(s){var e=s.charCodeAt(0),r=s.length==2?s.charCodeAt(1):0,t=e;return 55296<=e&&e<=56319&&56320<=r&&r<=57343&&(e&=1023,r&=1023,t=e<<10|r,t+=65536),t==12288||65281<=t&&t<=65376||65504<=t&&t<=65510?"F":t==8361||65377<=t&&t<=65470||65474<=t&&t<=65479||65482<=t&&t<=65487||65490<=t&&t<=65495||65498<=t&&t<=65500||65512<=t&&t<=65518?"H":4352<=t&&t<=4447||4515<=t&&t<=4519||4602<=t&&t<=4607||9001<=t&&t<=9002||11904<=t&&t<=11929||11931<=t&&t<=12019||12032<=t&&t<=12245||12272<=t&&t<=12283||12289<=t&&t<=12350||12353<=t&&t<=12438||12441<=t&&t<=12543||12549<=t&&t<=12589||12593<=t&&t<=12686||12688<=t&&t<=12730||12736<=t&&t<=12771||12784<=t&&t<=12830||12832<=t&&t<=12871||12880<=t&&t<=13054||13056<=t&&t<=19903||19968<=t&&t<=42124||42128<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||55216<=t&&t<=55238||55243<=t&&t<=55291||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65106||65108<=t&&t<=65126||65128<=t&&t<=65131||110592<=t&&t<=110593||127488<=t&&t<=127490||127504<=t&&t<=127546||127552<=t&&t<=127560||127568<=t&&t<=127569||131072<=t&&t<=194367||177984<=t&&t<=196605||196608<=t&&t<=262141?"W":32<=t&&t<=126||162<=t&&t<=163||165<=t&&t<=166||t==172||t==175||10214<=t&&t<=10221||10629<=t&&t<=10630?"Na":t==161||t==164||167<=t&&t<=168||t==170||173<=t&&t<=174||176<=t&&t<=180||182<=t&&t<=186||188<=t&&t<=191||t==198||t==208||215<=t&&t<=216||222<=t&&t<=225||t==230||232<=t&&t<=234||236<=t&&t<=237||t==240||242<=t&&t<=243||247<=t&&t<=250||t==252||t==254||t==257||t==273||t==275||t==283||294<=t&&t<=295||t==299||305<=t&&t<=307||t==312||319<=t&&t<=322||t==324||328<=t&&t<=331||t==333||338<=t&&t<=339||358<=t&&t<=359||t==363||t==462||t==464||t==466||t==468||t==470||t==472||t==474||t==476||t==593||t==609||t==708||t==711||713<=t&&t<=715||t==717||t==720||728<=t&&t<=731||t==733||t==735||768<=t&&t<=879||913<=t&&t<=929||931<=t&&t<=937||945<=t&&t<=961||963<=t&&t<=969||t==1025||1040<=t&&t<=1103||t==1105||t==8208||8211<=t&&t<=8214||8216<=t&&t<=8217||8220<=t&&t<=8221||8224<=t&&t<=8226||8228<=t&&t<=8231||t==8240||8242<=t&&t<=8243||t==8245||t==8251||t==8254||t==8308||t==8319||8321<=t&&t<=8324||t==8364||t==8451||t==8453||t==8457||t==8467||t==8470||8481<=t&&t<=8482||t==8486||t==8491||8531<=t&&t<=8532||8539<=t&&t<=8542||8544<=t&&t<=8555||8560<=t&&t<=8569||t==8585||8592<=t&&t<=8601||8632<=t&&t<=8633||t==8658||t==8660||t==8679||t==8704||8706<=t&&t<=8707||8711<=t&&t<=8712||t==8715||t==8719||t==8721||t==8725||t==8730||8733<=t&&t<=8736||t==8739||t==8741||8743<=t&&t<=8748||t==8750||8756<=t&&t<=8759||8764<=t&&t<=8765||t==8776||t==8780||t==8786||8800<=t&&t<=8801||8804<=t&&t<=8807||8810<=t&&t<=8811||8814<=t&&t<=8815||8834<=t&&t<=8835||8838<=t&&t<=8839||t==8853||t==8857||t==8869||t==8895||t==8978||9312<=t&&t<=9449||9451<=t&&t<=9547||9552<=t&&t<=9587||9600<=t&&t<=9615||9618<=t&&t<=9621||9632<=t&&t<=9633||9635<=t&&t<=9641||9650<=t&&t<=9651||9654<=t&&t<=9655||9660<=t&&t<=9661||9664<=t&&t<=9665||9670<=t&&t<=9672||t==9675||9678<=t&&t<=9681||9698<=t&&t<=9701||t==9711||9733<=t&&t<=9734||t==9737||9742<=t&&t<=9743||9748<=t&&t<=9749||t==9756||t==9758||t==9792||t==9794||9824<=t&&t<=9825||9827<=t&&t<=9829||9831<=t&&t<=9834||9836<=t&&t<=9837||t==9839||9886<=t&&t<=9887||9918<=t&&t<=9919||9924<=t&&t<=9933||9935<=t&&t<=9953||t==9955||9960<=t&&t<=9983||t==10045||t==10071||10102<=t&&t<=10111||11093<=t&&t<=11097||12872<=t&&t<=12879||57344<=t&&t<=63743||65024<=t&&t<=65039||t==65533||127232<=t&&t<=127242||127248<=t&&t<=127277||127280<=t&&t<=127337||127344<=t&&t<=127386||917760<=t&&t<=917999||983040<=t&&t<=1048573||1048576<=t&&t<=1114109?"A":"N"};le.characterLength=function(s){var e=this.eastAsianWidth(s);return e=="F"||e=="W"||e=="A"?2:1};function Ni(s){return s.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}le.length=function(s){for(var e=Ni(s),r=0,t=0;t<e.length;t++)r=r+this.characterLength(e[t]);return r};le.slice=function(s,e,r){textLen=le.length(s),e=e||0,r=r||1,e<0&&(e=textLen+e),r<0&&(r=textLen+r);for(var t="",n=0,i=Ni(s),a=0;a<i.length;a++){var o=i[a],c=le.length(o);if(n>=e-(c==2?1:0))if(n+c<=r)t+=o;else break;n+=c}return t}});var Nr=L((Th,qi)=>{"use strict";function qt(){this._types=Object.create(null),this._extensions=Object.create(null);for(let s=0;s<arguments.length;s++)this.define(arguments[s]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}qt.prototype.define=function(s,e){for(let r in s){let t=s[r].map(function(n){return n.toLowerCase()});r=r.toLowerCase();for(let n=0;n<t.length;n++){let i=t[n];if(i[0]!=="*"){if(!e&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+r+'".');this._types[i]=r}}if(e||!this._extensions[r]){let n=t[0];this._extensions[r]=n[0]!=="*"?n:n.substr(1)}}};qt.prototype.getType=function(s){s=String(s);let e=s.replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),t=e.length<s.length;return(r.length<e.length-1||!t)&&this._types[r]||null};qt.prototype.getExtension=function(s){return s=/^\s*([^;\s]*)/.test(s)&&RegExp.$1,s&&this._extensions[s.toLowerCase()]||null};qi.exports=qt});var Mr=L((jh,zi)=>{zi.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var Wi=L((Rh,Hi)=>{Hi.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var Gi=L((Ph,Vi)=>{"use strict";var Xc=Nr();Vi.exports=new Xc(Mr(),Wi())});var Qc,Zc,el,tl,Ji,Q=f(()=>{({replace:Qc}=""),Zc=/[&<>'"]/g,el={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},tl=s=>el[s],Ji=s=>Qc.call(s,Zc,tl)});function Ki(s){var e,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(e=0;e<n;e++)s[e]&&(r=Ki(s[e]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function qr(){for(var s,e,r=0,t="",n=arguments.length;r<n;r++)(s=arguments[r])&&(e=Ki(s))&&(t&&(t+=" "),t+=e);return t}var ne=f(()=>{});function sl(s){return s.replace(/\r\n|\r(?!\n)|\n/g,`
`)}function il(s,e){if(!e||e.line===void 0||e.column===void 0)return"";let r=sl(s).split(`
`).map(a=>a.replace(/\t/g,"  ")),t=[];for(let a=-2;a<=2;a++)r[e.line+a]&&t.push(e.line+a);let n=0;for(let a of t){let o=`> ${a}`;o.length>n&&(n=o.length)}let i="";for(let a of t){let o=a===e.line-1;i+=o?"> ":"  ",i+=`${a+1} | ${r[a]}
`,o&&(i+=`${Array.from({length:n}).join(" ")}  | ${Array.from({length:e.column}).join(" ")}^
`)}return i}function nl(s){return!(s.length!==3||!s[0]||typeof s[0]!="object")}function yn(s,e,r){let t=e?.split("/").pop()?.replace(".astro","")??"",n=(...i)=>{if(!nl(i))throw new x({...Zi,message:Zi.message(t)});return s(...i)};return Object.defineProperty(n,"name",{value:t,writable:!1}),n.isAstroComponentFactory=!0,n.moduleId=e,n.propagation=r,n}function al(s){return yn(s.factory,s.moduleId,s.propagation)}function N(s,e,r){return typeof s=="function"?yn(s,e,r):al(s)}function ol(){return e=>{if(typeof e=="string")throw new x({...en,message:en.message(JSON.stringify(e))});let r=[...Object.values(e)];if(r.length===0)throw new x({...tn,message:tn.message(JSON.stringify(e))});return Promise.all(r.map(t=>t()))}}function te(s){return{site:s?new URL(s):void 0,generator:`Astro v${hs}`,glob:ol()}}function cl(s,e,r){let t=e.toLowerCase();if(s[t]&&r.warn("astro",`Lower case endpoint names are deprecated and will not be supported in Astro 4.0. Rename the endpoint ${t} to ${e}.`),s[e])return s[e];if(s[t])return s[t];if(e==="delete"&&s.del)return s.del;if(s.all)return s.all;if(s.ALL)return s.ALL}async function fs(s,e,r,t){let{request:n}=e,i=n.method?.toUpperCase(),a=cl(s,i,t);if(!r&&r===!1&&i&&i!=="GET"&&i!=="get"&&console.warn(`
${i} requests are not available when building a static site. Update your config to \`output: 'server'\` or \`output: 'hybrid'\` with an \`export const prerender = false\` to handle ${i} requests.`),!a||typeof a!="function")return new Response(null,{status:404,headers:{"X-Astro-Response":"Not-Found"}});let o=new Proxy(e,{get(c,u){if(u in c)return Reflect.get(c,u)}});return a.call(s,o,n)}function ms(s){return!!s&&typeof s=="object"&&typeof s.then=="function"}function ll(s){return Object.prototype.toString.call(s)==="[object HTMLString]"}function rn(s){return s&&typeof s=="object"&&s[xn]}function gs(s){return Object.defineProperty(s,bn,{value:!0})}function ul(s){return s&&typeof s=="object"&&s[bn]}function Wr(s,e={},r=new WeakSet){if(r.has(s))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(s);let t=s.map(n=>Fn(n,e,r));return r.delete(s),t}function wn(s,e={},r=new WeakSet){if(r.has(s))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(s);let t=Object.fromEntries(Object.entries(s).map(([n,i])=>[n,Fn(i,e,r)]));return r.delete(s),t}function Fn(s,e={},r=new WeakSet){switch(Object.prototype.toString.call(s)){case"[object Date]":return[G.Date,s.toISOString()];case"[object RegExp]":return[G.RegExp,s.source];case"[object Map]":return[G.Map,Wr(Array.from(s),e,r)];case"[object Set]":return[G.Set,Wr(Array.from(s),e,r)];case"[object BigInt]":return[G.BigInt,s.toString()];case"[object URL]":return[G.URL,s.toString()];case"[object Array]":return[G.JSON,Wr(s,e,r)];case"[object Uint8Array]":return[G.Uint8Array,Array.from(s)];case"[object Uint16Array]":return[G.Uint16Array,Array.from(s)];case"[object Uint32Array]":return[G.Uint32Array,Array.from(s)];default:return s!==null&&typeof s=="object"?[G.Value,wn(s,e,r)]:s===void 0?[G.Value]:[G.Value,s]}}function _n(s,e){return JSON.stringify(wn(s,e))}function dl(s,e){let r={isPage:!1,hydration:null,props:{},propsWithoutTransitionAttributes:{}};for(let[t,n]of Object.entries(s))if(t.startsWith("server:")&&t==="server:root"&&(r.isPage=!0),t.startsWith("client:"))switch(r.hydration||(r.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),t){case"client:component-path":{r.hydration.componentUrl=n;break}case"client:component-export":{r.hydration.componentExport.value=n;break}case"client:component-hydration":break;case"client:display-name":break;default:{if(r.hydration.directive=t.split(":")[1],r.hydration.value=n,!e.has(r.hydration.directive)){let i=Array.from(e.keys()).map(a=>`client:${a}`).join(", ");throw new Error(`Error: invalid hydration directive "${t}". Supported hydration methods: ${i}`)}if(r.hydration.directive==="media"&&typeof r.hydration.value!="string")throw new x(rl);break}}else r.props[t]=n,En.includes(t)||(r.propsWithoutTransitionAttributes[t]=n);for(let t of Object.getOwnPropertySymbols(s))r.props[t]=s[t],r.propsWithoutTransitionAttributes[t]=s[t];return r}async function pl(s,e){let{renderer:r,result:t,astroId:n,props:i,attrs:a}=s,{hydrate:o,componentUrl:c,componentExport:u}=e;if(!u.value)throw new x({...Qi,message:Qi.message(e.displayName)});let l={children:"",props:{uid:n}};if(a)for(let[p,h]of Object.entries(a))l.props[p]=it(h);l.props["component-url"]=await t.resolve(decodeURI(c)),r.clientEntrypoint&&(l.props["component-export"]=u.value,l.props["renderer-url"]=await t.resolve(decodeURI(r.clientEntrypoint)),l.props.props=it(_n(i,e))),l.props.ssr="",l.props.client=o;let d=await t.resolve("astro:scripts/before-hydration.js");return d.length&&(l.props["before-hydration-url"]=d),l.props.opts=it(JSON.stringify({name:e.displayName,value:e.hydrateArgs||""})),En.forEach(p=>{i[p]&&(l.props[p]=i[p])}),l}function hl(s){let e=0;if(s.length===0)return e;for(let r=0;r<s.length;r++){let t=s.charCodeAt(r);e=(e<<5)-e+t,e=e&e}return e}function fl(s){let e,r="",t=hl(s),n=t<0?"Z":"";for(t=Math.abs(t);t>=Vr;)e=t%Vr,t=Math.floor(t/Vr),r=Jr[e]+r;return t>0&&(r=Jr[t]+r),n+r}function Cn(s){return s==null?!1:s.isAstroComponentFactory===!0}function ml(s,e){let r=e.propagation||"none";return e.moduleId&&s.componentMetadata.has(e.moduleId)&&r==="none"&&(r=s.componentMetadata.get(e.moduleId).propagation),r==="in-tree"||r==="self"}function Ds(s){return typeof s=="object"&&!!s[gl]}function yl(s){return s._metadata.hasHydrationScript?!1:s._metadata.hasHydrationScript=!0}function xl(s,e){return s._metadata.hasDirectives.has(e)?!1:(s._metadata.hasDirectives.add(e),!0)}function sn(s,e){let t=s.clientDirectives.get(e);if(!t)throw new Error(`Unknown directive: ${e}`);return t}function bl(s,e,r){switch(e){case"both":return`${vl}<script>${sn(s,r)};${Dl}<\/script>`;case"directive":return`<script>${sn(s,r)}<\/script>`}return""}function Sl(s){let e="";for(let[r,t]of Object.entries(s))e+=`const ${Cl(r)} = ${JSON.stringify(t)?.replace(/<\/script>/g,"\\x3C/script>")};
`;return $(e)}function an(s){return s.length===1?s[0]:`${s.slice(0,-1).join(", ")} or ${s[s.length-1]}`}function S(s,e,r=!0){if(s==null)return"";if(s===!1)return Fl.test(e)||_l.test(e)?$(` ${e}="false"`):"";if(El.has(e))return console.warn(`[astro] The "${e}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${e}={value}\`) instead of the dynamic spread syntax (\`{...{ "${e}": value }}\`).`),"";if(e==="class:list"){let t=Ne(qr(s),r);return t===""?"":$(` ${e.slice(0,-5)}="${t}"`)}if(e==="style"&&!(s instanceof be)){if(Array.isArray(s)&&s.length===2)return $(` ${e}="${Ne(`${nn(s[0])};${s[1]}`,r)}"`);if(typeof s=="object")return $(` ${e}="${Ne(nn(s),r)}"`)}return e==="className"?$(` class="${Ne(s,r)}"`):s===!0&&(e.startsWith("data-")||wl.test(e))?$(` ${e}`):$(` ${e}="${Ne(s,r)}"`)}function Kr(s,e=!0){let r="";for(let[t,n]of Object.entries(s))r+=S(n,t,e);return $(r)}function st(s,{props:e,children:r=""},t=!0){let{lang:n,"data-astro-id":i,"define:vars":a,...o}=e;return a&&(s==="style"&&(delete o["is:global"],delete o["is:scoped"]),s==="script"&&(delete o.hoist,r=Sl(a)+`
`+r)),(r==null||r=="")&&vs.test(s)?`<${s}${Kr(o,t)} />`:`<${s}${Kr(o,t)}>${r}</${s}>`}function An(s){let e=[],r={write:n=>e.push(n)},t=s(r);return{async renderToFinalDestination(n){for(let i of e)n.write(i);r.write=i=>n.write(i),await t}}}function on(s){s._metadata.hasRenderedHead=!0;let e=Array.from(s.styles).filter(Gr).map(i=>i.props.rel==="stylesheet"?st("link",i):st("style",i));s.styles.clear();let r=Array.from(s.scripts).filter(Gr).map(i=>st("script",i,!1)),t=Array.from(s.links).filter(Gr).map(i=>st("link",i,!1)),n=e.join(`
`)+t.join(`
`)+r.join(`
`);if(s._metadata.extraHead.length>0)for(let i of s._metadata.extraHead)n+=i;return $(n)}function*Yt(){yield gs({type:"head"})}function*q(){yield gs({type:"maybe-head"})}function kl(s){return!!s[Yr]}function at(s,e,r){return!e&&r?at(s,r):{async render(t){await Me(t,typeof e=="function"?e(s):e)}}}async function we(s,e,r){let t="",n=null,i={write(o){o instanceof Response||(typeof o=="object"&&"type"in o&&typeof o.type=="string"?(n===null&&(n=[]),n.push(o)):t+=de(s,o))}};return await at(s,e,r).render(i),$(new zt(t,n))}async function Sn(s,e={}){let r=null,t={};return e&&await Promise.all(Object.entries(e).map(([n,i])=>we(s,i).then(a=>{a.instructions&&(r===null&&(r=[]),r.push(...a.instructions)),t[n]=a}))),{slotInstructions:r,children:t}}function xs(s,e){if(ul(e)){let r=e;switch(r.type){case"directive":{let{hydration:t}=r,n=t&&yl(s),i=t&&xl(s,t.directive),a=n?"both":i?"directive":null;if(a){let o=bl(s,a,t.directive);return $(o)}else return""}case"head":return s._metadata.hasRenderedHead||s.partial?"":on(s);case"maybe-head":return s._metadata.hasRenderedHead||s._metadata.headInTree||s.partial?"":on(s);default:throw new Error(`Unknown chunk type: ${e.type}`)}}else{if(e instanceof Response)return"";if(kl(e)){let r="",t=e;if(t.instructions)for(let n of t.instructions)r+=xs(s,n);return r+=e.toString(),r}}return e.toString()}function de(s,e){return ArrayBuffer.isView(e)?$l.decode(e):xs(s,e)}function Tl(s,e){if(ArrayBuffer.isView(e))return e;{let r=xs(s,e);return Ht.encode(r.toString())}}function jl(s){return!!s&&typeof s=="object"&&"render"in s&&typeof s.render=="function"}async function Me(s,e){if(e=await e,e instanceof zt)s.write(e);else if(ll(e))s.write(e);else if(Array.isArray(e)){let r=e.map(t=>An(n=>Me(n,t)));for(let t of r)t&&await t.renderToFinalDestination(s)}else if(typeof e=="function")await Me(s,e());else if(typeof e=="string")s.write($(it(e)));else if(!(!e&&e!==0))if(jl(e))await e.render(s);else if(Tn(e))await e.render(s);else if(Ol(e))await e.render(s);else if(ArrayBuffer.isView(e))s.write(e);else if(typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e))for await(let r of e)await Me(s,r);else s.write(e)}function Rl(s,e){if(s!=null)for(let r of Object.keys(s))r.startsWith("client:")&&console.warn(`You are attempting to render <${e} ${r} />, but ${e} is an Astro component. Astro components do not render in the client and should not have a hydration directive. Please use a framework component for client rendering.`)}function Pl(s,e,r,t,n={}){Rl(t,e);let i=new Xr(s,t,n,r);return ml(s,r)&&s._metadata.propagators.add(i),i}function Ol(s){return typeof s=="object"&&!!s[kn]}function Tn(s){return typeof s=="object"&&!!s[$n]}function v(s,...e){return new Qr(s,e)}async function jn(s,e,r,t,n=!1,i){let a=await Rn(s,e,r,t,i);if(a instanceof Response)return a;let o="",c=!1,u={write(l){if(n&&!c&&(c=!0,!s.partial&&!/<!doctype html/i.test(String(l)))){let d=s.compressHTML?"<!DOCTYPE html>":`<!DOCTYPE html>
`;o+=d}l instanceof Response||(o+=de(s,l))}};return await a.render(u),o}async function Bl(s,e,r,t,n=!1,i){let a=await Rn(s,e,r,t,i);if(a instanceof Response)return a;let o=!1;return n&&await Ll(s),new ReadableStream({start(c){let u={write(l){if(n&&!o&&(o=!0,!s.partial&&!/<!doctype html/i.test(String(l)))){let p=s.compressHTML?"<!DOCTYPE html>":`<!DOCTYPE html>
`;c.enqueue(Ht.encode(p))}if(l instanceof Response)throw new x({...nt});let d=Tl(s,l);c.enqueue(d)}};(async()=>{try{await a.render(u),c.close()}catch(l){x.is(l)&&!l.loc&&l.setLocation({file:i?.component}),setTimeout(()=>c.error(l),0)}})()}})}async function Rn(s,e,r,t,n){let i=await e(s,r,t);if(i instanceof Response)return i;if(!Tn(i))throw new x({...Yi,message:Yi.message(n?.route,typeof i),location:{file:n?.component}});return Ds(i)?i.content:i}async function Ll(s){let e=s._metadata.propagators.values();for(;;){let{value:r,done:t}=e.next();if(t)break;let n=await r.init(s);Ds(n)&&s._metadata.extraHead.push(n.head)}}function Il(s){return typeof HTMLElement<"u"&&HTMLElement.isPrototypeOf(s)}async function Ul(s,e,r,t){let n=Nl(e),i="";for(let a in r)i+=` ${a}="${Ne(await r[a])}"`;return $(`<${n}${i}>${await we(s,t?.default)}</${n}>`)}function Nl(s){let e=customElements.getName(s);return e||s.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-")}function ql(s){switch(s?.split(".").pop()){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue","@astrojs/svelte","@astrojs/lit"]}}function zl(s){return s===ys}function Hl(s){return s&&s["astro:html"]===!0}function Gl(s,e){let r=e?Vl:Wl;return s.replace(r,"")}async function Jl(s,e,r,t,n={}){if(!r&&!t["client:only"])throw new Error(`Unable to render ${e} because it is ${r}!
Did you forget to import the component or is it possible there is a typo?`);let{renderers:i,clientDirectives:a}=s,o={astroStaticSlot:!0,displayName:e},{hydration:c,isPage:u,props:l,propsWithoutTransitionAttributes:d}=dl(t,a),p="",h;c&&(o.hydrate=c.directive,o.hydrateArgs=c.value,o.componentExport=c.componentExport,o.componentUrl=c.componentUrl);let m=ql(o.componentUrl),g=i.filter(F=>F.name!=="astro:jsx"),{children:D,slotInstructions:E}=await Sn(s,n),b;if(o.hydrate!=="only"){let F=!1;try{F=r&&r[cn]}catch{}if(F){let T=r[cn];b=i.find(({name:k})=>k===T)}if(!b){let T;for(let k of i)try{if(await k.ssr.check.call({result:s},r,l,D)){b=k;break}}catch(O){T??=O}if(!b&&T)throw T}if(!b&&typeof HTMLElement=="function"&&Il(r)){let T=await Ul(s,r,t,n);return{render(k){k.write(T)}}}}else{if(o.hydrateArgs){let F=o.hydrateArgs,T=ln.has(F)?ln.get(F):F;b=i.find(({name:k})=>k===`@astrojs/${T}`||k===T)}if(!b&&g.length===1&&(b=g[0]),!b){let F=o.componentUrl?.split(".").pop();b=i.filter(({name:T})=>T===`@astrojs/${F}`||T===F)[0]}}if(b)o.hydrate==="only"?p=await we(s,n?.fallback):{html:p,attrs:h}=await b.ssr.renderToStaticMarkup.call({result:s},r,d,D,o);else{if(o.hydrate==="only")throw new x({...Hr,message:Hr.message(o.displayName),hint:Hr.hint(m.map(F=>F.replace("@astrojs/","")).join("|"))});if(typeof r!="string"){let F=g.filter(k=>m.includes(k.name)),T=g.length>1;if(F.length===0)throw new x({...zr,message:zr.message(o.displayName,o?.componentUrl?.split(".").pop(),T,g.length),hint:zr.hint(an(m.map(k=>"`"+k+"`")))});if(F.length===1)b=F[0],{html:p,attrs:h}=await b.ssr.renderToStaticMarkup.call({result:s},r,d,D,o);else throw new Error(`Unable to render ${o.displayName}!

This component likely uses ${an(m)},
but Astro encountered an error during server-side rendering.

Please ensure that ${o.displayName}:
1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.
   If this is unavoidable, use the \`client:only\` hydration directive.
2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.

If you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`)}}if(b&&!b.clientEntrypoint&&b.name!=="@astrojs/lit"&&o.hydrate)throw new x({...Xi,message:Xi.message(e,o.hydrate,b.name)});if(!p&&typeof r=="string"){let F=Kl(r),T=Object.values(D).join(""),k=v`<${F}${Kr(l)}${$(T===""&&vs.test(F)?"/>":`>${T}</${F}>`)}`;p="";let O={write(V){V instanceof Response||(p+=de(s,V))}};await k.render(O)}if(!c)return{render(F){if(E)for(let T of E)F.write(T);u||b?.name==="astro:jsx"?F.write(p):p&&p.length>0&&F.write($(Gl(p,b?.ssr?.supportsAstroStaticSlot??!1)))}};let w=fl(`<!--${o.componentExport.value}:${o.componentUrl}-->
${p}
${_n(l,o)}`),C=await pl({renderer:b,result:s,astroId:w,props:l,attrs:h},o),y=[];if(p){if(Object.keys(D).length>0)for(let F of Object.keys(D)){let T=b?.ssr?.supportsAstroStaticSlot?o.hydrate?"astro-slot":"astro-static-slot":"astro-slot",k=F==="default"?`<${T}>`:`<${T} name="${F}">`;p.includes(k)||y.push(F)}}else y=Object.keys(D);let It=y.length>0?y.map(F=>`<template data-astro-template${F!=="default"?`="${F}"`:""}>${D[F]}</template>`).join(""):"";return C.children=`${p??""}${It}`,C.children&&(C.props["await-children"]="",C.children+="<!--astro:end-->"),{render(F){if(E)for(let T of E)F.write(T);F.write(gs({type:"directive",hydration:c})),F.write($(st("astro-island",C,!1)))}}}function Kl(s){let e=/[&<>'"\s]+/g;return e.test(s)?s.trim().split(e)[0].trim():s}async function Yl(s,e={}){let r=await we(s,e?.default);return{render(t){r!=null&&t.write(r)}}}async function Xl(s,e,r,t={}){let{slotInstructions:n,children:i}=await Sn(s,t),a=e({slots:i}),o=n?n.map(c=>de(s,c)).join(""):"";return{render(c){c.write($(o+a))}}}function Ql(s,e,r,t,n={}){let i=Pl(s,e,r,t,n);return{async render(a){await i.render(a)}}}async function K(s,e,r,t,n={}){return ms(r)&&(r=await r),zl(r)?await Yl(s,n):(t=Zl(t),Hl(r)?await Xl(s,r,t,n):Cn(r)?Ql(s,e,r,t,n):await Jl(s,e,r,t,n))}function Zl(s){if(s["class:list"]!==void 0){let e=s["class:list"];delete s["class:list"],s.class=qr(s.class,e),s.class===""&&delete s.class}return s}async function Zr(s,e,r,t,n={},i=!1,a){let o="",c=!1,u="";if(eu(r))for(let l of q())u+=de(s,l);try{let l={write(p){if(i&&!c&&(c=!0,!s.partial&&!/<!doctype html/i.test(String(p)))){let h=s.compressHTML?"<!DOCTYPE html>":`<!DOCTYPE html>
`;o+=h+u}p instanceof Response||(o+=de(s,p))}};await(await K(s,e,r,t,n)).render(l)}catch(l){throw x.is(l)&&!l.loc&&l.setLocation({file:a?.component}),l}return o}function eu(s){return!!s?.[Ml]}async function ue(s,e){switch(!0){case e instanceof be:return e.toString().trim()===""?"":e;case typeof e=="string":return $(it(e));case typeof e=="function":return e;case(!e&&e!==0):return"";case Array.isArray(e):return $((await Promise.all(e.map(t=>ue(s,t)))).join(""))}let r;return e.props?e.props[xe.symbol]?r=e.props[xe.symbol]:r=new xe(e):r=new xe(e),ts(s,e,r)}async function ts(s,e,r){if(rn(e)){switch(!0){case!e.type:throw new Error(`Unable to render ${s.pathname} because it contains an undefined Component!
Did you forget to import the component or is it possible there is a typo?`);case e.type===Symbol.for("astro:fragment"):return ue(s,e.props.children);case e.type.isAstroComponentFactory:{let t={},n={};for(let[o,c]of Object.entries(e.props??{}))o==="children"||c&&typeof c=="object"&&c.$$slot?n[o==="children"?"default":o]=()=>ue(s,c):t[o]=c;let i=await jn(s,e.type,t,n);if(i instanceof Response)throw i;return $(i)}case(!e.type&&e.type!==0):return"";case(typeof e.type=="string"&&e.type!==un):return $(await tu(s,e.type,e.props??{}))}if(e.type){let t=function(l){if(Array.isArray(l))return l.map(d=>t(d));if(!rn(l)){a.default.push(l);return}if("slot"in l.props){a[l.props.slot]=[...a[l.props.slot]??[],l],delete l.props.slot;return}a.default.push(l)};if(typeof e.type=="function"&&e.type["astro:renderer"]&&r.increment(),typeof e.type=="function"&&e.props["server:root"]){let l=await e.type(e.props??{});return await ue(s,l)}if(typeof e.type=="function")if(r.haveNoTried()||r.isCompleted()){su();try{let l=await e.type(e.props??{}),d;if(l?.[xn])return d=await ts(s,l,r),d;if(!l)return d=await ts(s,l,r),d}catch(l){if(r.isCompleted())throw l;r.increment()}finally{iu()}}else r.increment();let{children:n=null,...i}=e.props??{},a={default:[]};t(n);for(let[l,d]of Object.entries(i))d.$$slot&&(a[l]=d,delete i[l]);let o=[],c={};for(let[l,d]of Object.entries(a))o.push(ue(s,d).then(p=>{p.toString().trim().length!==0&&(c[l]=()=>p)}));await Promise.all(o),i[xe.symbol]=r;let u;return e.type===un&&e.props["client:only"]?u=await Zr(s,e.props["client:display-name"]??"",null,i,c):u=await Zr(s,typeof e.type=="function"?e.type.name:e.type,e.type,i,c),$(u)}}return $(`${e}`)}async function tu(s,e,{children:r,...t}){return $(`<${e}${pe(t)}${$((r==null||r=="")&&vs.test(e)?"/>":`>${r==null?"":await ue(s,ru(e,r))}</${e}>`)}`)}function ru(s,e){return typeof e=="string"&&(s==="style"||s==="script")?$(e):e}function su(){if(bs++,!es){es=console.error;try{console.error=nu}catch{}}}function iu(){bs--}function nu(s,...e){bs>0&&typeof s=="string"&&s.includes("Warning: Invalid hook call.")&&s.includes("https://reactjs.org/link/invalid-hook-call")||es(s,...e)}async function Pn(s,e,r,t,n,i){if(!Cn(e)){s._metadata.headInTree=s.componentMetadata.get(e.moduleId)?.containsHead??!1;let l={...r??{},"server:root":!0},d=await Zr(s,e.name,e,l,{},!0,i),p=Ht.encode(d);return new Response(p,{headers:new Headers([["Content-Type","text/html; charset=utf-8"],["Content-Length",p.byteLength.toString()]])})}s._metadata.headInTree=s.componentMetadata.get(e.moduleId)?.containsHead??!1;let a;if(n?a=await Bl(s,e,r,t,!0,i):a=await jn(s,e,r,t,!0,i),a instanceof Response)return a;let o=s.response,c=new Headers(o.headers);return!n&&typeof a=="string"&&(a=Ht.encode(a),c.set("Content-Length",a.byteLength.toString())),i?.component.endsWith(".md")&&c.set("Content-Type","text/html; charset=utf-8"),new Response(a,{...o,headers:c})}function pe(s={},e,{class:r}={}){let t="";r&&(typeof s.class<"u"?s.class+=` ${r}`:typeof s["class:list"]<"u"?s["class:list"]=[s["class:list"],r]:s.class=r);for(let[n,i]of Object.entries(s))t+=S(i,n,!0);return $(t)}var qe,Wt,Vt,Yi,rl,zr,Xi,Hr,rs,ss,dn,pn,is,hn,ns,Qi,Zi,as,os,fn,cs,ls,mn,Gt,us,ds,gn,nt,Dn,Jt,Kt,ps,en,tn,vn,x,hs,it,be,$,xn,bn,G,En,Jr,Vr,gl,Dl,vl,vs,wl,Fl,_l,El,Cl,Ne,Al,nn,Gr,Yr,zt,ys,cn,Ht,$l,kn,Xr,$n,Qr,Ml,ln,Wl,Vl,un,xe,es,bs,Z=f(()=>{Q();ne();qe={name:"ClientAddressNotAvailable",title:"`Astro.clientAddress` is not available in current adapter.",message:s=>`\`Astro.clientAddress\` is not available in the \`${s}\` adapter. File an issue with the adapter to add support.`},Wt={name:"StaticClientAddressNotAvailable",title:"`Astro.clientAddress` is not available in static mode.",message:"`Astro.clientAddress` is only available when using `output: 'server'` or `output: 'hybrid'`. Update your Astro config if you need SSR features.",hint:"See https://docs.astro.build/en/guides/server-side-rendering/ for more information on how to enable SSR."},Vt={name:"NoMatchingStaticPathFound",title:"No static path found for requested path.",message:s=>`A \`getStaticPaths()\` route pattern was matched, but no matching static path was found for requested path \`${s}\`.`,hint:s=>`Possible dynamic routes being matched: ${s.join(", ")}.`},Yi={name:"OnlyResponseCanBeReturned",title:"Invalid type returned by Astro page.",message:(s,e)=>`Route \`${s||""}\` returned a \`${e}\`. Only a [Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) can be returned from Astro files.`,hint:"See https://docs.astro.build/en/guides/server-side-rendering/#response for more information."},rl={name:"MissingMediaQueryDirective",title:"Missing value for `client:media` directive.",message:'Media query not provided for `client:media` directive. A media query similar to `client:media="(max-width: 600px)"` must be provided'},zr={name:"NoMatchingRenderer",title:"No matching renderer found.",message:(s,e,r,t)=>`Unable to render \`${s}\`.

${t>0?`There ${r?"are":"is"} ${t} renderer${r?"s":""} configured in your \`astro.config.mjs\` file,
but ${r?"none were":"it was not"} able to server-side render \`${s}\`.`:`No valid renderer was found ${e?`for the \`.${e}\` file extension.`:"for this file extension."}`}`,hint:s=>`Did you mean to enable the ${s} integration?

See https://docs.astro.build/en/core-concepts/framework-components/ for more information on how to install and configure integrations.`},Xi={name:"NoClientEntrypoint",title:"No client entrypoint specified in renderer.",message:(s,e,r)=>`\`${s}\` component has a \`client:${e}\` directive, but no client entrypoint was provided by \`${r}\`.`,hint:"See https://docs.astro.build/en/reference/integrations-reference/#addrenderer-option for more information on how to configure your renderer."},Hr={name:"NoClientOnlyHint",title:"Missing hint on client:only directive.",message:s=>`Unable to render \`${s}\`. When using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.`,hint:s=>`Did you mean to pass \`client:only="${s}"\`? See https://docs.astro.build/en/reference/directives-reference/#clientonly for more information on client:only`},rs={name:"InvalidGetStaticPathsEntry",title:"Invalid entry inside getStaticPath's return value",message:s=>`Invalid entry returned by getStaticPaths. Expected an object, got \`${s}\``,hint:"If you're using a `.map` call, you might be looking for `.flatMap()` instead. See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},ss={name:"InvalidGetStaticPathsReturn",title:"Invalid value returned by getStaticPaths.",message:s=>`Invalid type returned by \`getStaticPaths\`. Expected an \`array\`, got \`${s}\``,hint:"See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},dn={name:"GetStaticPathsRemovedRSSHelper",title:"getStaticPaths RSS helper is not available anymore.",message:"The RSS helper has been removed from `getStaticPaths`. Try the new @astrojs/rss package instead.",hint:"See https://docs.astro.build/en/guides/rss/ for more information."},pn={name:"GetStaticPathsExpectedParams",title:"Missing params property on `getStaticPaths` route.",message:"Missing or empty required `params` property on `getStaticPaths` route.",hint:"See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},is={name:"GetStaticPathsInvalidRouteParam",title:"Invalid value for `getStaticPaths` route parameter.",message:(s,e,r)=>`Invalid getStaticPaths route parameter for \`${s}\`. Expected undefined, a string or a number, received \`${r}\` (\`${e}\`)`,hint:"See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},hn={name:"GetStaticPathsRequired",title:"`getStaticPaths()` function required for dynamic routes.",message:"`getStaticPaths()` function is required for dynamic routes. Make sure that you `export` a `getStaticPaths` function from your dynamic route.",hint:'See https://docs.astro.build/en/core-concepts/routing/#dynamic-routes for more information on dynamic routes.\n\nAlternatively, set `output: "server"` or `output: "hybrid"` in your Astro config file to switch to a non-static server build. This error can also occur if using `export const prerender = true;`.\nSee https://docs.astro.build/en/guides/server-side-rendering/ for more information on non-static rendering.'},ns={name:"ReservedSlotName",title:"Invalid slot name.",message:s=>`Unable to create a slot named \`${s}\`. \`${s}\` is a reserved slot name. Please update the name of this slot.`},Qi={name:"NoMatchingImport",title:"No import found for component.",message:s=>`Could not render \`${s}\`. No matching import has been found for \`${s}\`.`,hint:"Please make sure the component is properly imported."},Zi={name:"InvalidComponentArgs",title:"Invalid component arguments.",message:s=>`Invalid arguments passed to${s?` <${s}>`:""} component.`,hint:"Astro components cannot be rendered directly via function call, such as `Component()` or `{items.map(Component)}`."},as={name:"PageNumberParamNotFound",title:"Page number param not found.",message:s=>`[paginate()] page number param \`${s}\` not found in your filepath.`,hint:"Rename your file to `[page].astro` or `[...page].astro`."},os={name:"ImageMissingAlt",title:"Missing alt property.",message:"The alt property is required.",hint:"The `alt` property is important for the purpose of accessibility, without it users using screen readers or other assistive technologies won't be able to understand what your image is supposed to represent. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-alt for more information."},fn={name:"InvalidImageService",title:"Error while loading image service.",message:"There was an error loading the configured image service. Please see the stack trace for more information."},cs={name:"MissingImageDimension",title:"Missing image dimensions",message:(s,e)=>`Missing ${s==="both"?"width and height attributes":`${s} attribute`} for ${e}. When using remote images, both dimensions are always required in order to avoid CLS.`,hint:"If your image is inside your `src` folder, you probably meant to import it instead. See [the Imports guide for more information](https://docs.astro.build/en/guides/imports/#other-assets)."},ls={name:"UnsupportedImageFormat",title:"Unsupported image format",message:(s,e,r)=>`Received unsupported format \`${s}\` from \`${e}\`. Currently only ${r.join(", ")} are supported by our image services.`,hint:"Using an `img` tag directly instead of the `Image` component might be what you're looking for."},mn={name:"UnsupportedImageConversion",title:"Unsupported image conversion",message:"Converting between vector (such as SVGs) and raster (such as PNGs and JPEGs) images is not currently supported."},Gt={name:"PrerenderDynamicEndpointPathCollide",title:"Prerendered dynamic endpoint has path collision.",message:s=>`Could not render \`${s}\` with an \`undefined\` param as the generated path will collide during prerendering. Prevent passing \`undefined\` as \`params\` for the endpoint's \`getStaticPaths()\` function, or add an additional extension to the endpoint's filename.`,hint:s=>`Rename \`${s}\` to \`${s.replace(/\.(js|ts)/,e=>".json"+e)}\``},us={name:"ExpectedImage",title:"Expected src to be an image.",message:(s,e,r)=>`Expected \`src\` property for \`getImage\` or \`<Image />\` to be either an ESM imported image or a string with the path of a remote image. Received \`${s}\` (type: \`${e}\`).

Full serialized options received: \`${r}\`.`,hint:"This error can often happen because of a wrong path. Make sure the path to your image is correct. If you're passing an async function, make sure to call and await it."},ds={name:"ExpectedImageOptions",title:"Expected image options.",message:s=>`Expected getImage() parameter to be an object. Received \`${s}\`.`},gn={name:"IncompatibleDescriptorOptions",title:"Cannot set both `densities` and `widths`",message:"Only one of `densities` or `widths` can be specified. In most cases, you'll probably want to use only `widths` if you require specific widths.",hint:"Those attributes are used to construct a `srcset` attribute, which cannot have both `x` and `w` descriptors."},nt={name:"ResponseSentError",title:"Unable to set response.",message:"The response has already been sent to the browser and cannot be altered."},Dn={name:"MiddlewareNoDataOrNextCalled",title:"The middleware didn't return a response or call `next`.",message:"The middleware needs to either return a `Response` object or call the `next` function."},Jt={name:"MiddlewareNotAResponse",title:"The middleware returned something that is not a `Response` object.",message:"Any data returned from middleware must be a valid `Response` object."},Kt={name:"LocalsNotAnObject",title:"Value assigned to `locals` is not accepted.",message:"`locals` can only be assigned to an object. Other values like numbers, strings, etc. are not accepted.",hint:"If you tried to remove some information from the `locals` object, try to use `delete` or set the property to `undefined`."},ps={name:"LocalImageUsedWrongly",title:"Local images must be imported.",message:s=>`\`Image\`'s and \`getImage\`'s \`src\` parameter must be an imported image or an URL, it cannot be a string filepath. Received \`${s}\`.`,hint:"If you want to use an image from your `src` folder, you need to either import it or if the image is coming from a content collection, use the [image() schema helper](https://docs.astro.build/en/guides/images/#images-in-content-collections) See https://docs.astro.build/en/guides/images/#src-required for more information on the `src` property."},en={name:"AstroGlobUsedOutside",title:"Astro.glob() used outside of an Astro file.",message:s=>`\`Astro.glob(${s})\` can only be used in \`.astro\` files. \`import.meta.glob(${s})\` can be used instead to achieve a similar result.`,hint:"See Vite's documentation on `import.meta.glob` for more information: https://vitejs.dev/guide/features.html#glob-import"},tn={name:"AstroGlobNoMatch",title:"Astro.glob() did not match any files.",message:s=>`\`Astro.glob(${s})\` did not return any matching files. Check the pattern for typos.`},vn={name:"CantRenderPage",title:"Astro can't render the route.",message:"Astro cannot find any content to render for this route. There is no file or redirect associated with this route.",hint:"If you expect to find a route here, this may be an Astro bug. Please file an issue/restart the dev server"};x=class extends Error{loc;title;hint;frame;type="AstroError";constructor(e,...r){super(...r);let{name:t,title:n,message:i,stack:a,location:o,hint:c,frame:u}=e;this.title=n,this.name=t,i&&(this.message=i),this.stack=a||this.stack,this.loc=o,this.hint=c,this.frame=u}setLocation(e){this.loc=e}setName(e){this.name=e}setMessage(e){this.message=e}setHint(e){this.hint=e}setFrame(e,r){this.frame=il(e,r)}static is(e){return e.type==="AstroError"}};hs="3.6.5";it=Ji,be=class extends String{get[Symbol.toStringTag](){return"HTMLString"}},$=s=>s instanceof be?s:typeof s=="string"?new be(s):s;xn="astro:jsx";bn=Symbol.for("astro:render");G={Value:0,JSON:1,RegExp:2,Date:3,Map:4,Set:5,BigInt:6,URL:7,Uint8Array:8,Uint16Array:9,Uint32Array:10};En=Object.freeze(["data-astro-transition-scope","data-astro-transition-persist"]);Jr="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY",Vr=Jr.length;gl=Symbol.for("astro.headAndContent");Dl='(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();',vl="<style>astro-island,astro-slot,astro-static-slot{display:contents}</style>";vs=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,wl=/^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,Fl=/^(contenteditable|draggable|spellcheck|value)$/i,_l=/^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,El=new Set(["set:html","set:text"]),Cl=s=>s.trim().replace(/(?:(?!^)\b\w|\s+|[^\w]+)/g,(e,r)=>/[^\w]|\s/.test(e)?"":r===0?e:e.toUpperCase()),Ne=(s,e=!0)=>e?String(s).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):s,Al=s=>s.toLowerCase()===s?s:s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),nn=s=>Object.entries(s).filter(([e,r])=>typeof r=="string"&&r.trim()||typeof r=="number").map(([e,r])=>e[0]!=="-"&&e[1]!=="-"?`${Al(e)}:${r}`:`${e}:${r}`).join(";");Gr=(s,e,r)=>{let t=JSON.stringify(s.props),n=s.children;return e===r.findIndex(i=>JSON.stringify(i.props)===t&&i.children==n)};Yr=Symbol.for("astro:slot-string"),zt=class extends be{instructions;[Yr];constructor(e,r){super(e),this.instructions=r,this[Yr]=!0}};ys=Symbol.for("astro:fragment"),cn=Symbol.for("astro:renderer"),Ht=new TextEncoder,$l=new TextDecoder;kn=Symbol.for("astro.componentInstance"),Xr=class{[kn]=!0;result;props;slotValues;factory;returnValue;constructor(e,r,t,n){this.result=e,this.props=r,this.factory=n,this.slotValues={};for(let i in t){let a=!1,o=t[i](e);this.slotValues[i]=()=>a?t[i](e):(a=!0,o)}}async init(e){return this.returnValue!==void 0?this.returnValue:(this.returnValue=this.factory(e,this.props,this.slotValues),this.returnValue)}async render(e){this.returnValue===void 0&&await this.init(this.result);let r=this.returnValue;ms(r)&&(r=await r),Ds(r)?await r.content.render(e):await Me(e,r)}};$n=Symbol.for("astro.renderTemplateResult"),Qr=class{[$n]=!0;htmlParts;expressions;error;constructor(e,r){this.htmlParts=e,this.error=void 0,this.expressions=r.map(t=>ms(t)?Promise.resolve(t).catch(n=>{if(!this.error)throw this.error=n,n}):t)}async render(e){let r=this.expressions.map(t=>An(n=>{if(t||t===0)return Me(n,t)}));for(let t=0;t<this.htmlParts.length;t++){let n=this.htmlParts[t],i=r[t];e.write($(n)),i&&await i.renderToFinalDestination(e)}}};Ml=Symbol.for("astro.needsHeadRendering"),ln=new Map([["solid","solid-js"]]);Wl=/\<\/?astro-slot\b[^>]*>/g,Vl=/\<\/?astro-static-slot\b[^>]*>/g;un="astro-client-only",xe=class{constructor(e){this.vnode=e,this.count=0}count;increment(){this.count++}haveNoTried(){return this.count===0}isCompleted(){return this.count>2}static symbol=Symbol("astro:jsx:skip")},bs=0});var B,re=f(()=>{B=[]});var M,ae=f(()=>{M=void 0});var ra=L((Xh,ta)=>{"use strict";var Su=Nr();ta.exports=new Su(Mr())});function ku(s){return s?"transform"in s:!1}function na(s){let e=s.width,r=s.height;if(Fe(s.src)){let t=s.src.width/s.src.height;r&&!e?e=Math.round(r*t):e&&!r?r=Math.round(e/t):!e&&!r&&(e=s.src.width,r=s.src.height)}return{targetWidth:e,targetHeight:r}}function $u(s,e){return ju(s,e.protocol)&&oa(s,e.hostname,!0)&&Tu(s,e.port)&&Ru(s,e.pathname,!0)}function Tu(s,e){return!e||e===s.port}function ju(s,e){return!e||e===s.protocol.slice(0,-1)}function oa(s,e,r){if(e){if(!r||!e.startsWith("*"))return e===s.hostname;if(e.startsWith("**.")){let t=e.slice(2);return t!==s.hostname&&s.hostname.endsWith(t)}else if(e.startsWith("*.")){let t=e.slice(1);return s.hostname.replace(t,"").split(".").filter(Boolean).length===1}}else return!0;return!1}function Ru(s,e,r){if(e){if(!r||!e.endsWith("*"))return e===s.pathname;if(e.endsWith("/**")){let t=e.slice(0,-2);return t!==s.pathname&&s.pathname.startsWith(t)}else if(e.endsWith("/*")){let t=e.slice(0,-1);return s.pathname.replace(t,"").split("/").filter(Boolean).length===1}}else return!0;return!1}function Fe(s){return typeof s=="object"}function Pu(s){return typeof s=="string"}function Bs(s,{domains:e=[],remotePatterns:r=[]}){if(!Ie(s))return!1;let t=new URL(s);return e.some(n=>oa(t,n))||r.some(n=>$u(t,n))}async function Ls(){if(!globalThis?.astroAsset?.imageService){let{default:s}=await Promise.resolve().then(()=>Lu).catch(e=>{let r=new x(fn);throw r.cause=e,r});return globalThis.astroAsset||(globalThis.astroAsset={}),globalThis.astroAsset.imageService=s,s}return globalThis.astroAsset.imageService}async function ca(s,e){if(!s||typeof s!="object")throw new x({...ds,message:ds.message(JSON.stringify(s))});let r=await Ls(),t={...s,src:typeof s.src=="object"&&"then"in s.src?(await s.src).default??await s.src:s.src},n=Fe(t.src)?t.src.clone??t.src:t.src;t.src=n;let i=r.validateOptions?await r.validateOptions(t,e):t,a=r.getSrcSet?await r.getSrcSet(i,e):[],o=await r.getURL(i,e),c=await Promise.all(a.map(async u=>({transform:u.transform,url:await r.getURL(u.transform,e),descriptor:u.descriptor,attributes:u.attributes})));if(ku(r)&&globalThis.astroAsset.addStaticImage&&!(Pu(i.src)&&o===i.src)){let u=r.propertiesToHash??aa;o=globalThis.astroAsset.addStaticImage(i,u),c=a.map(l=>({transform:l.transform,url:globalThis.astroAsset.addStaticImage(l.transform,u),descriptor:l.descriptor,attributes:l.attributes}))}return{rawOptions:t,options:i,src:o,srcSet:{values:c,attribute:c.map(u=>`${u.url} ${u.descriptor}`).join(", ")},attributes:r.getHTMLAttributes!==void 0?await r.getHTMLAttributes(i,e):{}}}var sa,ia,aa,tr,Ou,Bu,Lu,la=f(()=>{rt();Z();sa=["jpeg","jpg","png","tiff","webp","gif","svg","avif"],ia="webp",aa=["src","width","height","format","quality"];tr={propertiesToHash:aa,validateOptions(s){if(!s.src||typeof s.src!="string"&&typeof s.src!="object")throw new x({...us,message:us.message(JSON.stringify(s.src),typeof s.src,JSON.stringify(s,(e,r)=>r===void 0?null:r))});if(Fe(s.src)){if(!sa.includes(s.src.format))throw new x({...ls,message:ls.message(s.src.format,s.src.src,sa)});if(s.widths&&s.densities)throw new x(gn);if(s.src.format==="svg"&&(s.format="svg"),s.src.format==="svg"&&s.format!=="svg"||s.src.format!=="svg"&&s.format==="svg")throw new x(mn)}else{if(s.src.startsWith("/@fs/")||!Ie(s.src)&&!s.src.startsWith("/"))throw new x({...ps,message:ps.message(s.src)});let e;if(!s.width&&!s.height?e="both":!s.width&&s.height?e="width":s.width&&!s.height&&(e="height"),e)throw new x({...cs,message:cs.message(e,s.src)})}return s.format||(s.format=ia),s.width&&(s.width=Math.round(s.width)),s.height&&(s.height=Math.round(s.height)),s},getHTMLAttributes(s){let{targetWidth:e,targetHeight:r}=na(s),{src:t,width:n,height:i,format:a,quality:o,densities:c,widths:u,formats:l,...d}=s;return{...d,width:e,height:r,loading:d.loading??"lazy",decoding:d.decoding??"async"}},getSrcSet(s){let e=[],{targetWidth:r}=na(s),{widths:t,densities:n}=s,i=s.format??ia,a=s.width,o=1/0;Fe(s.src)&&(a=s.src.width,o=a);let{width:c,height:u,...l}=s,d=[];if(n){let p=n.map(m=>typeof m=="number"?m:parseFloat(m)),h=p.sort().map(m=>Math.round(r*m));d.push(...h.map((m,g)=>({maxTargetWidth:Math.min(m,o),descriptor:`${p[g]}x`})))}else t&&d.push(...t.map(p=>({maxTargetWidth:Math.min(p,o),descriptor:`${p}w`})));for(let{maxTargetWidth:p,descriptor:h}of d){let m={...l};p!==a?m.width=p:s.width&&s.height&&(m.width=s.width,m.height=s.height),e.push({transform:m,descriptor:h,attributes:{type:`image/${i}`}})}return e},getURL(s,e){let r=new URLSearchParams;if(Fe(s.src))r.append("href",s.src.src);else if(Bs(s.src,e))r.append("href",s.src);else return s.src;return Object.entries({w:"width",h:"height",q:"quality",f:"format"}).forEach(([i,a])=>{s[a]&&r.append(i,s[a].toString())}),`${ye("/","/_image")}?${r}`},parseURL(s){let e=s.searchParams;return e.has("href")?{src:e.get("href"),width:e.has("w")?parseInt(e.get("w")):void 0,height:e.has("h")?parseInt(e.get("h")):void 0,format:e.get("f"),quality:e.get("q")}:void 0}};Ou={propertiesToHash:["src"],validateOptions:tr.validateOptions,getURL:tr.getURL,parseURL:tr.parseURL,getHTMLAttributes:tr.getHTMLAttributes,async transform(s,e){return{data:s,format:e.format}}},Bu=Ou,Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Bu},Symbol.toStringTag,{value:"Module"}))});var da={};I(da,{GET:()=>Vu});async function Wu(s){try{let e=await fetch(s);return e.ok?await e.arrayBuffer():void 0}catch{return}}var ua,Iu,Uu,Nu,Mu,qu,zu,rr,Hu,Is,Vu,pa=f(()=>{rt();ua=ve(ra(),1);la();Z();Q();ne();Iu=s=>{let e=s.length,r=0,t=0,n=8997,i=0,a=33826,o=0,c=40164,u=0,l=52210;for(;r<e;)n^=s.charCodeAt(r++),t=n*435,i=a*435,o=c*435,u=l*435,o+=n<<8,u+=a<<8,i+=t>>>16,n=t&65535,o+=i>>>16,a=i&65535,l=u+(o>>>16)&65535,c=o&65535;return(l&15)*281474976710656+c*4294967296+a*65536+(n^l>>4)},Uu=(s,e=!1)=>(e?'W/"':'"')+Iu(s).toString(36)+s.length.toString(36)+'"',Nu=te(),Mu=N(async(s,e,r)=>{let t=s.createAstro(Nu,e,r);t.self=Mu;let n=t.props;if(n.alt===void 0||n.alt===null)throw new x(os);typeof n.width=="string"&&(n.width=parseInt(n.width)),typeof n.height=="string"&&(n.height=parseInt(n.height));let i=await Is(n),a={};return i.srcSet.values.length>0&&(a.srcset=i.srcSet.attribute),v`${q()}<img${S(i.src,"src")}${pe(a)}${pe(i.attributes)}>`},"/Users/aaronbaker/astro-directory-v2/node_modules/astro/components/Image.astro",void 0),qu=te(),zu=N(async(s,e,r)=>{let t=s.createAstro(qu,e,r);t.self=zu;let n=["webp"],i="png",a=["gif","svg","jpg","jpeg"],{formats:o=n,pictureAttributes:c={},fallbackFormat:u,...l}=t.props;if(l.alt===void 0||l.alt===null)throw new x(os);let d=await Promise.all(o.map(async D=>await Is({...l,format:D,widths:l.widths,densities:l.densities}))),p=u??i;!u&&Fe(l.src)&&a.includes(l.src.format)&&(p=l.src.format);let h=await Is({...l,format:p,widths:l.widths,densities:l.densities}),m={},g={};return l.sizes&&(g.sizes=l.sizes),h.srcSet.values.length>0&&(m.srcset=h.srcSet.attribute),v`${q()}<picture${pe(c)}> ${Object.entries(d).map(([D,E])=>{let b=l.densities||!l.densities&&!l.widths?`${E.src}${E.srcSet.values.length>0?", "+E.srcSet.attribute:""}`:E.srcSet.attribute;return v`<source${S(b,"srcset")}${S("image/"+E.options.format,"type")}${pe(g)}>`})} <img${S(h.src,"src")}${pe(m)}${pe(h.attributes)}> </picture>`},"/Users/aaronbaker/astro-directory-v2/node_modules/astro/components/Picture.astro",void 0),rr={service:{entrypoint:"astro/assets/services/noop",config:{}},domains:[],remotePatterns:[]},Hu=new URL("file:///Users/aaronbaker/astro-directory-v2/dist/");new URL("_astro",Hu);Is=async s=>await ca(s,rr);Vu=async({request:s})=>{try{let e=await Ls();if(!("transform"in e))throw new Error("Configured image service is not a local service");let r=new URL(s.url),t=await e.parseURL(r,rr);if(!t?.src)throw new Error("Incorrect transform returned by `parseURL`");let n,i=Ie(t.src)?new URL(t.src):new URL(t.src,r.origin);if(Ie(t.src)&&Bs(t.src,rr)===!1)return new Response("Forbidden",{status:403});if(n=await Wu(i),!n)return new Response("Not Found",{status:404});let{data:a,format:o}=await e.transform(new Uint8Array(n),t,rr);return new Response(a,{status:200,headers:{"Content-Type":ua.default.getType(o)??`image/${o}`,"Cache-Control":"public, max-age=31536000",ETag:Uu(a.toString()),Date:new Date().toUTCString()}})}catch(e){return new Response(`Server Error: ${e}`,{status:500})}}});var ha={};I(ha,{onRequest:()=>M,page:()=>Gu,renderers:()=>B});var Gu,fa=f(()=>{re();ae();Gu=()=>Promise.resolve().then(()=>(pa(),da))});var _e={};I(_e,{Headers:()=>Ns,Request:()=>Yu,Response:()=>Xu,default:()=>Us,fetch:()=>Ku});var Ju,ze,Ku,Us,Ns,Yu,Xu,fe=f(()=>{"use strict";Ju=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ze=Ju(),Ku=ze.fetch,Us=ze.fetch.bind(ze),Ns=ze.Headers,Yu=ze.Request,Xu=ze.Response});var ma,ga=f(()=>{ma=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(fe(),_e)).then(({default:t})=>t(...r)):e=fetch,(...r)=>e(...r)}});var pt,sr,ir,nr,ar,Da=f(()=>{pt=class extends Error{constructor(e,r="FunctionsError",t){super(e),this.name=r,this.context=t}},sr=class extends pt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ir=class extends pt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},nr=class extends pt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(ar||(ar={}))});var Qu,ht,va=f(()=>{ga();Da();Qu=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},ht=class{constructor(e,{headers:r={},customFetch:t,region:n=ar.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=ma(t)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var t;return Qu(this,void 0,void 0,function*(){try{let{headers:n,method:i,body:a}=r,o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;a&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));let l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),n),body:u}).catch(m=>{throw new sr(m)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new ir(l);if(!l.ok)throw new nr(l);let p=((t=l.headers.get("Content-Type"))!==null&&t!==void 0?t:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield l.json():p==="application/octet-stream"?h=yield l.blob():p==="text/event-stream"?h=l:p==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(n){return{data:null,error:n}}})}}});var ya=f(()=>{va()});var zs=L(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var Ms=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};qs.default=Ms});var Ws=L(ft=>{"use strict";var xa=ft&&ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ft,"__esModule",{value:!0});var Zu=xa((fe(),Uc(_e))),ed=xa(zs()),Hs=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zu.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let t=this.fetch,n=t(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let u=null,l=null,d=null,p=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){let E=await i.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=E:l=JSON.parse(E))}let g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),D=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&D&&D.length>1&&(d=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,p=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(l=[],u=null,p=200,h="OK")}catch{i.status===404&&g===""?(p=204,h="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,h="OK"),u&&this.shouldThrowOnError)throw new ed.default(u)}return{error:u,data:l,count:d,status:p,statusText:h}});return this.shouldThrowOnError||(n=n.catch(i=>{var a,o,c;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(o=i?.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}};ft.default=Hs});var Gs=L(mt=>{"use strict";var td=mt&&mt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mt,"__esModule",{value:!0});var rd=td(Ws()),Vs=class extends rd.default{select(e){let r=!1,t=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",t),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:t,foreignTable:n,referencedTable:i=n}={}){let a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:t=r}={}){let n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:t,referencedTable:n=t}={}){let i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:t=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;let c=[e?"analyze":null,r?"verbose":null,t?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mt.default=Vs});var or=L(gt=>{"use strict";var sd=gt&&gt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gt,"__esModule",{value:!0});var id=sd(Gs()),Js=class extends id.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){let t=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${t})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:t,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");let a=t===void 0?"":`(${t})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,t])=>{this.url.searchParams.append(r,`eq.${t}`)}),this}not(e,r,t){return this.url.searchParams.append(e,`not.${r}.${t}`),this}or(e,{foreignTable:r,referencedTable:t=r}={}){let n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,t){return this.url.searchParams.append(e,`${r}.${t}`),this}};gt.default=Js});var Ys=L(vt=>{"use strict";var nd=vt&&vt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vt,"__esModule",{value:!0});var Dt=nd(or()),Ks=class{constructor(e,{headers:r={},schema:t,fetch:n}){this.url=e,this.headers=r,this.schema=t,this.fetch=n}select(e,{head:r=!1,count:t}={}){let n=r?"HEAD":"GET",i=!1,a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),t&&(this.headers.Prefer=`count=${t}`),new Dt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:t=!0}={}){let n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),t||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){let a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){let o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Dt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:t=!1,count:n,defaultToNull:i=!0}={}){let a="POST",o=[`resolution=${t?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Dt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){let t="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Dt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let r="DELETE",t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Dt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vt.default=Ks});var ba=L(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.version=void 0;cr.version="0.0.0-automated"});var wa=L(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.DEFAULT_HEADERS=void 0;var ad=ba();lr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ad.version}`}});var _a=L(yt=>{"use strict";var Fa=yt&&yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yt,"__esModule",{value:!0});var od=Fa(Ys()),cd=Fa(or()),ld=wa(),Xs=class s{constructor(e,{headers:r={},schema:t,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},ld.DEFAULT_HEADERS),r),this.schemaName=t,this.fetch=n}from(e){let r=new URL(`${this.url}/${e}`);return new od.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:t=!1,get:n=!1,count:i}={}){let a,o=new URL(`${this.url}/rpc/${e}`),c;t||n?(a=t?"HEAD":"GET",Object.entries(r).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{o.searchParams.append(l,d)})):(a="POST",c=r);let u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new cd.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};yt.default=Xs});var Ta=L(U=>{"use strict";var He=U&&U.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(U,"__esModule",{value:!0});U.PostgrestError=U.PostgrestBuilder=U.PostgrestTransformBuilder=U.PostgrestFilterBuilder=U.PostgrestQueryBuilder=U.PostgrestClient=void 0;var Ea=He(_a());U.PostgrestClient=Ea.default;var Ca=He(Ys());U.PostgrestQueryBuilder=Ca.default;var Aa=He(or());U.PostgrestFilterBuilder=Aa.default;var Sa=He(Gs());U.PostgrestTransformBuilder=Sa.default;var ka=He(Ws());U.PostgrestBuilder=ka.default;var $a=He(zs());U.PostgrestError=$a.default;U.default={PostgrestClient:Ea.default,PostgrestQueryBuilder:Ca.default,PostgrestFilterBuilder:Aa.default,PostgrestTransformBuilder:Sa.default,PostgrestBuilder:ka.default,PostgrestError:$a.default}});var ja,Ra,Ef,Cf,Af,Sf,Pa=f(()=>{ja=ve(Ta(),1),{PostgrestClient:Ra,PostgrestQueryBuilder:Ef,PostgrestFilterBuilder:Cf,PostgrestTransformBuilder:Af,PostgrestBuilder:Sf}=ja.default});var Oa,Ba=f(()=>{Oa="2.10.9"});var La,Ia,dr,Ua,Ee,z,J,ur,me,pr=f(()=>{Ba();La={"X-Client-Info":`realtime-js/${Oa}`},Ia="1.0.0",dr=1e4,Ua=1e3;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ee||(Ee={}));(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(z||(z={}));(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(J||(J={}));(function(s){s.websocket="websocket"})(ur||(ur={}));(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(me||(me={}))});var xt,Na=f(()=>{xt=class{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let r=new DataView(e),t=new TextDecoder;return this._decodeBroadcast(e,r,t)}_decodeBroadcast(e,r,t){let n=r.getUint8(1),i=r.getUint8(2),a=this.HEADER_LENGTH+2,o=t.decode(e.slice(a,a+n));a=a+n;let c=t.decode(e.slice(a,a+i));a=a+i;let u=JSON.parse(t.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}});var Ce,Qs=f(()=>{Ce=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var R,ei,ud,Ma,Zs,dd,pd,hd,fd,md,hr,fr=f(()=>{(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(R||(R={}));ei=(s,e,r={})=>{var t;let n=(t=r.skipTypes)!==null&&t!==void 0?t:[];return Object.keys(e).reduce((i,a)=>(i[a]=ud(a,s,e,n),i),{})},ud=(s,e,r,t)=>{let n=e.find(o=>o.name===s),i=n?.type,a=r[s];return i&&!t.includes(i)?Ma(i,a):Zs(a)},Ma=(s,e)=>{if(s.charAt(0)==="_"){let r=s.slice(1,s.length);return fd(e,r)}switch(s){case R.bool:return dd(e);case R.float4:case R.float8:case R.int2:case R.int4:case R.int8:case R.numeric:case R.oid:return pd(e);case R.json:case R.jsonb:return hd(e);case R.timestamp:return md(e);case R.abstime:case R.date:case R.daterange:case R.int4range:case R.int8range:case R.money:case R.reltime:case R.text:case R.time:case R.timestamptz:case R.timetz:case R.tsrange:case R.tstzrange:return Zs(e);default:return Zs(e)}},Zs=s=>s,dd=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},pd=s=>{if(typeof s=="string"){let e=parseFloat(s);if(!Number.isNaN(e))return e}return s},hd=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},fd=(s,e)=>{if(typeof s!="string")return s;let r=s.length-1,t=s[r];if(s[0]==="{"&&t==="}"){let i,a=s.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Ma(e,o))}return s},md=s=>typeof s=="string"?s.replace(" ","T"):s,hr=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")}});var Ae,qa=f(()=>{pr();Ae=class{constructor(e,r,t={},n=dr){this.channel=e,this.event=r,this.payload=t,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var t;return this._hasReceived(e)&&r((t=this.receivedResp)===null||t===void 0?void 0:t.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(t=>t.status===e).forEach(t=>t.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}});var ti,We,ri=f(()=>{(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ti||(ti={}));We=class s{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let t=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(t.state,{},n=>{let{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=s.syncState(this.state,n,i,a),this.pendingDiffs.forEach(c=>{this.state=s.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(t.diff,{},n=>{let{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=s.syncDiff(this.state,n,i,a),o())}),this.onJoin((n,i,a)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:a})}),this.onLeave((n,i,a)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,t,n){let i=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(i,(u,l)=>{a[u]||(c[u]=l)}),this.map(a,(u,l)=>{let d=i[u];if(d){let p=l.map(D=>D.presence_ref),h=d.map(D=>D.presence_ref),m=l.filter(D=>h.indexOf(D.presence_ref)<0),g=d.filter(D=>p.indexOf(D.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(c[u]=g)}else o[u]=l}),this.syncDiff(i,{joins:o,leaves:c},t,n)}static syncDiff(e,r,t,n){let{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return t||(t=()=>{}),n||(n=()=>{}),this.map(i,(o,c)=>{var u;let l=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),l.length>0){let d=e[o].map(h=>h.presence_ref),p=l.filter(h=>d.indexOf(h.presence_ref)<0);e[o].unshift(...p)}t(o,l,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[o]=u,n(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(t=>r(t,e[t]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,t)=>{let n=e[t];return"metas"in n?r[t]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[t]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var si,ii,ni,Ve,ai=f(()=>{pr();qa();Qs();ri();fr();fr();(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(si||(si={}));(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ii||(ii={}));(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ni||(ni={}));Ve=class s{constructor(e,r={config:{}},t){this.topic=e,this.params=r,this.socket=t,this.bindings={},this.state=z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ae(this,J.join,this.params,this.timeout),this.rejoinTimer=new Ce(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=z.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this._on(J.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new We(this),this.broadcastEndpointURL=hr(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var t,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));let c={},u={broadcast:i,presence:a,postgres_changes:(n=(t=this.bindings.postgres_changes)===null||t===void 0?void 0:t.map(l=>l.filter))!==null&&n!==void 0?n:[],private:o};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:l})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{let p=this.bindings.postgres_changes,h=(d=p?.length)!==null&&d!==void 0?d:0,m=[];for(let g=0;g<h;g++){let D=p[g],{filter:{event:E,schema:b,table:w,filter:C}}=D,y=l&&l[g];if(y&&y.event===E&&y.schema===b&&y.table===w&&y.filter===C)m.push(Object.assign(Object.assign({},D),{id:y.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,t){return this._on(e,r,t)}async send(e,r={}){var t,n;if(!this._canPush()&&e.type==="broadcast"){let{event:i,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(t=r.timeout)!==null&&t!==void 0?t:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;let u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=z.leaving;let r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(J.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(t=>{let n=new Ae(this,J.leave,{},e);n.receive("ok",()=>{r(),t("ok")}).receive("timeout",()=>{r(),t("timed out")}).receive("error",()=>{t("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,r,t){let n=new AbortController,i=setTimeout(()=>n.abort(),t),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),a}_push(e,r,t=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ae(this,e,r,t);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,r,t){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,t){var n,i;let a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:l}=J;if(t&&[o,c,u,l].indexOf(a)>=0&&t!==this._joinRef())return;let p=this._onMessage(a,r,t);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(h=>{var m,g,D;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((D=(g=h.filter)===null||g===void 0?void 0:g.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===a}).map(h=>h.callback(p,t)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var m,g,D,E,b,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let C=h.id,y=(m=h.filter)===null||m===void 0?void 0:m.event;return C&&((g=r.ids)===null||g===void 0?void 0:g.includes(C))&&(y==="*"||y?.toLocaleLowerCase()===((D=r.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{let C=(b=(E=h?.filter)===null||E===void 0?void 0:E.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let m=p.data,{schema:g,table:D,commit_timestamp:E,type:b,errors:w}=m;p=Object.assign(Object.assign({},{schema:g,table:D,commit_timestamp:E,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(p,t)})}_isClosed(){return this.state===z.closed}_isJoined(){return this.state===z.joined}_isJoining(){return this.state===z.joining}_isLeaving(){return this.state===z.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,t){let n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:t};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){let t=e.toLocaleLowerCase();return this.bindings[t]=this.bindings[t].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===t&&s.isEqual(n.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let t in e)if(e[t]!==r[t])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(J.close,{},e)}_onError(e){this._on(J.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=z.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ei(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ei(e.columns,e.old_record)),r}}});var Ha=L((Hf,za)=>{"use strict";za.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var Dd,vd,yd,Ge,oi,Wa=f(()=>{pr();Na();Qs();fr();ai();Dd=()=>{},vd=typeof WebSocket<"u",yd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ge=class{constructor(e,r){var t;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=La,this.params={},this.timeout=dr,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Dd,this.conn=null,this.sendBuffer=[],this.serializer=new xt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Promise.resolve().then(()=>(fe(),_e)).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${ur.websocket}`,this.httpEndpoint=hr(e),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);let n=(t=r?.params)===null||t===void 0?void 0:t.apikey;if(n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r?.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ce(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(vd){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new oi(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Promise.resolve().then(()=>ve(Ha())).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){let e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,t){this.logger(e,r,t)}connectionState(){switch(this.conn&&this.conn.readyState){case Ee.connecting:return me.Connecting;case Ee.open:return me.Open;case Ee.closing:return me.Closing;default:return me.Closed}}isConnected(){return this.connectionState()===me.Open}channel(e,r={config:{}}){let t=new Ve(`realtime:${e}`,r,this);return this.channels.push(t),t}push(e){let{topic:r,event:t,payload:n,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${t} (${i})`,n),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e){if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0)){this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);return}}this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(J.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ia}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:t,event:n,payload:i,ref:a}=r;(a&&a===this.pendingHeartbeatRef||n===i?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${t} ${n} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(t)).forEach(o=>o._trigger(n,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(J.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;let t=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${t}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ua,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let r;if(e)r=e;else{let t=new Blob([yd],{type:"application/javascript"});r=URL.createObjectURL(t)}return r}},oi=class{constructor(e,r,t){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ee.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=t.close}}});var ci=f(()=>{Wa();ai();ri()});function P(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Je,mr,Se,bt=f(()=>{Je=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};mr=class extends Je{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Se=class extends Je{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}});var xd,Dr,Va,gr,vr=f(()=>{xd=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},Dr=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(fe(),_e)).then(({default:t})=>t(...r)):e=fetch,(...r)=>e(...r)},Va=()=>xd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>(fe(),_e))).Response:Response}),gr=s=>{if(Array.isArray(s))return s.map(r=>gr(r));if(typeof s=="function"||s!==Object(s))return s;let e={};return Object.entries(s).forEach(([r,t])=>{let n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=gr(t)}),e}});function wt(s,e,r,t,n,i){return ke(this,void 0,void 0,function*(){return new Promise((a,o)=>{s(r,wd(e,t,n,i)).then(c=>{if(!c.ok)throw c;return t?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>bd(c,o,t))})})}function Ke(s,e,r,t){return ke(this,void 0,void 0,function*(){return wt(s,"GET",e,r,t)})}function se(s,e,r,t,n){return ke(this,void 0,void 0,function*(){return wt(s,"POST",e,t,n,r)})}function Ga(s,e,r,t,n){return ke(this,void 0,void 0,function*(){return wt(s,"PUT",e,t,n,r)})}function Ja(s,e,r,t){return ke(this,void 0,void 0,function*(){return wt(s,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),t)})}function yr(s,e,r,t,n){return ke(this,void 0,void 0,function*(){return wt(s,"DELETE",e,t,n,r)})}var ke,li,bd,wd,ui=f(()=>{bt();vr();ke=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},li=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),bd=(s,e,r)=>ke(void 0,void 0,void 0,function*(){let t=yield Va();s instanceof t&&!r?.noResolveJson?s.json().then(n=>{e(new mr(li(n),s.status||500))}).catch(n=>{e(new Se(li(n),n))}):e(new Se(li(s),s))}),wd=(s,e,r,t)=>{let n={method:s,headers:e?.headers||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),t&&(n.body=JSON.stringify(t)),Object.assign(Object.assign({},n),r))}});var H,Fd,Ka,Ft,Ya=f(()=>{bt();ui();vr();H=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},Fd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ka={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ft=class{constructor(e,r={},t,n){this.url=e,this.headers=r,this.bucketId=t,this.fetch=Dr(n)}uploadOrUpdate(e,r,t,n){return H(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},Ka),n),o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&t instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",t)):typeof FormData<"u"&&t instanceof FormData?(i=t,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=t,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n?.headers&&(o=Object.assign(Object.assign({},o),n.headers));let u=this._removeEmptyFolders(r),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:o},a?.duplex?{duplex:a.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(P(i))return{data:null,error:i};throw i}})}upload(e,r,t){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,t)})}uploadToSignedUrl(e,r,t,n){return H(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c,u=Object.assign({upsert:Ka.upsert},n),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&t instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",t)):typeof FormData<"u"&&t instanceof FormData?(c=t,c.append("cacheControl",u.cacheControl)):(c=t,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:l}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(P(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return H(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),n=Object.assign({},this.headers);r?.upsert&&(n["x-upsert"]="true");let i=yield se(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:n}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Je("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}update(e,r,t){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,t)})}move(e,r,t){return H(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:t?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}})}copy(e,r,t){return H(this,void 0,void 0,function*(){try{return{data:{path:(yield se(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:t?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,t){return H(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield se(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},t?.transform?{transform:t.transform}:{}),{headers:this.headers}),a=t?.download?`&download=${t.download===!0?"":t.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,t){return H(this,void 0,void 0,function*(){try{let n=yield se(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:n.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}})}download(e,r){return H(this,void 0,void 0,function*(){let n=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),a=i?`?${i}`:"";try{let o=this._getFinalPath(e);return{data:yield(yield Ke(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(P(o))return{data:null,error:o};throw o}})}info(e){return H(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{let t=yield Ke(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gr(t),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}exists(e){return H(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{return yield Ja(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if(P(t)&&t instanceof Se){let n=t.originalError;if([400,404].includes(n?.status))return{data:!1,error:t}}throw t}})}getPublicUrl(e,r){let t=this._getFinalPath(e),n=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);let o=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${u}`)}}}remove(e){return H(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}list(e,r,t){return H(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},Fd),r),{prefix:e||""});return{data:yield se(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}});var Xa,Qa=f(()=>{Xa="2.7.1"});var Za,eo=f(()=>{Qa();Za={"X-Client-Info":`storage-js/${Xa}`}});var Ye,_t,to=f(()=>{eo();bt();ui();vr();Ye=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},_t=class{constructor(e,r={},t){this.url=e,this.headers=Object.assign(Object.assign({},Za),r),this.fetch=Dr(t)}listBuckets(){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(P(e))return{data:null,error:e};throw e}})}getBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ye(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}updateBucket(e,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}emptyBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}}});var Et,ro=f(()=>{Ya();to();Et=class extends _t{constructor(e,r={},t){super(e,r,t)}from(e){return new Ft(this.url,this.headers,e,this.fetch)}}});var so=f(()=>{});var io=f(()=>{ro();so();bt()});var no,ao=f(()=>{no="2.46.2"});var Ct,_d,oo,co,lo,uo,po=f(()=>{ao();Ct="";typeof Deno<"u"?Ct="deno":typeof document<"u"?Ct="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ct="react-native":Ct="node";_d={"X-Client-Info":`supabase-js-${Ct}/${no}`},oo={headers:_d},co={schema:"public"},lo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uo={}});var Ed,Cd,Ad,ho,fo=f(()=>{fe();Ed=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},Cd=s=>{let e;return s?e=s:typeof fetch>"u"?e=Us:e=fetch,(...r)=>e(...r)},Ad=()=>typeof Headers>"u"?Ns:Headers,ho=(s,e,r)=>{let t=Cd(r),n=Ad();return(i,a)=>Ed(void 0,void 0,void 0,function*(){var o;let c=(o=yield e())!==null&&o!==void 0?o:s,u=new n(a?.headers);return u.has("apikey")||u.set("apikey",s),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),t(i,Object.assign(Object.assign({},a),{headers:u}))})}});function mo(s){return s.replace(/\/$/,"")}function go(s,e){let{db:r,auth:t,realtime:n,global:i}=s,{db:a,auth:o,realtime:c,global:u}=e,l={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),t),realtime:Object.assign(Object.assign({},c),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Sd(this,void 0,void 0,function*(){return""})};return s.accessToken?l.accessToken=s.accessToken:delete l.accessToken,l}var Sd,Do=f(()=>{Sd=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})}});var xr,di=f(()=>{xr="2.65.1"});var vo,yo,xo,pi,At,hi,br=f(()=>{di();vo="http://localhost:9999",yo="supabase.auth.token",xo={"X-Client-Info":`gotrue-js/${xr}`},pi=10,At="X-Supabase-Api-Version",hi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}}});function bo(s){return Math.round(Date.now()/1e3)+s}function wo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){let e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}function wr(s){let e={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((t,n)=>{e[n]=t}),e}function kd(s){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",t,n,i,a,o,c,u,l=0;for(s=s.replace("-","+").replace("_","/");l<s.length;)a=e.indexOf(s.charAt(l++)),o=e.indexOf(s.charAt(l++)),c=e.indexOf(s.charAt(l++)),u=e.indexOf(s.charAt(l++)),t=a<<2|o>>4,n=(o&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(t),c!=64&&n!=0&&(r=r+String.fromCharCode(n)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}function mi(s){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=s.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");let t=r[1];return JSON.parse(kd(t))}async function _o(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function Eo(s,e){return new Promise((t,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{let a=await s(i);if(!e(i,null,a)){t(a);return}}catch(a){if(!e(i,a)){n(a);return}}})()})}function $d(s){return("0"+s.toString(16)).substr(-2)}function Td(){let e=new Uint32Array(56);if(typeof crypto>"u"){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=r.length,n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,$d).join("")}async function jd(s){let r=new TextEncoder().encode(s),t=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(t);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Rd(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pd(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;let r=await jd(s);return Rd(r)}async function Te(s,e,r=!1){let t=Td(),n=t;r&&(n+="/PASSWORD_RECOVERY"),await fi(s,`${e}-code-verifier`,n);let i=await Pd(t);return[i,t===i?"plain":"s256"]}function Co(s){let e=s.headers.get(At);if(!e||!e.match(Od))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}var Y,$e,ge,Fr,Fo,fi,kt,$t,St,Od,Xe=f(()=>{br();Y=()=>typeof document<"u",$e={tested:!1,writable:!1},ge=()=>{if(!Y())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($e.tested)return $e.writable;let s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),$e.tested=!0,$e.writable=!0}catch{$e.tested=!0,$e.writable=!1}return $e.writable};Fr=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(fe(),_e)).then(({default:t})=>t(...r)):e=fetch,(...r)=>e(...r)},Fo=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",fi=async(s,e,r)=>{await s.setItem(e,JSON.stringify(r))},kt=async(s,e)=>{let r=await s.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$t=async(s,e)=>{await s.removeItem(e)};St=class s{constructor(){this.promise=new s.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};St.promiseConstructor=Promise;Od=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i});function _(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}function Ao(s){return _(s)&&s.name==="AuthApiError"}function So(s){return _(s)&&s.name==="AuthSessionMissingError"}function Er(s){return _(s)&&s.name==="AuthRetryableFetchError"}var Tt,_r,Qe,oe,X,Ze,je,Re,jt,et,Rt,Pt=f(()=>{Tt=class extends Error{constructor(e,r,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=t}};_r=class extends Tt{constructor(e,r,t){super(e,r,t),this.name="AuthApiError",this.status=r,this.code=t}};Qe=class extends Tt{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},oe=class extends Tt{constructor(e,r,t,n){super(e,t,n),this.name=r,this.status=t}},X=class extends oe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Ze=class extends oe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},je=class extends oe{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Re=class extends oe{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},jt=class extends oe{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},et=class extends oe{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};Rt=class extends oe{constructor(e,r,t){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=t}}});async function ko(s){var e;if(!Fo(s))throw new et(Pe(s),0);if(Ld.includes(s.status))throw new et(Pe(s),s.status);let r;try{r=await s.json()}catch(i){throw new Qe(Pe(i),i)}let t,n=Co(s);if(n&&n.getTime()>=hi["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?t=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(t=r.error_code),t){if(t==="weak_password")throw new Rt(Pe(r),s.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(t==="session_not_found")throw new X}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Rt(Pe(r),s.status,r.weak_password.reasons);throw new _r(Pe(r),s.status||500,t)}async function A(s,e,r,t){var n;let i=Object.assign({},t?.headers);i[At]||(i[At]=hi["2024-01-01"].name),t?.jwt&&(i.Authorization=`Bearer ${t.jwt}`);let a=(n=t?.query)!==null&&n!==void 0?n:{};t?.redirectTo&&(a.redirect_to=t.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Ud(s,e,r+o,{headers:i,noResolveJson:t?.noResolveJson},{},t?.body);return t?.xform?t?.xform(c):{data:Object.assign({},c),error:null}}async function Ud(s,e,r,t,n,i){let a=Id(e,t,n,i),o;try{o=await s(r,Object.assign({},a))}catch(c){throw console.error(c),new et(Pe(c),0)}if(o.ok||await ko(o),t?.noResolveJson)return o;try{return await o.json()}catch(c){await ko(c)}}function ce(s){var e;let r=null;Nd(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=bo(s.expires_in)));let t=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:r,user:t},error:null}}function gi(s){let e=ce(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,t)=>r&&typeof t=="string",!0)&&(e.data.weak_password=s.weak_password),e}function ie(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function $o(s){return{data:s,error:null}}function To(s){let{action_link:e,email_otp:r,hashed_token:t,redirect_to:n,verification_type:i}=s,a=Bd(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:t,redirect_to:n,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function jo(s){return s}function Nd(s){return s.access_token&&s.refresh_token&&s.expires_in}var Bd,Pe,Ld,Id,Di=f(()=>{br();Xe();Pt();Bd=function(s,e){var r={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(r[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(s);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(s,t[n])&&(r[t[n]]=s[t[n]]);return r},Pe=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ld=[502,503,504];Id=(s,e,r,t)=>{let n={method:s,headers:e?.headers||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(t),Object.assign(Object.assign({},n),r))}});var Md,Oe,Cr=f(()=>{Di();Xe();Pt();Md=function(s,e){var r={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(r[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(s);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(s,t[n])&&(r[t[n]]=s[t[n]]);return r},Oe=class{constructor({url:e="",headers:r={},fetch:t}){this.url=e,this.headers=r,this.fetch=Fr(t),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(_(t))return{data:null,error:t};throw t}}async inviteUserByEmail(e,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ie})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}async generateLink(e){try{let{options:r}=e,t=Md(e,["options"]),n=Object.assign(Object.assign({},t),r);return"newEmail"in t&&(n.new_email=t?.newEmail,delete n.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:To,redirectTo:r?.redirectTo})}catch(r){if(_(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ie})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,t,n,i,a,o,c;try{let u={nextPage:null,lastPage:0,total:0},l=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(t=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&t!==void 0?t:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:jo});if(l.error)throw l.error;let d=await l.json(),p=(a=l.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(o=l.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(m.split(";")[1].split("=")[1]);u[`${D}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ie})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ie})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}async deleteUser(e,r=!1){try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ie})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}async _listFactors(e){try{let{data:r,error:t}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:t}}catch(r){if(_(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}}});function vi(s={}){return{getItem:e=>s[e]||null,setItem:(e,r)=>{s[e]=r},removeItem:e=>{delete s[e]}}}var Ro,Po=f(()=>{Xe();Ro={getItem:s=>ge()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{ge()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{ge()&&globalThis.localStorage.removeItem(s)}}});function Oo(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Bo=f(()=>{});async function yi(s,e,r){Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);let t=new globalThis.AbortController;return e>0&&setTimeout(()=>{t.abort(),Be.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:t.signal},async n=>{if(n){Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return await r()}finally{Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(e===0)throw Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Ar(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Be.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}var Be,Ot,Ar,xi=f(()=>{Xe();Be={debug:!!(globalThis&&ge()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ot=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Ar=class extends Ot{}});async function Io(s,e,r){return await r()}var qd,Bt,Lo,Le,bi=f(()=>{Cr();br();Pt();Di();Xe();Po();Bo();di();xi();Oo();qd={url:vo,storageKey:yo,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xo,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Bt=30*1e3,Lo=3;Le=class s{constructor(e){var r,t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=s.nextInstanceID,s.nextInstanceID+=1,this.instanceID>0&&Y()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let n=Object.assign(Object.assign({},qd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Oe({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Fr(n.fetch),this.lock=n.lock||Io,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Y()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=yi:this.lock=Io,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ge()?this.storage=Ro:(this.memoryStorage={},this.storage=vi(this.memoryStorage)):(this.memoryStorage={},this.storage=vi(this.memoryStorage)),Y()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xr}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let e=Y()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:t}=await this._getSessionFromURL(e);if(t)return this._debug("#_initialize()","error detecting session from URL",t),t?.code==="identity_already_exists"?{error:t}:(await this._removeSession(),{error:t});let{session:n,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return _(e)?{error:e}:{error:new Qe("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,t,n;try{let i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(t=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ce}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,t,n;try{let i;if("email"in e){let{email:l,password:d,options:p}=e,h=null,m=null;this.flowType==="pkce"&&([h,m]=await Te(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:l,password:d,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:m},xform:ce})}else if("phone"in e){let{phone:l,password:d,options:p}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:d,data:(t=p?.data)!==null&&t!==void 0?t:{},channel:(n=p?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ce})}else throw new je("You must provide either an email or phone number and a password");let{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){let{email:i,password:a,options:o}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:gi})}else if("phone"in e){let{phone:i,password:a,options:o}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:gi})}else throw new je("You must provide either an email or phone number and a password");let{data:t,error:n}=r;return n?{data:{user:null,session:null},error:n}:!t||!t.session||!t.user?{data:{user:null,session:null},error:new Ze}:(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({user:t.user,session:t.session},t.weak_password?{weakPassword:t.weak_password}:null),error:n})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,t,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(t=e.options)===null||t===void 0?void 0:t.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await kt(this.storage,`${this.storageKey}-code-verifier`),[t,n]=(r??"").split("/");try{let{data:i,error:a}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:ce});if(await $t(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ze}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:a})}catch(i){if(_(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{let{options:r,provider:t,token:n,access_token:i,nonce:a}=e,o=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:t,id_token:n,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ce}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ze}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,t,n,i,a;try{if("email"in e){let{email:o,options:c}=e,u=null,l=null;this.flowType==="pkce"&&([u,l]=await Te(this.storage,this.storageKey));let{error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(t=c?.shouldCreateUser)!==null&&t!==void 0?t:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){let{phone:o,options:c}=e,{data:u,error:l}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:l}}throw new je("You must provide either an email or phone number.")}catch(o){if(_(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,t;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(t=e.options)===null||t===void 0?void 0:t.captchaToken);let{data:a,error:o}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ce});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,t,n;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Te(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(t=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&t!==void 0?t:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:$o})}catch(i){if(_(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:t}=e;if(t)throw t;if(!r)throw new X;let{error:n}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(_(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let r=`${this.url}/resend`;if("email"in e){let{email:t,type:n,options:i}=e,{error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:t,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:t,type:n,options:i}=e,{data:a,error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:t,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new je("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await t,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let t=r();for(this.pendingInLock.push((async()=>{try{await t}catch{}})()),await t;this.pendingInLock.length;){let n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let t=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${t?"":" not"} expired`,"expires_at",e.expires_at),!t){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,l)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,l))})}return{data:{session:e},error:null}}let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ie}):await this._useSession(async r=>{var t,n,i;let{data:a,error:o}=r;if(o)throw o;return!(!((t=a.session)===null||t===void 0)&&t.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new X}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ie})})}catch(r){if(_(r))return So(r)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async t=>{let{data:n,error:i}=t;if(i)throw i;if(!n.session)throw new X;let a=n.session,o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Te(this.storage,this.storageKey));let{data:u,error:l}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:ie});if(l)throw l;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}_decodeJWT(e){return mi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new X;let r=Date.now()/1e3,t=r,n=!0,i=null,a=mi(e.access_token);if(a.exp&&(t=a.exp,n=t<=r),n){let{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{let{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:t-r,expires_at:t},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var t;if(!e){let{data:a,error:o}=r;if(o)throw o;e=(t=a.session)!==null&&t!==void 0?t:void 0}if(!e?.refresh_token)throw new X;let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!Y())throw new Re("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Re("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new jt("Not a valid PKCE flow url.");let r=wr(window.location.href);if(e){if(!r.code)throw new jt("No code detected.");let{data:b,error:w}=await this._exchangeCodeForSession(r.code);if(w)throw w;let C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Re(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:t,provider_refresh_token:n,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=r;if(!i||!o||!a||!u)throw new Re("No session defined in URL");let l=Math.round(Date.now()/1e3),d=parseInt(o),p=l+d;c&&(p=parseInt(c));let h=p-l;h*1e3<=Bt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);let m=p-d;l-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,l):l-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,l);let{data:g,error:D}=await this._getUser(i);if(D)throw D;let E={provider_token:t,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:p,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:r.type},error:null}}catch(r){if(_(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){let e=wr(window.location.href);return!!(Y()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=wr(window.location.href),r=await kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var t;let{data:n,error:i}=r;if(i)return{error:i};let a=(t=n.session)===null||t===void 0?void 0:t.access_token;if(a){let{error:o}=await this.admin.signOut(a,e);if(o&&!(Ao(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let r=wo(),t={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,t),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:t}}}async _emitInitialSession(e){return await this._useSession(async r=>{var t,n;try{let{data:{session:i},error:a}=r;if(a)throw a;await((t=this.stateChangeEmitters.get(e))===null||t===void 0?void 0:t.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let t=null,n=null;this.flowType==="pkce"&&([t,n]=await Te(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:t,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(_(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{let{data:r,error:t}=await this.getUser();if(t)throw t;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:t,error:n}=await this._useSession(async i=>{var a,o,c,u,l;let{data:d,error:p}=i;if(p)throw p;let h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",h,{headers:this.headers,jwt:(l=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(n)throw n;return Y()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(t?.url),{data:{provider:e.provider,url:t?.url},error:null}}catch(t){if(_(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var t,n;let{data:i,error:a}=r;if(a)throw a;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let t=Date.now();return await Eo(async n=>(n>0&&await _o(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ce})),(n,i)=>{let a=200*Math.pow(2,n);return i&&Er(i)&&Date.now()+a-t<Bt})}catch(t){if(this._debug(r,"error",t),_(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let t=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",t),Y()&&!r.skipBrowserRedirect&&window.location.assign(t),{data:{provider:e,url:t},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let t=await kt(this.storage,this.storageKey);if(this._debug(r,"session from storage",t),!this._isValidSession(t)){this._debug(r,"session is not valid"),t!==null&&await this._removeSession();return}let n=Math.round(Date.now()/1e3),i=((e=t.expires_at)!==null&&e!==void 0?e:1/0)<n+pi;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${pi}s`),i){if(this.autoRefreshToken&&t.refresh_token){let{error:a}=await this._callRefreshToken(t.refresh_token);a&&(console.error(a),Er(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){this._debug(r,"error",t),console.error(t);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,t;if(!e)throw new X;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new St;let{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new X;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);let o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(n,"error",i),_(i)){let a={session:null,error:i};return Er(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(t=this.refreshingDeferred)===null||t===void 0||t.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,t=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${t}`);try{this.broadcastChannel&&t&&this.broadcastChannel.postMessage({event:e,session:r});let i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $t(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Y()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Bt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:t}}=r;if(!t||!t.refresh_token||!t.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let n=Math.floor((t.expires_at*1e3-e)/Bt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Bt}ms, refresh threshold is ${Lo} ticks`),n<=Lo&&await this._callRefreshToken(t.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ot)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Y()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,t){let n=[`provider=${encodeURIComponent(r)}`];if(t?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t?.scopes&&n.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){let[i,a]=await Te(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});n.push(o.toString())}if(t?.queryParams){let i=new URLSearchParams(t.queryParams);n.push(i.toString())}return t?.skipBrowserRedirect&&n.push(`skip_http_redirect=${t.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var t;let{data:n,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=n?.session)===null||t===void 0?void 0:t.access_token})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var t,n;let{data:i,error:a}=r;if(a)return{data:null,error:a};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(t=i?.session)===null||t===void 0?void 0:t.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=c?.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var t;let{data:n,error:i}=r;if(i)return{data:null,error:i};let{data:a,error:o}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=n?.session)===null||t===void 0?void 0:t.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var t;let{data:n,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(t=n?.session)===null||t===void 0?void 0:t.access_token})})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:t}=await this._challenge({factorId:e.factorId});return t?{data:null,error:t}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let t=e?.factors||[],n=t.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=t.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:t,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,t;let{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(n.access_token),o=null;a.aal&&(o=a.aal);let c=o;((t=(r=n.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");let l=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}};Le.nextInstanceID=0});var Uo=f(()=>{Cr()});var zd,wi,No=f(()=>{bi();zd=Le,wi=zd});var Mo=f(()=>{});var Fi=f(()=>{Cr();bi();Uo();No();Mo();Pt();xi()});var Sr,qo=f(()=>{Fi();Sr=class extends wi{constructor(e){super(e)}}});var Hd,Lt,zo=f(()=>{ya();Pa();ci();io();po();fo();Do();qo();Hd=function(s,e,r,t){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},Lt=class{constructor(e,r,t){var n,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");let o=mo(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:co,realtime:uo,auth:Object.assign(Object.assign({},lo),{storageKey:c}),global:oo},l=go(t??{},u);this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=l.auth)!==null&&a!==void 0?a:{},this.headers,l.global.fetch),this.fetch=ho(r,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},l.realtime)),this.rest=new Ra(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new ht(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Et(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},t={}){return this.rest.rpc(e,r,t)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Hd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:t}=yield this.auth.getSession();return(r=(e=t.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:t,storage:n,storageKey:i,flowType:a,lock:o,debug:c},u,l){var d;let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sr({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:t,storage:n,flowType:a,lock:o,debug:c,fetch:l,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Ge(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t?.access_token)})}_handleTokenChanged(e,r,t){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}});var Ho,Wo=f(()=>{zo();Fi();ci();Ho=(s,e,r)=>new Lt(s,e,r)});var Go={};I(Go,{$:()=>ee,_:()=>Qd,s:()=>W});var Wd,ee,Vd,Gd,W,Jd,Kd,Vo,Yd,Xd,Qd,De=f(()=>{Z();Q();ne();Wo();Wd=te(),ee=N((s,e,r)=>{let t=s.createAstro(Wd,e,r);t.self=ee;let{title:n,description:i="Discover and explore amazing places in your area",image:a="/og-image.jpg",canonicalURL:o=t.url.href}=t.props,c="Places Directory",u=n===c?n:`${n} | ${c}`;return v`<html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator"${S(t.generator,"content")}><!-- Primary Meta Tags --><title>${u}</title><meta name="title"${S(u,"content")}><meta name="description"${S(i,"content")}><!-- Canonical URL --><link rel="canonical"${S(o,"href")}><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url"${S(t.url.href,"content")}><meta property="og:title"${S(u,"content")}><meta property="og:description"${S(i,"content")}>${a&&v`<meta property="og:image"${S(new URL(a,t.url),"content")}>`}<!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url"${S(t.url.href,"content")}><meta property="twitter:title"${S(u,"content")}><meta property="twitter:description"${S(i,"content")}>${a&&v`<meta property="twitter:image"${S(new URL(a,t.url),"content")}>`}<!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"><!-- Additional Meta Tags -->${at(s,r.head)}${Yt()}</head> <body class="bg-gray-50 min-h-screen font-['Inter']"> <nav class="bg-white shadow-sm"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> <div class="flex justify-between h-16"> <div class="flex"> <a href="/" class="flex items-center text-primary-600 font-semibold text-lg">
 ${c} </a> </div> <div class="flex items-center space-x-4"> <a href="/directory" class="text-gray-600 hover:text-gray-900">
Directory
</a> <a href="/schema" class="text-gray-600 hover:text-gray-900">
Schema
</a> </div> </div> </div> </nav> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"> ${at(s,r.default)} </main> <footer class="bg-white border-t border-gray-200 mt-12"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"> <p class="text-center text-gray-500 text-sm">
 ${new Date().getFullYear()} ${c}. All rights reserved.
</p> </div> </footer> </body></html>`},"/Users/aaronbaker/astro-directory-v2/src/layouts/Layout.astro",void 0),Vd="https://xynhhmliqdvyzrqnlvmk.supabase.co",Gd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5bmhobWxpcWR2eXpycW5sdm1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI5MzAxMzMsImV4cCI6MjA0ODUwNjEzM30.9CQJDsQNph80lCbckTf5lCCaTf5tSLLvonHx21WTIqw",W=Ho(Vd,Gd),Jd=async()=>{let{data:s,error:e}=await W.from("places").select("count");e?console.error("Supabase connection error:",e):console.log("Supabase connected successfully")};Jd();Kd=te(),Vo=N(async(s,e,r)=>{let t=s.createAstro(Kd,e,r);t.self=Vo;let{id:n}=t.params,{data:i,error:a}=await W.from("places").select(`
    id,
    title,
    rating,
    rating_count,
    category,
    phone_number,
    website,
    address,
    latitude,
    longitude,
    cid,
    created_at
  `).eq("id",n).single();return a?new Response("Place not found",{status:404}):v`${K(s,"Layout",ee,{title:i.title},{default:o=>v` ${q()}<div class="max-w-3xl mx-auto"> <nav class="mb-6"> <a href="/directory" class="text-primary-600 hover:text-primary-700 flex items-center gap-1"> <span></span> Back to Directory
</a> </nav> <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-8"> <header class="mb-8"> <h1 class="text-3xl font-bold text-gray-900 mb-2">${i.title}</h1> ${i.category&&v`<p class="text-primary-600 font-medium">${i.category}</p>`} </header> ${i.rating&&v`<div class="mb-8 pb-8 border-b border-gray-100"> <h2 class="text-lg font-semibold mb-2">Rating</h2> <div class="flex items-center"> <span class="text-yellow-400 text-2xl"></span> <span class="ml-2 text-xl font-medium">${i.rating}</span> ${i.rating_count&&v`<span class="text-gray-500 ml-2">
(${i.rating_count.toLocaleString()} reviews)
</span>`} </div> </div>`} ${i.address&&v`<div class="mb-8 pb-8 border-b border-gray-100"> <h2 class="text-lg font-semibold mb-2">Location</h2> <p class="text-gray-600">${i.address}</p> ${i.latitude&&i.longitude&&v`<a${S(`https://www.google.com/maps/search/?api=1&query=${i.latitude},${i.longitude}`,"href")} target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-primary-600 hover:text-primary-700 mt-3"> <span class="mr-1"></span> View on Google Maps
</a>`} </div>`} <div class="space-y-6"> ${i.phone_number&&v`<div> <h2 class="text-lg font-semibold mb-2">Contact</h2> <a${S(`tel:${i.phone_number}`,"href")} class="text-primary-600 hover:text-primary-700 flex items-center gap-2"> <span></span> ${i.phone_number} </a> </div>`} ${i.website&&v`<div> <h2 class="text-lg font-semibold mb-2">Website</h2> <a${S(i.website,"href")} target="_blank" rel="noopener noreferrer" class="text-primary-600 hover:text-primary-700 flex items-center gap-2"> <span></span>
Visit Website
</a> </div>`} </div> <footer class="mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500"> <p>Listed since ${new Date(i.created_at).toLocaleDateString()}</p> </footer> </div> </div> `})}`},"/Users/aaronbaker/astro-directory-v2/src/pages/places/[id].astro",void 0),Yd="/Users/aaronbaker/astro-directory-v2/src/pages/places/[id].astro",Xd="/places/[id]",Qd=Object.freeze(Object.defineProperty({__proto__:null,default:Vo,file:Yd,url:Xd},Symbol.toStringTag,{value:"Module"}))});var Jo={};I(Jo,{default:()=>Zd,file:()=>ep,url:()=>tp});var Zd,ep,tp,Ko=f(()=>{Z();Q();ne();De();Zd=N((s,e,r)=>v`${K(s,"Layout",ee,{title:"Welcome to Places Directory"},{default:t=>v` ${q()}<div class="max-w-3xl mx-auto text-center"> <h1 class="text-4xl font-bold text-gray-900 mb-6">
Welcome to Places Directory
</h1> <p class="text-lg text-gray-600 mb-8">
Discover and explore amazing places in your area.
</p> <a href="/directory" class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors">
View Directory
</a> </div> `})}`,"/Users/aaronbaker/astro-directory-v2/src/pages/index.astro",void 0),ep="/Users/aaronbaker/astro-directory-v2/src/pages/index.astro",tp=""});var Yo={};I(Yo,{onRequest:()=>M,page:()=>rp,renderers:()=>B});var rp,Xo=f(()=>{re();ae();rp=()=>Promise.resolve().then(()=>(Ko(),Jo))});var Zo={};I(Zo,{default:()=>Qo,file:()=>ip,url:()=>np});var sp,Qo,ip,np,ec=f(()=>{Z();Q();De();sp=te(),Qo=N(async(s,e,r)=>{let t=s.createAstro(sp,e,r);t.self=Qo;function n(w,C){return`${w.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}-${C}`}let i=new URL(t.request.url),a=i.searchParams.get("search")||"",o=i.searchParams.get("category")||"",c=parseInt(i.searchParams.get("page")||"1"),u=12,l={1:"Masonry Contractors",2:"Chimney Repair",3:"Roofing Services",4:"Brick Repair"},d=Object.entries(l).reduce((w,[C,y])=>(w[y]=parseInt(C),w),{}),p=W.from("query_places_view").select(`
    id,
    title,
    rating,
    rating_count,
    category,
    phone_number,
    website,
    address,
    query_id,
    query_text,
    latitude,
    longitude,
    city,
    province_state,
    created_at
  `,{count:"exact"}).in("query_id",[1,2,3,4]);if(a&&(p=p.textSearch("title",a)),o){let w=d[o];w&&(p=p.eq("query_id",w))}let{data:h,error:m,count:g}=await p.order("rating",{ascending:!1}).range((c-1)*u,c*u-1),D=g?Math.ceil(g/u):0,E={"Masonry Contractors":"Expert masonry services for your home or business","Chimney Repair":"Professional chimney repair and maintenance services","Roofing Services":"Specialized roofing and chimney flashing repairs","Brick Repair":"Expert brick repair and restoration services"};h?.reduce((w,C)=>{let y=C.category||l[C.query_id]||"Other";return w[y]||(w[y]=[]),w[y].push(C),w},{});let b=Object.keys(l).map(w=>l[w]);return v`${K(s,"Layout",ee,{title:"ChimneyRepairPro Directory"},{default:w=>v` ${q()}<div class="mb-8"> <h1 class="text-4xl font-bold text-gray-900 mb-3">
Find Local Chimney Professionals
</h1> <p class="text-lg text-gray-600 mb-6">
Connect with trusted chimney repair experts in your area
</p> <form class="flex flex-col sm:flex-row gap-4 mb-6" method="get"> <div class="flex-1"> <input type="search" name="search"${S(a,"value")} placeholder="Search for chimney professionals..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"> </div> <div class="sm:w-48"> <select name="category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"> <option value="">All Services</option> ${b.map(C=>v`<option${S(C,"value")}${S(C===o,"selected")}> ${C} </option>`)} </select> </div> <div class="sm:w-24"> <button type="submit" class="w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
Search
</button> </div> </form> <div class="text-sm text-gray-600 mb-6"> ${a||o?v`<p>
Showing ${(c-1)*u+1}-
${Math.min(c*u,g||0)} of ${g||0}${" "}
professionals
${a&&` matching "${a}"`} ${o&&` in ${o}`} </p>`:v`<p>Browse trusted chimney professionals by service type</p>`} </div> </div> ${m&&v`<div class="bg-red-50 border border-red-200 rounded-lg p-4"> <p class="text-red-700">Error loading professionals: ${m.message}</p> </div>`}${!m&&(a||o)?v`${K(w,"Fragment",ys,{},{default:C=>v` <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-8"> ${h?.map(y=>v`<a${S(`/places/${n(y.title,y.id)}`,"href")} class="block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 h-full flex flex-col"> <div class="p-6 flex-1 flex flex-col"> <div class="flex justify-between items-start mb-auto"> <div> <h3 class="text-xl font-semibold text-gray-900 mb-1"> ${y.title} </h3> ${(y.category&&!y.category.toLowerCase().includes("not specified")||l[y.query_id])&&v`<p class="text-primary-600 text-sm font-medium"> ${!y.category?.toLowerCase().includes("not specified")&&y.category||l[y.query_id]} </p>`} </div> ${y.rating&&v`<div class="flex items-center bg-primary-50 px-2 py-1 rounded-lg"> <span class="text-yellow-500 text-lg mr-1"></span> <span class="font-medium text-primary-700"> ${y.rating} </span> ${y.rating_count&&v`<span class="text-primary-600 text-sm ml-1">
(${y.rating_count})
</span>`} </div>`} </div> <div class="mt-4 space-y-2"> ${y.address&&v`<p class="text-gray-600 text-sm flex items-start"> <span class="text-gray-400 mr-2"></span> <span> ${y.address} ${(y.city||y.province_state)&&v`<span class="block mt-1 text-gray-500"> ${[y.city,y.province_state].filter(Boolean).join(", ")} </span>`} </span> </p>`} ${y.phone_number&&v`<p class="text-gray-600 text-sm flex items-center"> <span class="text-gray-400 mr-2"></span> <span>${y.phone_number}</span> </p>`} </div> </div> ${(y.website||y.phone_number)&&v`<div class="border-t border-gray-100 px-6 py-4 bg-gray-50 rounded-b-lg mt-auto"> <div class="flex items-center justify-between"> <div class="flex items-center space-x-4"> ${y.website&&v`<span class="text-primary-600 text-sm font-medium hover:text-primary-700">
Visit Website
</span>`} ${y.phone_number&&v`<span class="text-primary-600 text-sm font-medium hover:text-primary-700">
Call Now
</span>`} </div> <span class="text-gray-400"></span> </div> </div>`} </a>`)} </div> ${D>1&&v`<div class="flex justify-center gap-2 mt-8"> ${c>1&&v`<a${S(`?${new URLSearchParams({...Object.fromEntries(i.searchParams),page:(c-1).toString()})}`,"href")} class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
Previous
</a>`} <span class="px-4 py-2">
Page ${c} of ${D} </span> ${c<D&&v`<a${S(`?${new URLSearchParams({...Object.fromEntries(i.searchParams),page:(c+1).toString()})}`,"href")} class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
Next
</a>`} </div>`}`})}`:v`<div class="space-y-8"> ${b.map(C=>v`<a${S(`?category=${encodeURIComponent(C)}`,"href")} class="block bg-white border border-gray-200 rounded-lg p-6 hover:bg-gray-50 transition-colors"> <div> <h2 class="text-2xl font-semibold text-gray-900">${C}</h2> <p class="text-gray-600 text-sm mt-1"> ${E[C]} </p> </div> <div class="mt-4 text-primary-600 hover:text-primary-700 text-sm font-medium">
View all professionals 
</div> </a>`)} </div>`}`})} `},"/Users/aaronbaker/astro-directory-v2/src/pages/directory.astro",void 0),ip="/Users/aaronbaker/astro-directory-v2/src/pages/directory.astro",np="/directory"});var tc={};I(tc,{onRequest:()=>M,page:()=>ap,renderers:()=>B});var ap,rc=f(()=>{re();ae();ap=()=>Promise.resolve().then(()=>(ec(),Zo))});var sc={};I(sc,{onRequest:()=>M,page:()=>op,renderers:()=>B});var op,ic=f(()=>{re();ae();op=()=>Promise.resolve().then(()=>(De(),Go)).then(s=>s._)});var ac={};I(ac,{default:()=>nc,file:()=>lp,url:()=>up});var cp,nc,lp,up,oc=f(()=>{Z();Q();De();cp=te(),nc=N(async(s,e,r)=>{let t=s.createAstro(cp,e,r);t.self=nc,console.log("\u{1F680} Page Processing Started");let n=t.params.id??"",i=parseInt(n,10);if(isNaN(i))return console.error("\u274C Invalid ID:",{rawId:n}),new Response("Invalid ID",{status:400});let{data:a,error:o}=await W.from("places").select("*").eq("id",i).single();if(console.log("\u{1F50D} Query Details:",{rawId:n,id:i,matchFound:!!a,error:o||"No error",query:`SELECT * FROM places WHERE id = ${i}`}),o?.message)return console.error("\u274C Database Error:",o),new Response(`Database error: ${o.message}`,{status:500});if(!a)return console.error("\u274C Place not found:",{id:i}),new Response("Place not found",{status:404});console.log("\u2705 Place found:",a);let c=[a.title,a.category,a.rating&&`Rated ${a.rating}/5`,a.address].filter(Boolean).join(" - ");return v`${K(s,"Layout",ee,{title:a.title,description:c},{default:u=>v` ${q()}<div class="max-w-3xl mx-auto"> <nav class="mb-6"> <a href="/directory" class="text-primary-600 hover:text-primary-700 flex items-center gap-1"> <span></span> Back to Directory
</a> </nav> <article class="bg-white rounded-lg shadow-sm border border-gray-200 p-8"> <header class="mb-8"> <h1 class="text-3xl font-bold text-gray-900 mb-2">${a.title}</h1> ${a.category&&v`<p class="text-primary-600 font-medium">${a.category}</p>`} </header> ${a.rating&&v`<section class="mb-8 pb-8 border-b border-gray-100"> <h2 class="text-lg font-semibold mb-2">Rating</h2> <div class="flex items-center"> <span class="text-yellow-400 text-2xl"></span> <span class="ml-2 text-xl font-medium">${a.rating}</span> ${a.rating_count&&v`<span class="text-gray-500 ml-2">
(${a.rating_count.toLocaleString()} reviews)
</span>`} </div> </section>`} ${a.address&&v`<section class="mb-8 pb-8 border-b border-gray-100"> <h2 class="text-lg font-semibold mb-2">Location</h2> <p class="text-gray-600">${a.address}</p> ${a.latitude&&a.longitude&&v`<a${S(`https://www.google.com/maps/search/?api=1&query=${a.latitude},${a.longitude}`,"href")} target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-primary-600 hover:text-primary-700 mt-3"> <span class="mr-1"></span> View on Google Maps
</a>`} </section>`} <div class="space-y-6"> ${a.phone_number&&v`<section> <h2 class="text-lg font-semibold mb-2">Contact</h2> <a${S(`tel:${a.phone_number}`,"href")} class="text-primary-600 hover:text-primary-700 flex items-center gap-2"> <span></span> ${a.phone_number} </a> </section>`} ${a.website&&v`<section> <h2 class="text-lg font-semibold mb-2">Website</h2> <a${S(a.website,"href")} target="_blank" rel="noopener noreferrer" class="text-primary-600 hover:text-primary-700 flex items-center gap-2"> <span></span>
Visit Website
</a> </section>`} </div> <footer class="mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500"> <p>Listed since ${new Date(a.created_at).toLocaleDateString()}</p> </footer> </article> </div> `})}`},"/Users/aaronbaker/astro-directory-v2/src/pages/places/[slug].astro",void 0),lp="/Users/aaronbaker/astro-directory-v2/src/pages/places/[slug].astro",up="/places/[slug]"});var cc={};I(cc,{onRequest:()=>M,page:()=>dp,renderers:()=>B});var dp,lc=f(()=>{re();ae();dp=()=>Promise.resolve().then(()=>(oc(),ac))});var uc={};I(uc,{default:()=>pp,file:()=>hp,url:()=>fp});var pp,hp,fp,dc=f(()=>{Z();Q();ne();De();pp=N(async(s,e,r)=>{let{data:t,error:n}=await W.from("information_schema.columns").select("table_name, column_name, data_type, is_nullable, column_default").eq("table_schema","public").neq("table_name","schema_migrations").order("table_name");return await W.rpc("get_foreign_keys",{}),v`<html lang="en" data-astro-cid-h2wub6cc> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Database Schema</title>${Yt()}</head> <body class="p-8" data-astro-cid-h2wub6cc> <h1 class="text-3xl font-bold mb-6" data-astro-cid-h2wub6cc>Database Schema</h1> ${n&&v`<div class="text-red-600" data-astro-cid-h2wub6cc>
Error loading schema: ${n.message} </div>`} ${t&&v`<div class="space-y-8" data-astro-cid-h2wub6cc> ${[...new Set(t.map(i=>i.table_name))].map(i=>{let a=t.filter(o=>o.table_name===i);return v`<div class="schema-table" data-astro-cid-h2wub6cc> <h2 class="table-name text-xl font-semibold" data-astro-cid-h2wub6cc>${i}</h2> <table data-astro-cid-h2wub6cc> <thead data-astro-cid-h2wub6cc> <tr data-astro-cid-h2wub6cc> <th data-astro-cid-h2wub6cc>Column</th> <th data-astro-cid-h2wub6cc>Type</th> <th data-astro-cid-h2wub6cc>Nullable</th> <th data-astro-cid-h2wub6cc>Default</th> </tr> </thead> <tbody data-astro-cid-h2wub6cc> ${a.map(o=>v`<tr data-astro-cid-h2wub6cc> <td data-astro-cid-h2wub6cc>${o.column_name}</td> <td data-astro-cid-h2wub6cc>${o.data_type}</td> <td data-astro-cid-h2wub6cc>${o.is_nullable}</td> <td data-astro-cid-h2wub6cc>${o.column_default||"-"}</td> </tr>`)} </tbody> </table> </div>`})} </div>`} </body></html>`},"/Users/aaronbaker/astro-directory-v2/src/pages/schema.astro",void 0),hp="/Users/aaronbaker/astro-directory-v2/src/pages/schema.astro",fp="/schema"});var pc={};I(pc,{onRequest:()=>M,page:()=>mp,renderers:()=>B});var mp,hc=f(()=>{re();ae();mp=()=>Promise.resolve().then(()=>(dc(),uc))});var fc={};I(fc,{default:()=>gp,file:()=>Dp,url:()=>vp});var gp,Dp,vp,mc=f(()=>{Z();Q();ne();De();gp=N(async(s,e,r)=>{let{data:t,error:n}=await W.from("places").select("*").limit(1);return console.log("Test page - Supabase response:",{data:t,error:n}),v`${K(s,"Layout",ee,{title:"Test Page"},{default:i=>v` ${q()}<div class="p-8"> <h1 class="text-2xl font-bold mb-4">Supabase Test</h1> ${n&&v`<div class="bg-red-50 p-4 rounded"> <p class="text-red-700">Error: ${n.message}</p> </div>`} ${t&&t.length>0&&v`<div class="bg-green-50 p-4 rounded"> <p class="text-green-700">Success! Found ${t.length} place(s)</p> <pre class="mt-4 bg-white p-4 rounded overflow-auto">            ${JSON.stringify(t[0],null,2)}
          </pre> </div>`} ${t&&t.length===0&&v`<div class="bg-yellow-50 p-4 rounded"> <p class="text-yellow-700">No places found in database</p> </div>`} </div> `})}`},"/Users/aaronbaker/astro-directory-v2/src/pages/test.astro",void 0),Dp="/Users/aaronbaker/astro-directory-v2/src/pages/test.astro",vp="/test"});var gc={};I(gc,{onRequest:()=>M,page:()=>yp,renderers:()=>B});var yp,Dc=f(()=>{re();ae();yp=()=>Promise.resolve().then(()=>(mc(),fc))});var vc={};I(vc,{GET:()=>xp});async function xp(){let{data:s,error:e}=await W.from("directory").select("*");return e?new Response(JSON.stringify({error:e.message}),{status:500,headers:{"Content-Type":"application/json"}}):new Response(JSON.stringify(s),{status:200,headers:{"Content-Type":"application/json"}})}var yc=f(()=>{De()});var xc={};I(xc,{onRequest:()=>M,page:()=>bp,renderers:()=>B});var bp,bc=f(()=>{re();ae();bp=()=>Promise.resolve().then(()=>(yc(),vc))});rt();var yD=ve(Or(),1);rt();var ot=ve(Or(),1);var Br,ji,Ri,Pi,Oi=!0;typeof process<"u"&&({FORCE_COLOR:Br,NODE_DISABLE_COLORS:ji,NO_COLOR:Ri,TERM:Pi}=process.env||{},Oi=process.stdout&&process.stdout.isTTY);var Kc={enabled:!ji&&Ri==null&&Pi!=="dumb"&&(Br!=null&&Br!=="0"||Oi)};function j(s,e){let r=new RegExp(`\\x1b\\[${e}m`,"g"),t=`\x1B[${s}m`,n=`\x1B[${e}m`;return function(i){return!Kc.enabled||i==null?i:t+(~(""+i).indexOf(n)?i.replace(r,n+t):i)+n}}var Bi=j(0,0),Ue=j(1,22),Li=j(2,22),Zp=j(3,23),eh=j(4,24),th=j(7,27),rh=j(8,28),sh=j(9,29),ih=j(30,39),Ii=j(31,39),nh=j(32,39),Lr=j(33,39),ah=j(34,39),oh=j(35,39),Ui=j(36,39),ch=j(37,39),lh=j(90,39),uh=j(90,39),dh=j(40,49),ph=j(41,49),hh=j(42,49),fh=j(43,49),mh=j(44,49),gh=j(45,49),Dh=j(46,49),vh=j(47,49);function Ir({onlyFirst:s=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,s?void 0:"g")}var wh=Ir();var Yc=ve(Mi(),1);var Nn=ve(Gi(),1);Z();Q();ne();function au(s){for(var e=[],r=0;r<s.length;){var t=s[r];if(t==="*"||t==="+"||t==="?"){e.push({type:"MODIFIER",index:r,value:s[r++]});continue}if(t==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:s[r++]});continue}if(t==="{"){e.push({type:"OPEN",index:r,value:s[r++]});continue}if(t==="}"){e.push({type:"CLOSE",index:r,value:s[r++]});continue}if(t===":"){for(var n="",i=r+1;i<s.length;){var a=s.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){n+=s[i++];continue}break}if(!n)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:n}),r=i;continue}if(t==="("){var o=1,c="",i=r+1;if(s[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<s.length;){if(s[i]==="\\"){c+=s[i++]+s[i++];continue}if(s[i]===")"){if(o--,o===0){i++;break}}else if(s[i]==="("&&(o++,s[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));c+=s[i++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(r));if(!c)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:c}),r=i;continue}e.push({type:"CHAR",index:r,value:s[r++]})}return e.push({type:"END",index:r,value:""}),e}function ou(s,e){e===void 0&&(e={});for(var r=au(s),t=e.prefixes,n=t===void 0?"./":t,i=e.delimiter,a=i===void 0?"/#?":i,o=[],c=0,u=0,l="",d=function(k){if(u<r.length&&r[u].type===k)return r[u++].value},p=function(k){var O=d(k);if(O!==void 0)return O;var V=r[u],$r=V.type,Rc=V.index;throw new TypeError("Unexpected ".concat($r," at ").concat(Rc,", expected ").concat(k))},h=function(){for(var k="",O;O=d("CHAR")||d("ESCAPED_CHAR");)k+=O;return k},m=function(k){for(var O=0,V=a;O<V.length;O++){var $r=V[O];if(k.indexOf($r)>-1)return!0}return!1},g=function(k){var O=o[o.length-1],V=k||(O&&typeof O=="string"?O:"");if(O&&!V)throw new TypeError('Must have text between two parameters, missing text after "'.concat(O.name,'"'));return!V||m(V)?"[^".concat(ws(a),"]+?"):"(?:(?!".concat(ws(V),")[^").concat(ws(a),"])+?")};u<r.length;){var D=d("CHAR"),E=d("NAME"),b=d("PATTERN");if(E||b){var w=D||"";n.indexOf(w)===-1&&(l+=w,w=""),l&&(o.push(l),l=""),o.push({name:E||c++,prefix:w,suffix:"",pattern:b||g(w),modifier:d("MODIFIER")||""});continue}var C=D||d("ESCAPED_CHAR");if(C){l+=C;continue}l&&(o.push(l),l="");var y=d("OPEN");if(y){var w=h(),It=d("NAME")||"",F=d("PATTERN")||"",T=h();p("CLOSE"),o.push({name:It||(F?c++:""),pattern:It&&!F?g(w):F,prefix:w,suffix:T,modifier:d("MODIFIER")||""});continue}p("END")}return o}function On(s,e){return cu(ou(s,e),e)}function cu(s,e){e===void 0&&(e={});var r=lu(e),t=e.encode,n=t===void 0?function(c){return c}:t,i=e.validate,a=i===void 0?!0:i,o=s.map(function(c){if(typeof c=="object")return new RegExp("^(?:".concat(c.pattern,")$"),r)});return function(c){for(var u="",l=0;l<s.length;l++){var d=s[l];if(typeof d=="string"){u+=d;continue}var p=c?c[d.name]:void 0,h=d.modifier==="?"||d.modifier==="*",m=d.modifier==="*"||d.modifier==="+";if(Array.isArray(p)){if(!m)throw new TypeError('Expected "'.concat(d.name,'" to not repeat, but got an array'));if(p.length===0){if(h)continue;throw new TypeError('Expected "'.concat(d.name,'" to not be empty'))}for(var g=0;g<p.length;g++){var D=n(p[g],d);if(a&&!o[l].test(D))throw new TypeError('Expected all "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(D,'"'));u+=d.prefix+D+d.suffix}continue}if(typeof p=="string"||typeof p=="number"){var D=n(String(p),d);if(a&&!o[l].test(D))throw new TypeError('Expected "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(D,'"'));u+=d.prefix+D+d.suffix;continue}if(!h){var E=m?"an array":"a string";throw new TypeError('Expected "'.concat(d.name,'" to be ').concat(E))}}return u}}function ws(s){return s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function lu(s){return s&&s.sensitive?"":"i"}var uu=new Date(0),Bn="deleted",du=Symbol.for("astro.responseSent"),Xt=class{constructor(e){this.value=e}json(){if(this.value===void 0)throw new Error("Cannot convert undefined to an object.");return JSON.parse(this.value)}number(){return Number(this.value)}boolean(){return this.value==="false"||this.value==="0"?!1:!!this.value}},ct=class{#e;#t;#r;constructor(e){this.#e=e,this.#t=null,this.#r=null}delete(e,r){let t={expires:uu};r?.domain&&(t.domain=r.domain),r?.path&&(t.path=r.path),this.#n().set(e,[Bn,(0,ot.serialize)(e,Bn,t),!1])}get(e){if(this.#r?.has(e)){let[t,,n]=this.#r.get(e);return n?new Xt(t):void 0}let r=this.#i();if(e in r){let t=r[e];return new Xt(t)}}has(e){if(this.#r?.has(e)){let[,,t]=this.#r.get(e);return t}return!!this.#i()[e]}set(e,r,t){let n;if(typeof r=="string")n=r;else{let a=r.toString();a===Object.prototype.toString.call(r)?n=JSON.stringify(r):n=a}let i={};if(t&&Object.assign(i,t),this.#n().set(e,[n,(0,ot.serialize)(e,n,i),!0]),this.#e[du])throw new x({...nt})}*headers(){if(this.#r!=null)for(let[,e]of this.#r)yield e[1]}#i(){return this.#t||this.#s(),this.#t||(this.#t={}),this.#t}#n(){return this.#r||(this.#r=new Map),this.#r}#s(){let e=this.#e.headers.get("cookie");e&&(this.#t=(0,ot.parse)(e))}},Cs=Symbol.for("astro.cookies");function lt(s,e){Reflect.set(s,Cs,e)}function pu(s){return Reflect.has(s,Cs)}function hu(s){let e=Reflect.get(s,Cs);if(e!=null)return e}function*Mn(s){let e=hu(s);if(!e)return[];for(let r of e.headers())yield r;return[]}var qn=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),ut={debug:20,info:30,warn:40,error:50,silent:90};function As(s,e,r,t){let n=s.level,i=s.dest,a={label:r,level:e,message:t};ut[n]>ut[e]||i.write(a)}function zn(s,e,r){return As(s,"info",e,r)}function Hn(s,e,r){return As(s,"warn",e,r)}function Wn(s,e,r){return As(s,"error",e,r)}function Vn(...s){"_astroGlobalDebug"in globalThis&&globalThis._astroGlobalDebug(...s)}if(typeof process<"u"){let s=process;"argv"in s&&Array.isArray(s.argv)&&(s.argv.includes("--verbose")||s.argv.includes("--silent"))}var Qt=class{options;constructor(e){this.options=e}info(e,r){zn(this.options,e,r)}warn(e,r){Hn(this.options,e,r)}error(e,r){Wn(this.options,e,r)}debug(e,...r){Vn(e,...r)}level(){return this.options.level}forkIntegrationLogger(e){return new dt(this.options,e)}},dt=class s{options;label;constructor(e,r){this.options=e,this.label=r}fork(e){return new s(this.options,e)}info(e){zn(this.options,this.label,e)}warn(e){Hn(this.options,this.label,e)}error(e){Wn(this.options,this.label,e)}debug(e){Vn(this.label,e)}};async function Ss(s,e,r,t){let n=!1,i,o=e(r,async()=>(n=!0,i=t(),i));return await Promise.resolve(o).then(async c=>{if(fu(c)&&s.warn("middleware",`Using simple endpoints can cause unexpected issues in the chain of middleware functions.
It's strongly suggested to use full ${Ue("Response")} objects.`),n)if(typeof c<"u"){if(!(c instanceof Response))throw new x(Jt);return Ln(r,c)}else{if(i)return i;throw new x(Jt)}else{if(typeof c>"u")throw new x(Dn);if(c instanceof Response)return Ln(r,c);throw new x(Jt)}})}function Ln(s,e){return s.cookies!==void 0&&!pu(e)&&lt(e,s.cookies),e}function fu(s){return!(s instanceof Response)&&typeof s=="object"&&typeof s.body=="string"}function he(s){return s.replaceAll("_","-").toLowerCase()}function ks(s){return s?.type==="redirect"}function $s(s){return s?.type==="fallback"}function Gn(s,e){let r=s.redirectRoute,t=s.redirect;return typeof r<"u"?r?.generate(e)||r?.pathname||"/":typeof t=="string"?t:typeof t>"u"?"/":t.destination}function Jn(s,e="GET"){let r=s.redirectRoute;return typeof r?.redirect=="object"?r.redirect.status:e!=="GET"?308:301}var mu=["string","number","undefined"];function gu([s,e],r){if(!mu.includes(typeof e))throw new x({...is,message:is.message(s,e,typeof e),location:{file:r}})}function Du(s,{ssr:e,route:r}){if((!e||r.prerender)&&!s.getStaticPaths)throw new x({...hn,location:{file:r.component}})}function vu(s,e,r){if(!Array.isArray(s))throw new x({...ss,message:ss.message(typeof s),location:{file:r.component}});s.forEach(t=>{if(typeof t=="object"&&Array.isArray(t)||t===null)throw new x({...rs,message:rs.message(Array.isArray(t)?"array":typeof t)});if(t.params===void 0||t.params===null||t.params&&Object.keys(t.params).length===0)throw new x({...pn,location:{file:r.component}});for(let[n,i]of Object.entries(t.params))typeof i>"u"||typeof i=="string"||typeof i=="number"||e.warn("getStaticPaths",`invalid path param: ${n}. A string, number or undefined value was expected, but got \`${JSON.stringify(i)}\`.`),typeof i=="string"&&i===""&&e.warn("getStaticPaths",`invalid path param: ${n}. \`undefined\` expected for an optional param, but got empty string.`)})}function yu(s){return r=>{let t={};return s.forEach((n,i)=>{n.startsWith("...")?t[n.slice(3)]=r[i+1]?decodeURIComponent(r[i+1]):void 0:t[n]=decodeURIComponent(r[i+1])}),t}}function Kn(s,e){let r=Object.entries(s).reduce((t,n)=>{gu(n,e.component);let[i,a]=n;return a!==void 0&&(t[i]=typeof a=="string"?jr(a):a.toString()),t},{});return JSON.stringify(e.generate(r))}function xu(s){return function(r,t={}){let{pageSize:n,params:i,props:a}=t,o=n||10,c="page",u=i||{},l=a||{},d;if(s.params.includes(`...${c}`))d=!1;else if(s.params.includes(`${c}`))d=!0;else throw new x({...as,message:as.message(c)});let p=Math.max(1,Math.ceil(r.length/o));return[...Array(p).keys()].map(m=>{let g=m+1,D=o===1/0?0:(g-1)*o,E=Math.min(D+o,r.length),b={...u,[c]:d||g>1?String(g):void 0},w=Fs(s.generate({...b})),C=g===p?void 0:Fs(s.generate({...b,page:String(g+1)})),y=g===1?void 0:Fs(s.generate({...b,page:!d&&g-1===1?void 0:String(g-1)}));return{params:b,props:{...l,page:{data:r.slice(D,E),start:D,end:E-1,size:o,total:r.length,currentPage:g,lastPage:p,url:{current:w,next:C,prev:y}}}}})}}function Fs(s){return s===""?"/":s}async function bu({mod:s,route:e,routeCache:r,logger:t,ssr:n}){let i=r.get(e);if(!s)throw new Error("This is an error caused by Astro and not your code. Please file an issue.");if(i?.staticPaths)return i.staticPaths;if(Du(s,{ssr:n,route:e}),n&&!e.prerender){let c=Object.assign([],{keyed:new Map});return r.set(e,{...i,staticPaths:c}),c}let a=[];if(!s.getStaticPaths)throw new Error("Unexpected Error.");a=await s.getStaticPaths({paginate:xu(e),rss(){throw new x(dn)}}),vu(a,t,e);let o=a;o.keyed=new Map;for(let c of o){let u=Kn(c.params,e);o.keyed.set(u,c)}return r.set(e,{...i,staticPaths:o}),o}var Zt=class{logger;cache={};mode;constructor(e,r="production"){this.logger=e,this.mode=r}clearAll(){this.cache={}}set(e,r){this.mode==="production"&&this.cache[e.component]?.staticPaths&&this.logger.warn("routeCache",`Internal Warning: route cache overwritten. (${e.component})`),this.cache[e.component]=r}get(e){return this.cache[e.component]}};function wu(s,e,r,t){let n=Kn(e,r),i=s.keyed.get(n);if(i)return i;t.debug("findPathItemByKey",`Unexpected cache miss looking for ${n}`)}async function Fu(s){let{logger:e,mod:r,route:t,routeCache:n,pathname:i,ssr:a}=s;if(!t||t.pathname)return[{},{}];let o=_u(t,i)??{};if(ks(t)||$s(t))return[o,{}];r&&Eu(t,r,o);let c=await bu({mod:r,route:t,routeCache:n,logger:e,ssr:a}),u=wu(c,o,t,e);if(!u&&(!a||t.prerender))throw new x({...Vt,message:Vt.message(i),hint:Vt.hint([t.component])});let l=u?.props?{...u.props}:{};return[o,l]}function _u(s,e){if(s.params.length){let r=s.pattern.exec(decodeURIComponent(e));if(r)return yu(s.params)(r)}}function Eu(s,e,r){if(s.type==="endpoint"&&e.getStaticPaths){let t=s.segments[s.segments.length-1],n=Object.values(r),i=n[n.length-1];if(t.length===1&&t[0].dynamic&&i===void 0)throw new x({...Gt,message:Gt.message(s.route),hint:Gt.hint(s.component),location:{file:s.component}})}}var In=Symbol.for("astro.locals");async function Ts(s){let e=s.request,r=s.pathname??new URL(e.url).pathname,[t,n]=await Fu({mod:s.mod,route:s.route,routeCache:s.env.routeCache,pathname:r,logger:s.env.logger,ssr:s.env.ssr}),i={...s,pathname:r,params:t,props:n,locales:s.locales,routing:s.routing,defaultLocale:s.defaultLocale};return Object.defineProperty(i,"locals",{enumerable:!0,get(){return Reflect.get(e,In)},set(a){if(typeof a!="object")throw new x(Kt);Reflect.set(e,In,a)}}),i}function Yn(s){if(s==="*")return[{locale:s,qualityValue:void 0}];let e=[],r=s.split(",").map(t=>t.trim());for(let t of r){let n=t.split(";").map(o=>o.trim()),i=n[0],a=n[1];if(n)if(a&&a.startsWith("q=")){let o=Number.parseFloat(a.slice(2));Number.isNaN(o)||o>1?e.push({locale:i,qualityValue:void 0}):e.push({locale:i,qualityValue:o})}else e.push({locale:i,qualityValue:void 0})}return e}function Xn(s,e){let r=e.map(he);return s.filter(t=>t.locale!=="*"?r.includes(he(t.locale)):!0).sort((t,n)=>{if(t.qualityValue&&n.qualityValue){if(t.qualityValue>n.qualityValue)return-1;if(t.qualityValue<n.qualityValue)return 1}return 0})}function js(s,e){let r=s.headers.get("Accept-Language"),t;if(r){let i=Xn(Yn(r),e).at(0);i&&i.locale!=="*"&&(t=e.find(a=>he(a)===he(i.locale)))}return t}function Rs(s,e){let r=s.headers.get("Accept-Language"),t=[];if(r){let n=Xn(Yn(r),e);if(n.length===1&&n.at(0).locale==="*")return e;if(n.length>0)for(let i of n){let a=e.find(o=>he(o)===he(i.locale));a&&t.push(a)}}return t}function Ps(s,e,r,t){let n=new URL(s.url);for(let i of n.pathname.split("/"))for(let a of e)if(he(a)===he(i))return a;if(r==="prefix-other-locales")return t}var Qn=new TextEncoder,Un=Symbol.for("astro.clientAddress"),_s=Symbol.for("astro.locals");function Os({request:s,params:e,site:r,props:t,adapterName:n,locales:i,routingStrategy:a,defaultLocale:o}){let c,u,l;return{cookies:new ct(s),request:s,params:e,site:r?new URL(r):void 0,generator:`Astro v${hs}`,props:t,redirect(p,h){return new Response(null,{status:h||302,headers:{Location:p}})},ResponseWithEncoding:Es,get preferredLocale(){if(c)return c;if(i)return c=js(s,i),c},get preferredLocaleList(){if(u)return u;if(i)return u=Rs(s,i),u},get currentLocale(){return l||(i&&(l=Ps(s,i,a,o)),l)},url:new URL(s.url),get clientAddress(){if(Un in s)return Reflect.get(s,Un);throw n?new x({...qe,message:qe.message(n)}):new x(Wt)},get locals(){let p=Reflect.get(s,_s);if(p===void 0&&(p={},Reflect.set(s,_s,p)),typeof p!="object")throw new x(Kt);return p},set locals(p){if(typeof p!="object")throw new x(Kt);Reflect.set(s,_s,p)}}}var Es=class extends Response{constructor(e,r,t){typeof e=="string"&&(typeof Buffer<"u"&&Buffer.from?e=Buffer.from(e,t):(t==null||t==="utf8"||t==="utf-8")&&(e=Qn.encode(e))),super(e,r),t&&this.headers.set("X-Astro-Encoding",t)}};async function Zn(s,e,r,t){let n=Os({request:r.request,params:r.params,props:r.props,site:e.site,adapterName:e.adapterName,routingStrategy:r.routing,defaultLocale:r.defaultLocale,locales:r.locales}),i;t?i=await Ss(e.logger,t,n,async()=>await fs(s,n,e.ssr,e.logger)):i=await fs(s,n,e.ssr,e.logger);let a=e.ssr&&!r.route?.prerender;if(i instanceof Response)return a&&i.headers.get("X-Astro-Encoding")&&e.logger.warn("ssr","`ResponseWithEncoding` is ignored in SSR. Please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information."),lt(i,n.cookies),i;e.logger.warn("astro",`${r.route.component} returns a simple object which is deprecated. Please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information.`),a&&(i.hasOwnProperty("headers")&&e.logger.warn("ssr","Setting headers is not supported when returning an object. Please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information."),i.encoding&&e.logger.warn("ssr","`encoding` is ignored in SSR. To return a charset other than UTF-8, please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information."));let o,c=new Headers,u=r.route?r.route.pathname??r.route.segments.map(d=>d.map(p=>p.content).join("")).join("/"):r.pathname,l=Nn.default.getType(u)||"text/plain";return c.set("Content-Type",`${l};charset=utf-8`),i.encoding&&c.set("X-Astro-Encoding",i.encoding),i.body instanceof Uint8Array?(o=i.body,c.set("Content-Length",o.byteLength.toString())):typeof Buffer<"u"&&Buffer.from?(o=Buffer.from(i.body,i.encoding),c.set("Content-Length",o.byteLength.toString())):i.encoding==null||i.encoding==="utf8"||i.encoding==="utf-8"?(o=Qn.encode(i.body),c.set("Content-Length",o.byteLength.toString())):o=i.body,i=new Response(o,{status:200,headers:c}),lt(i,n.cookies),i}function Cu(s,e){let r=s.map(i=>"/"+i.map(a=>a.spread?`:${a.content.slice(3)}(.*)?`:a.dynamic?`:${a.content}`:a.content.normalize().replace(/\?/g,"%3F").replace(/#/g,"%23").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("")).join(""),t="";return e==="always"&&s.length&&(t="/"),On(r+t)}function er(s){return{route:s.route,type:s.type,pattern:new RegExp(s.pattern),params:s.params,component:s.component,generate:Cu(s.segments,s._meta.trailingSlash),pathname:s.pathname||void 0,segments:s.segments,prerender:s.prerender,redirect:s.redirect,redirectRoute:s.redirectRoute?er(s.redirectRoute):void 0,fallbackRoutes:s.fallbackRoutes.map(e=>er(e))}}function Au(s){let e=[];for(let i of s.routes){e.push({...i,routeData:er(i.routeData)});let a=i;a.routeData=er(i.routeData)}let r=new Set(s.assets),t=new Map(s.componentMetadata),n=new Map(s.clientDirectives);return{...s,assets:r,componentMetadata:t,clientDirectives:n,routes:e}}var ea=Au({adapterName:"@astrojs/cloudflare",routes:[{file:"",links:[],scripts:[],styles:[],routeData:{type:"endpoint",route:"/_image",pattern:"^\\/_image$",segments:[[{content:"_image",dynamic:!1,spread:!1}]],params:[],component:"node_modules/astro/dist/assets/endpoint/generic.js",pathname:"/_image",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.8667d89a.css"}],routeData:{route:"/",type:"page",pattern:"^\\/$",segments:[],params:[],component:"src/pages/index.astro",pathname:"/",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[{type:"inline",value:`const o=document.getElementById("searchForm"),t=document.getElementById("useMyLocation"),n=o?.querySelector('input[name="lat"]'),r=o?.querySelector('input[name="lon"]');t?.addEventListener("click",()=>{navigator.geolocation?(t.textContent="\u{1F4CD} Getting location...",t.setAttribute("disabled","true"),navigator.geolocation.getCurrentPosition(e=>{n.value=e.coords.latitude.toString(),r.value=e.coords.longitude.toString(),o?.submit()},e=>{console.error("Geolocation error:",e),alert("Unable to get your location. Please try again."),t.textContent="\u{1F4CD} Search near me",t.removeAttribute("disabled")})):alert("Geolocation is not supported by your browser")});
`}],styles:[{type:"external",src:"/_astro/directory.8667d89a.css"}],routeData:{route:"/directory",type:"page",pattern:"^\\/directory\\/?$",segments:[[{content:"directory",dynamic:!1,spread:!1}]],params:[],component:"src/pages/directory.astro",pathname:"/directory",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.8667d89a.css"}],routeData:{route:"/places/[id]",type:"page",pattern:"^\\/places\\/([^/]+?)\\/?$",segments:[[{content:"places",dynamic:!1,spread:!1}],[{content:"id",dynamic:!0,spread:!1}]],params:["id"],component:"src/pages/places/[id].astro",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.8667d89a.css"}],routeData:{route:"/places/[slug]",type:"page",pattern:"^\\/places\\/([^/]+?)\\/?$",segments:[[{content:"places",dynamic:!1,spread:!1}],[{content:"slug",dynamic:!0,spread:!1}]],params:["slug"],component:"src/pages/places/[slug].astro",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.8667d89a.css"},{type:"inline",content:`.schema-table[data-astro-cid-h2wub6cc]{margin-bottom:2rem;border:1px solid #e2e8f0;border-radius:.5rem}.table-name[data-astro-cid-h2wub6cc]{background:#f8fafc;padding:1rem;border-bottom:1px solid #e2e8f0}table[data-astro-cid-h2wub6cc]{width:100%;border-collapse:collapse}th[data-astro-cid-h2wub6cc],td[data-astro-cid-h2wub6cc]{padding:.75rem;text-align:left;border-bottom:1px solid #e2e8f0}th[data-astro-cid-h2wub6cc]{background:#f1f5f9}
`}],routeData:{route:"/schema",type:"page",pattern:"^\\/schema\\/?$",segments:[[{content:"schema",dynamic:!1,spread:!1}]],params:[],component:"src/pages/schema.astro",pathname:"/schema",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.8667d89a.css"}],routeData:{route:"/test",type:"page",pattern:"^\\/test\\/?$",segments:[[{content:"test",dynamic:!1,spread:!1}]],params:[],component:"src/pages/test.astro",pathname:"/test",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[],routeData:{route:"/api/directory",type:"endpoint",pattern:"^\\/api\\/directory$",segments:[[{content:"api",dynamic:!1,spread:!1}],[{content:"directory",dynamic:!1,spread:!1}]],params:[],component:"src/pages/api/directory.js",pathname:"/api/directory",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}}],base:"/",trailingSlash:"ignore",compressHTML:!0,componentMetadata:[["/Users/aaronbaker/astro-directory-v2/src/pages/directory.astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/index.astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/places/[id].astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/places/[slug].astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/test.astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/schema.astro",{propagation:"none",containsHead:!0}]],renderers:[],clientDirectives:[["idle",'(()=>{var i=t=>{let e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)};(self.Astro||(self.Astro={})).idle=i;window.dispatchEvent(new Event("astro:idle"));})();'],["load",'(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();'],["media",'(()=>{var s=(i,t)=>{let a=async()=>{await(await i())()};if(t.value){let e=matchMedia(t.value);e.matches?a():e.addEventListener("change",a,{once:!0})}};(self.Astro||(self.Astro={})).media=s;window.dispatchEvent(new Event("astro:media"));})();'],["only",'(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();'],["visible",'(()=>{var r=(i,c,s)=>{let n=async()=>{await(await i())()},t=new IntersectionObserver(e=>{for(let o of e)if(o.isIntersecting){t.disconnect(),n();break}});for(let e of s.children)t.observe(e)};(self.Astro||(self.Astro={})).visible=r;window.dispatchEvent(new Event("astro:visible"));})();']],entryModules:{"\0@astrojs-ssr-virtual-entry":"_worker.mjs","\0@astro-renderers":"renderers.mjs","\0empty-middleware":"_empty-middleware.mjs","/src/pages/places/[slug].astro":"chunks/pages/_slug__b4c1d153.mjs","/src/pages/directory.astro":"chunks/pages/directory_35a7cf83.mjs","/src/pages/api/directory.js":"chunks/pages/directory_de0a0073.mjs","/node_modules/astro/dist/assets/endpoint/generic.js":"chunks/pages/generic_62cee758.mjs","/src/pages/index.astro":"chunks/pages/index_56960490.mjs","/src/pages/schema.astro":"chunks/pages/schema_23ac7fde.mjs","/src/pages/test.astro":"chunks/pages/test_4cdf4ecc.mjs","\0@astrojs-manifest":"manifest_517f588b.mjs","\0@astro-page:node_modules/astro/dist/assets/endpoint/generic@_@js":"chunks/generic_b83500fc.mjs","\0@astro-page:src/pages/index@_@astro":"chunks/index_17cf126e.mjs","\0@astro-page:src/pages/directory@_@astro":"chunks/directory_e5860e02.mjs","\0@astro-page:src/pages/places/[id]@_@astro":"chunks/_id__72fdaa5c.mjs","\0@astro-page:src/pages/places/[slug]@_@astro":"chunks/_slug__4a1ba646.mjs","\0@astro-page:src/pages/schema@_@astro":"chunks/schema_217b7fe2.mjs","\0@astro-page:src/pages/test@_@astro":"chunks/test_df2105e8.mjs","\0@astro-page:src/pages/api/directory@_@js":"chunks/directory_194ddc8d.mjs","/astro/hoisted.js?q=0":"_astro/hoisted.7f6012d9.js","astro:scripts/before-hydration.js":""},assets:["/_astro/directory.8667d89a.css","/$server_build/_empty-middleware.mjs","/$server_build/_worker.mjs","/$server_build/renderers.mjs","/$server_build/_astro/directory.8667d89a.css","/$server_build/chunks/_id__72fdaa5c.mjs","/$server_build/chunks/_slug__4a1ba646.mjs","/$server_build/chunks/astro_34338937.mjs","/$server_build/chunks/directory_194ddc8d.mjs","/$server_build/chunks/directory_e5860e02.mjs","/$server_build/chunks/generic_b83500fc.mjs","/$server_build/chunks/index_17cf126e.mjs","/$server_build/chunks/schema_217b7fe2.mjs","/$server_build/chunks/test_df2105e8.mjs","/$server_build/chunks/pages/_id__097026c1.mjs","/$server_build/chunks/pages/_slug__b4c1d153.mjs","/$server_build/chunks/pages/directory_35a7cf83.mjs","/$server_build/chunks/pages/directory_de0a0073.mjs","/$server_build/chunks/pages/generic_62cee758.mjs","/$server_build/chunks/pages/index_56960490.mjs","/$server_build/chunks/pages/schema_23ac7fde.mjs","/$server_build/chunks/pages/test_4cdf4ecc.mjs","/$server_build/chunks/astro/assets-service_54ee8c8a.mjs"]});Z();Q();ne();re();var kc=Symbol.for("astro.routeData");function wp(s,e){for(let r of e)if(s.includes(`/${r}`))return!1;return!0}function Fp(s,e,r){if(s)return async(t,n)=>{if(!s)return await n();let i=Reflect.get(t.request,kc);if(i&&i.type!=="page"&&i.type!=="fallback")return await n();let a=t.url,{locales:o,defaultLocale:c,fallback:u}=s,l=await n();if(l instanceof Response){let d=a.pathname.split("/"),p=a.pathname.includes(`/${c}`),h=wp(a.pathname,s.locales);if(s.routing==="prefix-other-locales"&&p){let m=a.pathname.replace(`/${c}`,"");return l.headers.set("Location",m),new Response(null,{status:404,headers:l.headers})}else if(s.routing==="prefix-always"){if(a.pathname===e+"/"||a.pathname===e)return r==="always"?t.redirect(`${Ti(ye(e,s.defaultLocale))}`):t.redirect(`${ye(e,s.defaultLocale)}`);if(h)return new Response(null,{status:404,headers:l.headers})}if(l.status>=300&&u){let m=s.fallback?Object.keys(s.fallback):[],g=d.find(D=>o.includes(D));if(g&&m.includes(g)){let D=u[g],E;return D===c&&s.routing!=="prefix-always"?E=a.pathname.replace(`/${g}`,""):E=a.pathname.replace(`/${g}`,`/${D}`),t.redirect(E)}}}return l}}var _p=s=>{Reflect.set(s.request,kc,s.route)},wc,_i=1,Ep={write(s){let e=console.error;ut[s.level]<ut.error&&(e=console.log);function r(){let i="",a=s.label;return a&&(i+=Li(qn.format(new Date)+" "),s.level==="info"?a=Ue(Ui(`[${a}]`)):s.level==="warn"?a=Ue(Lr(`[${a}]`)):s.level==="error"&&(a=Ue(Ii(`[${a}]`))),i+=`${a} `),Bi(i)}let t=s.message;t===wc?(_i++,t=`${t} ${Lr(`(x${_i})`)}`):(wc=t,_i=1);let n=r()+t;return e(n),!0}},Cp={default(){return new Response(null,{status:301})}},Ap={page:()=>Promise.resolve(Cp),onRequest:(s,e)=>e(),renderers:[]};function Sp(...s){let e=s.filter(t=>!!t),r=e.length;return r?(t,n)=>{return i(0,t);function i(a,o){let c=e[a];return c(o,async()=>a<r-1?i(a+1,o):n())}}:(n,i)=>i()}function ki(s,e,r){return r?ye(r,Rr(s)):e?tt(ye(e,Rr(s))):s}function kp(s,e,r){return s.type==="inline"?{props:{},children:s.content}:{props:{rel:"stylesheet",href:ki(s.src,e,r)},children:""}}function $p(s,e,r){return new Set(s.map(t=>kp(t,e,r)))}function Tp(s,e,r){return s.type==="external"?jp(s.value,e,r):{props:{type:"module"},children:s.value}}function jp(s,e,r){return{props:{type:"module",src:ki(s,e,r)},children:""}}function Fc(s,e){let r=decodeURI(s);return e.routes.find(t=>t.pattern.test(r)||t.fallbackRoutes.some(n=>n.pattern.test(r)))}var _c=Symbol.for("astro.clientAddress"),Rp=Symbol.for("astro.responseSent");function Pp(s){if(s&&s.expressions?.length===1)return s.expressions[0]}var Ei=class{#e;#t;#r;constructor(e,r,t){if(this.#e=e,this.#t=r,this.#r=t,r)for(let n of Object.keys(r)){if(this[n]!==void 0)throw new x({...ns,message:ns.message(n)});Object.defineProperty(this,n,{get(){return!0},enumerable:!0})}}has(e){return this.#t?!!this.#t[e]:!1}async render(e,r=[]){if(!this.#t||!this.has(e))return;let t=this.#e;if(!Array.isArray(r))this.#r.warn("Astro.slots.render",`Expected second parameter to be an array, received a ${typeof r}. If you're trying to pass an array as a single argument and getting unexpected results, make sure you're passing your array as a item of an array. Ex: Astro.slots.render('default', [["Hello", "World"]])`);else if(r.length>0){let a=this.#t[e],o=typeof a=="function"?await a(t):await a,c=Pp(o);if(c)return await we(t,async()=>typeof c=="function"?c(...r):c).then(l=>l!=null?String(l):l);if(typeof o=="function")return await ue(t,o(...r)).then(u=>u!=null?String(u):u)}let n=await we(t,this.#t[e]);return de(t,n)}};function Op(s){let{params:e,request:r,resolve:t,locals:n}=s,i=new URL(r.url),a=new Headers;a.set("Content-Type","text/html");let o={status:s.status,statusText:"OK",headers:a};Object.defineProperty(o,"headers",{value:o.headers,enumerable:!0,writable:!1});let c=s.cookies,u,l,d,p={styles:s.styles??new Set,scripts:s.scripts??new Set,links:s.links??new Set,componentMetadata:s.componentMetadata??new Map,renderers:s.renderers,clientDirectives:s.clientDirectives,compressHTML:s.compressHTML,partial:s.partial,pathname:s.pathname,cookies:c,createAstro(h,m,g){let D=new Ei(p,g,s.logger);return{__proto__:h,get clientAddress(){if(!(_c in r))throw s.adapterName?new x({...qe,message:qe.message(s.adapterName)}):new x(Wt);return Reflect.get(r,_c)},get cookies(){return c||(c=new ct(r),p.cookies=c,c)},get preferredLocale(){if(u)return u;if(s.locales)return u=js(r,s.locales),u},get preferredLocaleList(){if(l)return l;if(s.locales)return l=Rs(r,s.locales),l},get currentLocale(){if(d||s.locales&&(d=Ps(r,s.locales,s.routingStrategy,s.defaultLocale),d))return d},params:e,props:m,locals:n,request:r,url:i,redirect(b,w){if(r[Rp])throw new x({...nt});return new Response(null,{status:w||302,headers:{Location:b}})},response:o,slots:D}},resolve:t,response:o,_metadata:{hasHydrationScript:!1,hasRenderedHead:!1,hasDirectives:new Set,headInTree:!1,extraHead:[],propagators:new Set}};return p}async function Ec({mod:s,renderContext:e,env:r,cookies:t}){if(ks(e.route))return new Response(null,{status:Jn(e.route,e.request.method),headers:{location:Gn(e.route,e.params)}});if($s(e.route))return new Response(null,{status:404});if(!s)throw new x(vn);let n=s.default;if(!n)throw new Error(`Expected an exported Astro component but received typeof ${typeof n}`);let i=Op({adapterName:r.adapterName,links:e.links,styles:e.styles,logger:r.logger,params:e.params,pathname:e.pathname,componentMetadata:e.componentMetadata,resolve:r.resolve,renderers:r.renderers,clientDirectives:r.clientDirectives,compressHTML:r.compressHTML,request:e.request,partial:!!s.partial,site:r.site,scripts:e.scripts,ssr:r.ssr,status:e.status??200,cookies:t,locals:e.locals??{},locales:e.locales,defaultLocale:e.defaultLocale,routingStrategy:e.routing});s.frontmatter&&typeof s.frontmatter=="object"&&"draft"in s.frontmatter&&r.logger.warn("astro",`The drafts feature is deprecated and used in ${e.route.component}. You should migrate to content collections instead. See https://docs.astro.build/en/guides/content-collections/#filtering-collection-queries for more information.`);let a=await Pn(i,n,e.props,{},r.streaming,e.route);return i.cookies&&lt(a,i.cookies),a}var Ci=class{env;#e;#t={before:[]};#r;constructor(e){this.env=e}setEnvironment(){}setEndpointHandler(e){this.#r=e}setMiddlewareFunction(e){this.#e=e}unsetMiddlewareFunction(){this.#e=void 0}getEnvironment(){return this.env}async renderRoute(e,r){for(let n of this.#t.before)n(e,r);let t=await this.#i(e,this.env,r,this.#e);if(e.route.type==="endpoint"){if(!this.#r)throw new Error("You created a pipeline that does not know how to handle the result coming from an endpoint.");return this.#r(e.request,t)}else return t}async#i(e,r,t,n){let i=Os({request:e.request,params:e.params,props:e.props,site:r.site,adapterName:r.adapterName,locales:e.locales,routingStrategy:e.routing,defaultLocale:e.defaultLocale});switch(e.route.type){case"page":case"fallback":case"redirect":return n?await Ss(r.logger,n,i,()=>Ec({mod:t,renderContext:e,env:r,cookies:i.cookies})):await Ec({mod:t,renderContext:e,env:r,cookies:i.cookies});case"endpoint":return await Zn(t,r,e,n);default:throw new Error(`Couldn't find route of type [${e.route.type}]`)}}onBeforeRenderRoute(e){this.#t.before.push(e)}},kr=class extends Error{originalResponse;constructor(e){super(),this.originalResponse=e}},Ai=class extends Ci{constructor(e){super(e),this.setEndpointHandler(this.#e)}async#e(e,r){if(r.headers.get("X-Astro-Response")==="Not-Found")throw new kr(r);return r}},Bp=Symbol.for("astro.locals"),Cc=Symbol.for("astro.responseSent"),Lp=new Set([404,500]),Si=class{#e;#t;#r;#i=new Qt({dest:Ep,level:"info"});#n;#s;#c;constructor(e,r=!0){this.#e=e,this.#t={routes:e.routes.map(t=>t.routeData)},this.#r=new Map(e.routes.map(t=>[t.routeData,t])),this.#n=Nt(this.#e.base),this.#s=new Ai(this.#d(r)),this.#c=new dt(this.#i.options,this.#e.adapterName)}getAdapterLogger(){return this.#c}#d(e=!1){return{adapterName:this.#e.adapterName,logger:this.#i,mode:"production",compressHTML:this.#e.compressHTML,renderers:this.#e.renderers,clientDirectives:this.#e.clientDirectives,resolve:async r=>{if(!(r in this.#e.entryModules))throw new Error(`Unable to resolve [${r}]`);let t=this.#e.entryModules[r];switch(!0){case t.startsWith("data:"):case t.length===0:return t;default:return ki(t,this.#e.base,this.#e.assetsPrefix)}},routeCache:new Zt(this.#i),site:this.#e.site,ssr:!0,streaming:e}}set setManifestData(e){this.#t=e}removeBase(e){return e.startsWith(this.#e.base)?e.slice(this.#n.length+1):e}#p(e){let r=new URL(e.url);return tt(this.removeBase(r.pathname))}match(e,r={}){let t=new URL(e.url);if(this.#e.assets.has(t.pathname))return;let n=tt(this.removeBase(t.pathname)),i=Fc(n,this.#t);if(!(!i||i.prerender))return i}async render(e,r,t){if(e.url!==Tr(e.url)&&(e=new Request(Tr(e.url),e)),r||(r=this.match(e)),!r)return this.#a(e,{status:404});Reflect.set(e,Bp,t??{});let n=this.#p(e),i=this.#h(r,n),a=await this.#u(r),o=await a.page(),c=new URL(e.url),u=await this.#l(c,e,r,a,i),l;try{let d=Fp(this.#e.i18n,this.#e.base,this.#e.trailingSlash);d?(a.onRequest?this.#s.setMiddlewareFunction(Sp(d,a.onRequest)):this.#s.setMiddlewareFunction(d),this.#s.onBeforeRenderRoute(_p)):a.onRequest&&this.#s.setMiddlewareFunction(a.onRequest),l=await this.#s.renderRoute(u,o)}catch(d){return d instanceof kr?this.#a(e,{status:404,response:d.originalResponse}):(this.#i.error("ssr",d.stack||d.message||String(d)),this.#a(e,{status:500}))}return r.type==="page"||r.type==="redirect"?Lp.has(l.status)?this.#a(e,{response:l,status:l.status}):(Reflect.set(l,Cc,!0),l):l}setCookieHeaders(e){return Mn(e)}async#l(e,r,t,n,i=200){if(t.type==="endpoint"){let a="/"+this.removeBase(e.pathname),c=await n.page();return await Ts({request:r,pathname:a,route:t,status:i,env:this.#s.env,mod:c,locales:this.#e.i18n?.locales,routing:this.#e.i18n?.routing,defaultLocale:this.#e.i18n?.defaultLocale})}else{let a=tt(this.removeBase(e.pathname)),o=this.#r.get(t),c=new Set,u=$p(o.styles),l=new Set;for(let p of o.scripts)"stage"in p?p.stage==="head-inline"&&l.add({props:{},children:p.children}):l.add(Tp(p));let d=await n.page();return await Ts({request:r,pathname:a,componentMetadata:this.#e.componentMetadata,scripts:l,styles:u,links:c,route:t,status:i,mod:d,env:this.#s.env,locales:this.#e.i18n?.locales,routing:this.#e.i18n?.routing,defaultLocale:this.#e.i18n?.defaultLocale})}}async#a(e,{status:r,response:t,skipMiddleware:n=!1}){let i=Fc("/"+r,this.#t),a=new URL(e.url);if(i){if(i.prerender){let u=i.route.endsWith(`/${r}`)?".html":"",l=new URL(`${this.#n}/${r}${u}`,a),d=await fetch(l.toString()),p={status:r};return this.#o(d,t,p)}let c=await this.#u(i);try{let u=await this.#l(a,e,i,c,r),l=await c.page();n===!1&&c.onRequest&&this.#s.setMiddlewareFunction(c.onRequest),n&&this.#s.unsetMiddlewareFunction();let d=await this.#s.renderRoute(u,l);return this.#o(d,t)}catch{if(n===!1&&c.onRequest)return this.#a(e,{status:r,response:t,skipMiddleware:!0})}}let o=this.#o(new Response(null,{status:r}),t);return Reflect.set(o,Cc,!0),o}#o(e,r,t){if(!r)return t!==void 0?new Response(e.body,{status:t.status,statusText:e.statusText,headers:e.headers}):e;let{statusText:n,headers:i}=r,a=t?.status?t.status:r.status===200?e.status:r.status;return new Response(e.body,{status:a,statusText:a===200?e.statusText:n,headers:new Headers(Array.from(i))})}#h(e,r){if(!e.pattern.exec(r)){for(let n of e.fallbackRoutes)if(n.pattern.test(r))return 302}let t=Nt(e.route);return t.endsWith("/404")?404:t.endsWith("/500")?500:200}async#u(e){if(e.type==="redirect")return Ap;if(this.#e.pageMap){let r=this.#e.pageMap.get(e.component);if(!r)throw new Error(`Unexpectedly unable to find a component instance for route ${e.route}`);return await r()}else{if(this.#e.pageModule)return this.#e.pageModule;throw new Error("Astro couldn't find the correct page to render, probably because it wasn't correctly mapped for SSR usage. This is an internal error, please file an issue.")}}},Ip=typeof process=="object"&&Object.prototype.toString.call(process)==="[object process]";function Up(){return new Proxy({},{get:(s,e)=>{console.warn(`Unable to access \`import.meta\0.env.${e.toString()}\` on initialization as the Cloudflare platform only provides the environment variables per request. Please move the environment variable access inside a function that's only called after a request has been received.`)}})}Ip||(process.env=Up());function $c(s){let e=new Si(s);return{onRequest:async t=>{let n=t.request,{env:i}=t;process.env=i;let{pathname:a}=new URL(n.url);if(s.assets.has(a))return i.ASSETS.fetch(n);let o=e.match(n);Reflect.set(n,Symbol.for("astro.clientAddress"),n.headers.get("cf-connecting-ip"));let c={runtime:{waitUntil:l=>{t.waitUntil(l)},env:t.env,cf:n.cf,caches}},u=await e.render(n,o,c);if(e.setCookieHeaders)for(let l of e.setCookieHeaders(u))u.headers.append("Set-Cookie",l);return u},manifest:s}}var Ac=Object.freeze(Object.defineProperty({__proto__:null,createExports:$c},Symbol.toStringTag,{value:"Module"})),Np=()=>Promise.resolve().then(()=>(fa(),ha)),Mp=()=>Promise.resolve().then(()=>(Xo(),Yo)),qp=()=>Promise.resolve().then(()=>(rc(),tc)),zp=()=>Promise.resolve().then(()=>(ic(),sc)),Hp=()=>Promise.resolve().then(()=>(lc(),cc)),Wp=()=>Promise.resolve().then(()=>(hc(),pc)),Vp=()=>Promise.resolve().then(()=>(Dc(),gc)),Gp=()=>Promise.resolve().then(()=>(bc(),xc)),Jp=new Map([["node_modules/astro/dist/assets/endpoint/generic.js",Np],["src/pages/index.astro",Mp],["src/pages/directory.astro",qp],["src/pages/places/[id].astro",zp],["src/pages/places/[slug].astro",Hp],["src/pages/schema.astro",Wp],["src/pages/test.astro",Vp],["src/pages/api/directory.js",Gp]]),Tc=Object.assign(ea,{pageMap:Jp,renderers:B}),Kp=void 0,jc=$c(Tc),CD=jc.onRequest,AD=jc.manifest,Sc="start";Sc in Ac&&Ac[Sc](Tc,Kp);export{AD as manifest,CD as onRequest,Jp as pageMap};
/**
 * shortdash - https://github.com/bibig/node-shorthash
 *
 * @license
 *
 * (The MIT License)
 *
 * Copyright (c) 2013 Bibig <bibig@me.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
