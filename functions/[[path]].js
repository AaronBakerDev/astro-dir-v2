globalThis.process = {
								argv: [],
								env: {},
							};
var Ec=Object.create;var Ut=Object.defineProperty;var Cc=Object.getOwnPropertyDescriptor;var Ac=Object.getOwnPropertyNames;var Sc=Object.getPrototypeOf,kc=Object.prototype.hasOwnProperty;var D=(s,e)=>()=>(s&&(e=s(s=0)),e);var B=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),q=(s,e)=>{for(var r in e)Ut(s,r,{get:e[r],enumerable:!0})},ki=(s,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ac(e))!kc.call(s,i)&&i!==r&&Ut(s,i,{get:()=>e[i],enumerable:!(t=Cc(e,i))||t.enumerable});return s};var ge=(s,e,r)=>(r=s!=null?Ec(Sc(s)):{},ki(e||!s||!s.__esModule?Ut(r,"default",{value:s,enumerable:!0}):r,s)),$c=s=>ki(Ut({},"__esModule",{value:!0}),s);function $i(s){return s.endsWith("/")?s:s+"/"}function tt(s){return s[0]==="/"?s:"/"+s}function $r(s){return s.replace(/(?<!:)\/\/+/g,"/")}function Nt(s){return s.endsWith("/")?s.slice(0,s.length-1):s}function Tc(s){return s.startsWith("/")?s.substring(1):s}function Tr(s){return s.replace(/^\/|\/$/g,"")}function jc(s){return typeof s=="string"||s instanceof String}function De(...s){return s.filter(jc).map((e,r)=>r===0?Nt(e):r===s.length-1?Tc(e):Tr(e)).join("/")}function Le(s){return/^(http|ftp|https|ws):?\/\//.test(s)||s.startsWith("data:")}function jr(s){return s.replace(/\\/g,"/")}var rt=D(()=>{});var Pr=B(Rr=>{"use strict";Rr.parse=Pc;Rr.serialize=Oc;var Rc=Object.prototype.toString,Mt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Pc(s,e){if(typeof s!="string")throw new TypeError("argument str must be a string");for(var r={},t=e||{},i=t.decode||Bc,n=0;n<s.length;){var a=s.indexOf("=",n);if(a===-1)break;var o=s.indexOf(";",n);if(o===-1)o=s.length;else if(o<a){n=s.lastIndexOf(";",a-1)+1;continue}var c=s.slice(n,a).trim();if(r[c]===void 0){var u=s.slice(a+1,o).trim();u.charCodeAt(0)===34&&(u=u.slice(1,-1)),r[c]=Uc(u,i)}n=o+1}return r}function Oc(s,e,r){var t=r||{},i=t.encode||Lc;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Mt.test(s))throw new TypeError("argument name is invalid");var n=i(e);if(n&&!Mt.test(n))throw new TypeError("argument val is invalid");var a=s+"="+n;if(t.maxAge!=null){var o=t.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(t.domain){if(!Mt.test(t.domain))throw new TypeError("option domain is invalid");a+="; Domain="+t.domain}if(t.path){if(!Mt.test(t.path))throw new TypeError("option path is invalid");a+="; Path="+t.path}if(t.expires){var c=t.expires;if(!Ic(c)||isNaN(c.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+c.toUTCString()}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.priority){var u=typeof t.priority=="string"?t.priority.toLowerCase():t.priority;switch(u){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(t.sameSite){var l=typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function Bc(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function Lc(s){return encodeURIComponent(s)}function Ic(s){return Rc.call(s)==="[object Date]"||s instanceof Date}function Uc(s,e){try{return e(s)}catch{return s}}});var Ni=B((nh,Ir)=>{var ne={};typeof Ir>"u"?window.eastasianwidth=ne:Ir.exports=ne;ne.eastAsianWidth=function(s){var e=s.charCodeAt(0),r=s.length==2?s.charCodeAt(1):0,t=e;return 55296<=e&&e<=56319&&56320<=r&&r<=57343&&(e&=1023,r&=1023,t=e<<10|r,t+=65536),t==12288||65281<=t&&t<=65376||65504<=t&&t<=65510?"F":t==8361||65377<=t&&t<=65470||65474<=t&&t<=65479||65482<=t&&t<=65487||65490<=t&&t<=65495||65498<=t&&t<=65500||65512<=t&&t<=65518?"H":4352<=t&&t<=4447||4515<=t&&t<=4519||4602<=t&&t<=4607||9001<=t&&t<=9002||11904<=t&&t<=11929||11931<=t&&t<=12019||12032<=t&&t<=12245||12272<=t&&t<=12283||12289<=t&&t<=12350||12353<=t&&t<=12438||12441<=t&&t<=12543||12549<=t&&t<=12589||12593<=t&&t<=12686||12688<=t&&t<=12730||12736<=t&&t<=12771||12784<=t&&t<=12830||12832<=t&&t<=12871||12880<=t&&t<=13054||13056<=t&&t<=19903||19968<=t&&t<=42124||42128<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||55216<=t&&t<=55238||55243<=t&&t<=55291||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65106||65108<=t&&t<=65126||65128<=t&&t<=65131||110592<=t&&t<=110593||127488<=t&&t<=127490||127504<=t&&t<=127546||127552<=t&&t<=127560||127568<=t&&t<=127569||131072<=t&&t<=194367||177984<=t&&t<=196605||196608<=t&&t<=262141?"W":32<=t&&t<=126||162<=t&&t<=163||165<=t&&t<=166||t==172||t==175||10214<=t&&t<=10221||10629<=t&&t<=10630?"Na":t==161||t==164||167<=t&&t<=168||t==170||173<=t&&t<=174||176<=t&&t<=180||182<=t&&t<=186||188<=t&&t<=191||t==198||t==208||215<=t&&t<=216||222<=t&&t<=225||t==230||232<=t&&t<=234||236<=t&&t<=237||t==240||242<=t&&t<=243||247<=t&&t<=250||t==252||t==254||t==257||t==273||t==275||t==283||294<=t&&t<=295||t==299||305<=t&&t<=307||t==312||319<=t&&t<=322||t==324||328<=t&&t<=331||t==333||338<=t&&t<=339||358<=t&&t<=359||t==363||t==462||t==464||t==466||t==468||t==470||t==472||t==474||t==476||t==593||t==609||t==708||t==711||713<=t&&t<=715||t==717||t==720||728<=t&&t<=731||t==733||t==735||768<=t&&t<=879||913<=t&&t<=929||931<=t&&t<=937||945<=t&&t<=961||963<=t&&t<=969||t==1025||1040<=t&&t<=1103||t==1105||t==8208||8211<=t&&t<=8214||8216<=t&&t<=8217||8220<=t&&t<=8221||8224<=t&&t<=8226||8228<=t&&t<=8231||t==8240||8242<=t&&t<=8243||t==8245||t==8251||t==8254||t==8308||t==8319||8321<=t&&t<=8324||t==8364||t==8451||t==8453||t==8457||t==8467||t==8470||8481<=t&&t<=8482||t==8486||t==8491||8531<=t&&t<=8532||8539<=t&&t<=8542||8544<=t&&t<=8555||8560<=t&&t<=8569||t==8585||8592<=t&&t<=8601||8632<=t&&t<=8633||t==8658||t==8660||t==8679||t==8704||8706<=t&&t<=8707||8711<=t&&t<=8712||t==8715||t==8719||t==8721||t==8725||t==8730||8733<=t&&t<=8736||t==8739||t==8741||8743<=t&&t<=8748||t==8750||8756<=t&&t<=8759||8764<=t&&t<=8765||t==8776||t==8780||t==8786||8800<=t&&t<=8801||8804<=t&&t<=8807||8810<=t&&t<=8811||8814<=t&&t<=8815||8834<=t&&t<=8835||8838<=t&&t<=8839||t==8853||t==8857||t==8869||t==8895||t==8978||9312<=t&&t<=9449||9451<=t&&t<=9547||9552<=t&&t<=9587||9600<=t&&t<=9615||9618<=t&&t<=9621||9632<=t&&t<=9633||9635<=t&&t<=9641||9650<=t&&t<=9651||9654<=t&&t<=9655||9660<=t&&t<=9661||9664<=t&&t<=9665||9670<=t&&t<=9672||t==9675||9678<=t&&t<=9681||9698<=t&&t<=9701||t==9711||9733<=t&&t<=9734||t==9737||9742<=t&&t<=9743||9748<=t&&t<=9749||t==9756||t==9758||t==9792||t==9794||9824<=t&&t<=9825||9827<=t&&t<=9829||9831<=t&&t<=9834||9836<=t&&t<=9837||t==9839||9886<=t&&t<=9887||9918<=t&&t<=9919||9924<=t&&t<=9933||9935<=t&&t<=9953||t==9955||9960<=t&&t<=9983||t==10045||t==10071||10102<=t&&t<=10111||11093<=t&&t<=11097||12872<=t&&t<=12879||57344<=t&&t<=63743||65024<=t&&t<=65039||t==65533||127232<=t&&t<=127242||127248<=t&&t<=127277||127280<=t&&t<=127337||127344<=t&&t<=127386||917760<=t&&t<=917999||983040<=t&&t<=1048573||1048576<=t&&t<=1114109?"A":"N"};ne.characterLength=function(s){var e=this.eastAsianWidth(s);return e=="F"||e=="W"||e=="A"?2:1};function Ui(s){return s.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}ne.length=function(s){for(var e=Ui(s),r=0,t=0;t<e.length;t++)r=r+this.characterLength(e[t]);return r};ne.slice=function(s,e,r){textLen=ne.length(s),e=e||0,r=r||1,e<0&&(e=textLen+e),r<0&&(r=textLen+r);for(var t="",i=0,n=Ui(s),a=0;a<n.length;a++){var o=n[a],c=ne.length(o);if(i>=e-(c==2?1:0))if(i+c<=r)t+=o;else break;i+=c}return t}});var Ur=B((ph,Mi)=>{"use strict";function qt(){this._types=Object.create(null),this._extensions=Object.create(null);for(let s=0;s<arguments.length;s++)this.define(arguments[s]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}qt.prototype.define=function(s,e){for(let r in s){let t=s[r].map(function(i){return i.toLowerCase()});r=r.toLowerCase();for(let i=0;i<t.length;i++){let n=t[i];if(n[0]!=="*"){if(!e&&n in this._types)throw new Error('Attempt to change mapping for "'+n+'" extension from "'+this._types[n]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+n+'" from the list of extensions for "'+r+'".');this._types[n]=r}}if(e||!this._extensions[r]){let i=t[0];this._extensions[r]=i[0]!=="*"?i:i.substr(1)}}};qt.prototype.getType=function(s){s=String(s);let e=s.replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),t=e.length<s.length;return(r.length<e.length-1||!t)&&this._types[r]||null};qt.prototype.getExtension=function(s){return s=/^\s*([^;\s]*)/.test(s)&&RegExp.$1,s&&this._extensions[s.toLowerCase()]||null};Mi.exports=qt});var Nr=B((hh,qi)=>{qi.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var Hi=B((fh,zi)=>{zi.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var Vi=B((mh,Wi)=>{"use strict";var qc=Ur();Wi.exports=new qc(Nr(),Hi())});var zc,Hc,Wc,Vc,Gi,Z=D(()=>{({replace:zc}=""),Hc=/[&<>'"]/g,Wc={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},Vc=s=>Wc[s],Gi=s=>zc.call(s,Hc,Vc)});function Ji(s){var e,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(e=0;e<i;e++)s[e]&&(r=Ji(s[e]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function Mr(){for(var s,e,r=0,t="",i=arguments.length;r<i;r++)(s=arguments[r])&&(e=Ji(s))&&(t&&(t+=" "),t+=e);return t}var ae=D(()=>{});function Jc(s){return s.replace(/\r\n|\r(?!\n)|\n/g,`
`)}function Kc(s,e){if(!e||e.line===void 0||e.column===void 0)return"";let r=Jc(s).split(`
`).map(a=>a.replace(/\t/g,"  ")),t=[];for(let a=-2;a<=2;a++)r[e.line+a]&&t.push(e.line+a);let i=0;for(let a of t){let o=`> ${a}`;o.length>i&&(i=o.length)}let n="";for(let a of t){let o=a===e.line-1;n+=o?"> ":"  ",n+=`${a+1} | ${r[a]}
`,o&&(n+=`${Array.from({length:i}).join(" ")}  | ${Array.from({length:e.column}).join(" ")}^
`)}return n}function Yc(s){return!(s.length!==3||!s[0]||typeof s[0]!="object")}function vn(s,e,r){let t=e?.split("/").pop()?.replace(".astro","")??"",i=(...n)=>{if(!Yc(n))throw new y({...Qi,message:Qi.message(t)});return s(...n)};return Object.defineProperty(i,"name",{value:t,writable:!1}),i.isAstroComponentFactory=!0,i.moduleId=e,i.propagation=r,i}function Xc(s){return vn(s.factory,s.moduleId,s.propagation)}function W(s,e,r){return typeof s=="function"?vn(s,e,r):Xc(s)}function Qc(){return e=>{if(typeof e=="string")throw new y({...Zi,message:Zi.message(JSON.stringify(e))});let r=[...Object.values(e)];if(r.length===0)throw new y({...en,message:en.message(JSON.stringify(e))});return Promise.all(r.map(t=>t()))}}function le(s){return{site:s?new URL(s):void 0,generator:`Astro v${ps}`,glob:Qc()}}function Zc(s,e,r){let t=e.toLowerCase();if(s[t]&&r.warn("astro",`Lower case endpoint names are deprecated and will not be supported in Astro 4.0. Rename the endpoint ${t} to ${e}.`),s[e])return s[e];if(s[t])return s[t];if(e==="delete"&&s.del)return s.del;if(s.all)return s.all;if(s.ALL)return s.ALL}async function hs(s,e,r,t){let{request:i}=e,n=i.method?.toUpperCase(),a=Zc(s,n,t);if(!r&&r===!1&&n&&n!=="GET"&&n!=="get"&&console.warn(`
${n} requests are not available when building a static site. Update your config to \`output: 'server'\` or \`output: 'hybrid'\` with an \`export const prerender = false\` to handle ${n} requests.`),!a||typeof a!="function")return new Response(null,{status:404,headers:{"X-Astro-Response":"Not-Found"}});let o=new Proxy(e,{get(c,u){if(u in c)return Reflect.get(c,u)}});return a.call(s,o,i)}function fs(s){return!!s&&typeof s=="object"&&typeof s.then=="function"}function el(s){return Object.prototype.toString.call(s)==="[object HTMLString]"}function tn(s){return s&&typeof s=="object"&&s[yn]}function ms(s){return Object.defineProperty(s,xn,{value:!0})}function tl(s){return s&&typeof s=="object"&&s[xn]}function Hr(s,e={},r=new WeakSet){if(r.has(s))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(s);let t=s.map(i=>bn(i,e,r));return r.delete(s),t}function wn(s,e={},r=new WeakSet){if(r.has(s))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(s);let t=Object.fromEntries(Object.entries(s).map(([i,n])=>[i,bn(n,e,r)]));return r.delete(s),t}function bn(s,e={},r=new WeakSet){switch(Object.prototype.toString.call(s)){case"[object Date]":return[z.Date,s.toISOString()];case"[object RegExp]":return[z.RegExp,s.source];case"[object Map]":return[z.Map,Hr(Array.from(s),e,r)];case"[object Set]":return[z.Set,Hr(Array.from(s),e,r)];case"[object BigInt]":return[z.BigInt,s.toString()];case"[object URL]":return[z.URL,s.toString()];case"[object Array]":return[z.JSON,Hr(s,e,r)];case"[object Uint8Array]":return[z.Uint8Array,Array.from(s)];case"[object Uint16Array]":return[z.Uint16Array,Array.from(s)];case"[object Uint32Array]":return[z.Uint32Array,Array.from(s)];default:return s!==null&&typeof s=="object"?[z.Value,wn(s,e,r)]:s===void 0?[z.Value]:[z.Value,s]}}function Fn(s,e){return JSON.stringify(wn(s,e))}function rl(s,e){let r={isPage:!1,hydration:null,props:{},propsWithoutTransitionAttributes:{}};for(let[t,i]of Object.entries(s))if(t.startsWith("server:")&&t==="server:root"&&(r.isPage=!0),t.startsWith("client:"))switch(r.hydration||(r.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),t){case"client:component-path":{r.hydration.componentUrl=i;break}case"client:component-export":{r.hydration.componentExport.value=i;break}case"client:component-hydration":break;case"client:display-name":break;default:{if(r.hydration.directive=t.split(":")[1],r.hydration.value=i,!e.has(r.hydration.directive)){let n=Array.from(e.keys()).map(a=>`client:${a}`).join(", ");throw new Error(`Error: invalid hydration directive "${t}". Supported hydration methods: ${n}`)}if(r.hydration.directive==="media"&&typeof r.hydration.value!="string")throw new y(Gc);break}}else r.props[t]=i,_n.includes(t)||(r.propsWithoutTransitionAttributes[t]=i);for(let t of Object.getOwnPropertySymbols(s))r.props[t]=s[t],r.propsWithoutTransitionAttributes[t]=s[t];return r}async function sl(s,e){let{renderer:r,result:t,astroId:i,props:n,attrs:a}=s,{hydrate:o,componentUrl:c,componentExport:u}=e;if(!u.value)throw new y({...Xi,message:Xi.message(e.displayName)});let l={children:"",props:{uid:i}};if(a)for(let[p,h]of Object.entries(a))l.props[p]=it(h);l.props["component-url"]=await t.resolve(decodeURI(c)),r.clientEntrypoint&&(l.props["component-export"]=u.value,l.props["renderer-url"]=await t.resolve(decodeURI(r.clientEntrypoint)),l.props.props=it(Fn(n,e))),l.props.ssr="",l.props.client=o;let d=await t.resolve("astro:scripts/before-hydration.js");return d.length&&(l.props["before-hydration-url"]=d),l.props.opts=it(JSON.stringify({name:e.displayName,value:e.hydrateArgs||""})),_n.forEach(p=>{n[p]&&(l.props[p]=n[p])}),l}function il(s){let e=0;if(s.length===0)return e;for(let r=0;r<s.length;r++){let t=s.charCodeAt(r);e=(e<<5)-e+t,e=e&e}return e}function nl(s){let e,r="",t=il(s),i=t<0?"Z":"";for(t=Math.abs(t);t>=Wr;)e=t%Wr,t=Math.floor(t/Wr),r=Gr[e]+r;return t>0&&(r=Gr[t]+r),i+r}function En(s){return s==null?!1:s.isAstroComponentFactory===!0}function al(s,e){let r=e.propagation||"none";return e.moduleId&&s.componentMetadata.has(e.moduleId)&&r==="none"&&(r=s.componentMetadata.get(e.moduleId).propagation),r==="in-tree"||r==="self"}function gs(s){return typeof s=="object"&&!!s[ol]}function ul(s){return s._metadata.hasHydrationScript?!1:s._metadata.hasHydrationScript=!0}function dl(s,e){return s._metadata.hasDirectives.has(e)?!1:(s._metadata.hasDirectives.add(e),!0)}function rn(s,e){let t=s.clientDirectives.get(e);if(!t)throw new Error(`Unknown directive: ${e}`);return t}function pl(s,e,r){switch(e){case"both":return`${ll}<script>${rn(s,r)};${cl}<\/script>`;case"directive":return`<script>${rn(s,r)}<\/script>`}return""}function yl(s){let e="";for(let[r,t]of Object.entries(s))e+=`const ${Dl(r)} = ${JSON.stringify(t)?.replace(/<\/script>/g,"\\x3C/script>")};
`;return $(e)}function nn(s){return s.length===1?s[0]:`${s.slice(0,-1).join(", ")} or ${s[s.length-1]}`}function S(s,e,r=!0){if(s==null)return"";if(s===!1)return fl.test(e)||ml.test(e)?$(` ${e}="false"`):"";if(gl.has(e))return console.warn(`[astro] The "${e}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${e}={value}\`) instead of the dynamic spread syntax (\`{...{ "${e}": value }}\`).`),"";if(e==="class:list"){let t=Ue(Mr(s),r);return t===""?"":$(` ${e.slice(0,-5)}="${t}"`)}if(e==="style"&&!(s instanceof ye)){if(Array.isArray(s)&&s.length===2)return $(` ${e}="${Ue(`${sn(s[0])};${s[1]}`,r)}"`);if(typeof s=="object")return $(` ${e}="${Ue(sn(s),r)}"`)}return e==="className"?$(` class="${Ue(s,r)}"`):s===!0&&(e.startsWith("data-")||hl.test(e))?$(` ${e}`):$(` ${e}="${Ue(s,r)}"`)}function Jr(s,e=!0){let r="";for(let[t,i]of Object.entries(s))r+=S(i,t,e);return $(r)}function st(s,{props:e,children:r=""},t=!0){let{lang:i,"data-astro-id":n,"define:vars":a,...o}=e;return a&&(s==="style"&&(delete o["is:global"],delete o["is:scoped"]),s==="script"&&(delete o.hoist,r=yl(a)+`
`+r)),(r==null||r=="")&&Ds.test(s)?`<${s}${Jr(o,t)} />`:`<${s}${Jr(o,t)}>${r}</${s}>`}function Cn(s){let e=[],r={write:i=>e.push(i)},t=s(r);return{async renderToFinalDestination(i){for(let n of e)i.write(n);r.write=n=>i.write(n),await t}}}function an(s){s._metadata.hasRenderedHead=!0;let e=Array.from(s.styles).filter(Vr).map(n=>n.props.rel==="stylesheet"?st("link",n):st("style",n));s.styles.clear();let r=Array.from(s.scripts).filter(Vr).map(n=>st("script",n,!1)),t=Array.from(s.links).filter(Vr).map(n=>st("link",n,!1)),i=e.join(`
`)+t.join(`
`)+r.join(`
`);if(s._metadata.extraHead.length>0)for(let n of s._metadata.extraHead)i+=n;return $(i)}function*An(){yield ms({type:"head"})}function*V(){yield ms({type:"maybe-head"})}function xl(s){return!!s[Kr]}function at(s,e,r){return!e&&r?at(s,r):{async render(t){await Ne(t,typeof e=="function"?e(s):e)}}}async function xe(s,e,r){let t="",i=null,n={write(o){o instanceof Response||(typeof o=="object"&&"type"in o&&typeof o.type=="string"?(i===null&&(i=[]),i.push(o)):t+=ce(s,o))}};return await at(s,e,r).render(n),$(new zt(t,i))}async function Sn(s,e={}){let r=null,t={};return e&&await Promise.all(Object.entries(e).map(([i,n])=>xe(s,n).then(a=>{a.instructions&&(r===null&&(r=[]),r.push(...a.instructions)),t[i]=a}))),{slotInstructions:r,children:t}}function ys(s,e){if(tl(e)){let r=e;switch(r.type){case"directive":{let{hydration:t}=r,i=t&&ul(s),n=t&&dl(s,t.directive),a=i?"both":n?"directive":null;if(a){let o=pl(s,a,t.directive);return $(o)}else return""}case"head":return s._metadata.hasRenderedHead||s.partial?"":an(s);case"maybe-head":return s._metadata.hasRenderedHead||s._metadata.headInTree||s.partial?"":an(s);default:throw new Error(`Unknown chunk type: ${e.type}`)}}else{if(e instanceof Response)return"";if(xl(e)){let r="",t=e;if(t.instructions)for(let i of t.instructions)r+=ys(s,i);return r+=e.toString(),r}}return e.toString()}function ce(s,e){return ArrayBuffer.isView(e)?wl.decode(e):ys(s,e)}function bl(s,e){if(ArrayBuffer.isView(e))return e;{let r=ys(s,e);return Ht.encode(r.toString())}}function Fl(s){return!!s&&typeof s=="object"&&"render"in s&&typeof s.render=="function"}async function Ne(s,e){if(e=await e,e instanceof zt)s.write(e);else if(el(e))s.write(e);else if(Array.isArray(e)){let r=e.map(t=>Cn(i=>Ne(i,t)));for(let t of r)t&&await t.renderToFinalDestination(s)}else if(typeof e=="function")await Ne(s,e());else if(typeof e=="string")s.write($(it(e)));else if(!(!e&&e!==0))if(Fl(e))await e.render(s);else if(Tn(e))await e.render(s);else if(Cl(e))await e.render(s);else if(ArrayBuffer.isView(e))s.write(e);else if(typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e))for await(let r of e)await Ne(s,r);else s.write(e)}function _l(s,e){if(s!=null)for(let r of Object.keys(s))r.startsWith("client:")&&console.warn(`You are attempting to render <${e} ${r} />, but ${e} is an Astro component. Astro components do not render in the client and should not have a hydration directive. Please use a framework component for client rendering.`)}function El(s,e,r,t,i={}){_l(t,e);let n=new Yr(s,t,i,r);return al(s,r)&&s._metadata.propagators.add(n),n}function Cl(s){return typeof s=="object"&&!!s[kn]}function Tn(s){return typeof s=="object"&&!!s[$n]}function x(s,...e){return new Xr(s,e)}async function jn(s,e,r,t,i=!1,n){let a=await Rn(s,e,r,t,n);if(a instanceof Response)return a;let o="",c=!1,u={write(l){if(i&&!c&&(c=!0,!s.partial&&!/<!doctype html/i.test(String(l)))){let d=s.compressHTML?"<!DOCTYPE html>":`<!DOCTYPE html>
`;o+=d}l instanceof Response||(o+=ce(s,l))}};return await a.render(u),o}async function Al(s,e,r,t,i=!1,n){let a=await Rn(s,e,r,t,n);if(a instanceof Response)return a;let o=!1;return i&&await Sl(s),new ReadableStream({start(c){let u={write(l){if(i&&!o&&(o=!0,!s.partial&&!/<!doctype html/i.test(String(l)))){let p=s.compressHTML?"<!DOCTYPE html>":`<!DOCTYPE html>
`;c.enqueue(Ht.encode(p))}if(l instanceof Response)throw new y({...nt});let d=bl(s,l);c.enqueue(d)}};(async()=>{try{await a.render(u),c.close()}catch(l){y.is(l)&&!l.loc&&l.setLocation({file:n?.component}),setTimeout(()=>c.error(l),0)}})()}})}async function Rn(s,e,r,t,i){let n=await e(s,r,t);if(n instanceof Response)return n;if(!Tn(n))throw new y({...Ki,message:Ki.message(i?.route,typeof n),location:{file:i?.component}});return gs(n)?n.content:n}async function Sl(s){let e=s._metadata.propagators.values();for(;;){let{value:r,done:t}=e.next();if(t)break;let i=await r.init(s);gs(i)&&s._metadata.extraHead.push(i.head)}}function kl(s){return typeof HTMLElement<"u"&&HTMLElement.isPrototypeOf(s)}async function $l(s,e,r,t){let i=Tl(e),n="";for(let a in r)n+=` ${a}="${Ue(await r[a])}"`;return $(`<${i}${n}>${await xe(s,t?.default)}</${i}>`)}function Tl(s){let e=customElements.getName(s);return e||s.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-")}function Rl(s){switch(s?.split(".").pop()){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue","@astrojs/svelte","@astrojs/lit"]}}function Pl(s){return s===vs}function Ol(s){return s&&s["astro:html"]===!0}function Il(s,e){let r=e?Ll:Bl;return s.replace(r,"")}async function Ul(s,e,r,t,i={}){if(!r&&!t["client:only"])throw new Error(`Unable to render ${e} because it is ${r}!
Did you forget to import the component or is it possible there is a typo?`);let{renderers:n,clientDirectives:a}=s,o={astroStaticSlot:!0,displayName:e},{hydration:c,isPage:u,props:l,propsWithoutTransitionAttributes:d}=rl(t,a),p="",h;c&&(o.hydrate=c.directive,o.hydrateArgs=c.value,o.componentExport=c.componentExport,o.componentUrl=c.componentUrl);let f=Rl(o.componentUrl),m=n.filter(F=>F.name!=="astro:jsx"),{children:g,slotInstructions:E}=await Sn(s,i),w;if(o.hydrate!=="only"){let F=!1;try{F=r&&r[on]}catch{}if(F){let T=r[on];w=n.find(({name:k})=>k===T)}if(!w){let T;for(let k of n)try{if(await k.ssr.check.call({result:s},r,l,g)){w=k;break}}catch(O){T??=O}if(!w&&T)throw T}if(!w&&typeof HTMLElement=="function"&&kl(r)){let T=await $l(s,r,t,i);return{render(k){k.write(T)}}}}else{if(o.hydrateArgs){let F=o.hydrateArgs,T=cn.has(F)?cn.get(F):F;w=n.find(({name:k})=>k===`@astrojs/${T}`||k===T)}if(!w&&m.length===1&&(w=m[0]),!w){let F=o.componentUrl?.split(".").pop();w=n.filter(({name:T})=>T===`@astrojs/${F}`||T===F)[0]}}if(w)o.hydrate==="only"?p=await xe(s,i?.fallback):{html:p,attrs:h}=await w.ssr.renderToStaticMarkup.call({result:s},r,d,g,o);else{if(o.hydrate==="only")throw new y({...zr,message:zr.message(o.displayName),hint:zr.hint(f.map(F=>F.replace("@astrojs/","")).join("|"))});if(typeof r!="string"){let F=m.filter(k=>f.includes(k.name)),T=m.length>1;if(F.length===0)throw new y({...qr,message:qr.message(o.displayName,o?.componentUrl?.split(".").pop(),T,m.length),hint:qr.hint(nn(f.map(k=>"`"+k+"`")))});if(F.length===1)w=F[0],{html:p,attrs:h}=await w.ssr.renderToStaticMarkup.call({result:s},r,d,g,o);else throw new Error(`Unable to render ${o.displayName}!

This component likely uses ${nn(f)},
but Astro encountered an error during server-side rendering.

Please ensure that ${o.displayName}:
1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.
   If this is unavoidable, use the \`client:only\` hydration directive.
2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.

If you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`)}}if(w&&!w.clientEntrypoint&&w.name!=="@astrojs/lit"&&o.hydrate)throw new y({...Yi,message:Yi.message(e,o.hydrate,w.name)});if(!p&&typeof r=="string"){let F=Nl(r),T=Object.values(g).join(""),k=x`<${F}${Jr(l)}${$(T===""&&Ds.test(F)?"/>":`>${T}</${F}>`)}`;p="";let O={write(M){M instanceof Response||(p+=ce(s,M))}};await k.render(O)}if(!c)return{render(F){if(E)for(let T of E)F.write(T);u||w?.name==="astro:jsx"?F.write(p):p&&p.length>0&&F.write($(Il(p,w?.ssr?.supportsAstroStaticSlot??!1)))}};let b=nl(`<!--${o.componentExport.value}:${o.componentUrl}-->
${p}
${Fn(l,o)}`),C=await sl({renderer:w,result:s,astroId:b,props:l,attrs:h},o),v=[];if(p){if(Object.keys(g).length>0)for(let F of Object.keys(g)){let T=w?.ssr?.supportsAstroStaticSlot?o.hydrate?"astro-slot":"astro-static-slot":"astro-slot",k=F==="default"?`<${T}>`:`<${T} name="${F}">`;p.includes(k)||v.push(F)}}else v=Object.keys(g);let It=v.length>0?v.map(F=>`<template data-astro-template${F!=="default"?`="${F}"`:""}>${g[F]}</template>`).join(""):"";return C.children=`${p??""}${It}`,C.children&&(C.props["await-children"]="",C.children+="<!--astro:end-->"),{render(F){if(E)for(let T of E)F.write(T);F.write(ms({type:"directive",hydration:c})),F.write($(st("astro-island",C,!1)))}}}function Nl(s){let e=/[&<>'"\s]+/g;return e.test(s)?s.trim().split(e)[0].trim():s}async function Ml(s,e={}){let r=await xe(s,e?.default);return{render(t){r!=null&&t.write(r)}}}async function ql(s,e,r,t={}){let{slotInstructions:i,children:n}=await Sn(s,t),a=e({slots:n}),o=i?i.map(c=>ce(s,c)).join(""):"";return{render(c){c.write($(o+a))}}}function zl(s,e,r,t,i={}){let n=El(s,e,r,t,i);return{async render(a){await n.render(a)}}}async function Y(s,e,r,t,i={}){return fs(r)&&(r=await r),Pl(r)?await Ml(s,i):(t=Hl(t),Ol(r)?await ql(s,r,t,i):En(r)?zl(s,e,r,t,i):await Ul(s,e,r,t,i))}function Hl(s){if(s["class:list"]!==void 0){let e=s["class:list"];delete s["class:list"],s.class=Mr(s.class,e),s.class===""&&delete s.class}return s}async function Qr(s,e,r,t,i={},n=!1,a){let o="",c=!1,u="";if(Wl(r))for(let l of V())u+=ce(s,l);try{let l={write(p){if(n&&!c&&(c=!0,!s.partial&&!/<!doctype html/i.test(String(p)))){let h=s.compressHTML?"<!DOCTYPE html>":`<!DOCTYPE html>
`;o+=h+u}p instanceof Response||(o+=ce(s,p))}};await(await Y(s,e,r,t,i)).render(l)}catch(l){throw y.is(l)&&!l.loc&&l.setLocation({file:a?.component}),l}return o}function Wl(s){return!!s?.[jl]}async function oe(s,e){switch(!0){case e instanceof ye:return e.toString().trim()===""?"":e;case typeof e=="string":return $(it(e));case typeof e=="function":return e;case(!e&&e!==0):return"";case Array.isArray(e):return $((await Promise.all(e.map(t=>oe(s,t)))).join(""))}let r;return e.props?e.props[ve.symbol]?r=e.props[ve.symbol]:r=new ve(e):r=new ve(e),es(s,e,r)}async function es(s,e,r){if(tn(e)){switch(!0){case!e.type:throw new Error(`Unable to render ${s.pathname} because it contains an undefined Component!
Did you forget to import the component or is it possible there is a typo?`);case e.type===Symbol.for("astro:fragment"):return oe(s,e.props.children);case e.type.isAstroComponentFactory:{let t={},i={};for(let[o,c]of Object.entries(e.props??{}))o==="children"||c&&typeof c=="object"&&c.$$slot?i[o==="children"?"default":o]=()=>oe(s,c):t[o]=c;let n=await jn(s,e.type,t,i);if(n instanceof Response)throw n;return $(n)}case(!e.type&&e.type!==0):return"";case(typeof e.type=="string"&&e.type!==ln):return $(await Vl(s,e.type,e.props??{}))}if(e.type){let t=function(l){if(Array.isArray(l))return l.map(d=>t(d));if(!tn(l)){a.default.push(l);return}if("slot"in l.props){a[l.props.slot]=[...a[l.props.slot]??[],l],delete l.props.slot;return}a.default.push(l)};if(typeof e.type=="function"&&e.type["astro:renderer"]&&r.increment(),typeof e.type=="function"&&e.props["server:root"]){let l=await e.type(e.props??{});return await oe(s,l)}if(typeof e.type=="function")if(r.haveNoTried()||r.isCompleted()){Jl();try{let l=await e.type(e.props??{}),d;if(l?.[yn])return d=await es(s,l,r),d;if(!l)return d=await es(s,l,r),d}catch(l){if(r.isCompleted())throw l;r.increment()}finally{Kl()}}else r.increment();let{children:i=null,...n}=e.props??{},a={default:[]};t(i);for(let[l,d]of Object.entries(n))d.$$slot&&(a[l]=d,delete n[l]);let o=[],c={};for(let[l,d]of Object.entries(a))o.push(oe(s,d).then(p=>{p.toString().trim().length!==0&&(c[l]=()=>p)}));await Promise.all(o),n[ve.symbol]=r;let u;return e.type===ln&&e.props["client:only"]?u=await Qr(s,e.props["client:display-name"]??"",null,n,c):u=await Qr(s,typeof e.type=="function"?e.type.name:e.type,e.type,n,c),$(u)}}return $(`${e}`)}async function Vl(s,e,{children:r,...t}){return $(`<${e}${ue(t)}${$((r==null||r=="")&&Ds.test(e)?"/>":`>${r==null?"":await oe(s,Gl(e,r))}</${e}>`)}`)}function Gl(s,e){return typeof e=="string"&&(s==="style"||s==="script")?$(e):e}function Jl(){if(xs++,!Zr){Zr=console.error;try{console.error=Yl}catch{}}}function Kl(){xs--}function Yl(s,...e){xs>0&&typeof s=="string"&&s.includes("Warning: Invalid hook call.")&&s.includes("https://reactjs.org/link/invalid-hook-call")||Zr(s,...e)}async function Pn(s,e,r,t,i,n){if(!En(e)){s._metadata.headInTree=s.componentMetadata.get(e.moduleId)?.containsHead??!1;let l={...r??{},"server:root":!0},d=await Qr(s,e.name,e,l,{},!0,n),p=Ht.encode(d);return new Response(p,{headers:new Headers([["Content-Type","text/html; charset=utf-8"],["Content-Length",p.byteLength.toString()]])})}s._metadata.headInTree=s.componentMetadata.get(e.moduleId)?.containsHead??!1;let a;if(i?a=await Al(s,e,r,t,!0,n):a=await jn(s,e,r,t,!0,n),a instanceof Response)return a;let o=s.response,c=new Headers(o.headers);return!i&&typeof a=="string"&&(a=Ht.encode(a),c.set("Content-Length",a.byteLength.toString())),n?.component.endsWith(".md")&&c.set("Content-Type","text/html; charset=utf-8"),new Response(a,{...o,headers:c})}function ue(s={},e,{class:r}={}){let t="";r&&(typeof s.class<"u"?s.class+=` ${r}`:typeof s["class:list"]<"u"?s["class:list"]=[s["class:list"],r]:s.class=r);for(let[i,n]of Object.entries(s))t+=S(n,i,!0);return $(t)}var Me,Wt,Vt,Ki,Gc,qr,Yi,zr,ts,rs,un,dn,ss,pn,is,Xi,Qi,ns,as,hn,os,cs,fn,Gt,ls,us,mn,nt,gn,Jt,Kt,ds,Zi,en,Dn,y,ps,it,ye,$,yn,xn,z,_n,Gr,Wr,ol,cl,ll,Ds,hl,fl,ml,gl,Dl,Ue,vl,sn,Vr,Kr,zt,vs,on,Ht,wl,kn,Yr,$n,Xr,jl,cn,Bl,Ll,ln,ve,Zr,xs,ee=D(()=>{Z();ae();Me={name:"ClientAddressNotAvailable",title:"`Astro.clientAddress` is not available in current adapter.",message:s=>`\`Astro.clientAddress\` is not available in the \`${s}\` adapter. File an issue with the adapter to add support.`},Wt={name:"StaticClientAddressNotAvailable",title:"`Astro.clientAddress` is not available in static mode.",message:"`Astro.clientAddress` is only available when using `output: 'server'` or `output: 'hybrid'`. Update your Astro config if you need SSR features.",hint:"See https://docs.astro.build/en/guides/server-side-rendering/ for more information on how to enable SSR."},Vt={name:"NoMatchingStaticPathFound",title:"No static path found for requested path.",message:s=>`A \`getStaticPaths()\` route pattern was matched, but no matching static path was found for requested path \`${s}\`.`,hint:s=>`Possible dynamic routes being matched: ${s.join(", ")}.`},Ki={name:"OnlyResponseCanBeReturned",title:"Invalid type returned by Astro page.",message:(s,e)=>`Route \`${s||""}\` returned a \`${e}\`. Only a [Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) can be returned from Astro files.`,hint:"See https://docs.astro.build/en/guides/server-side-rendering/#response for more information."},Gc={name:"MissingMediaQueryDirective",title:"Missing value for `client:media` directive.",message:'Media query not provided for `client:media` directive. A media query similar to `client:media="(max-width: 600px)"` must be provided'},qr={name:"NoMatchingRenderer",title:"No matching renderer found.",message:(s,e,r,t)=>`Unable to render \`${s}\`.

${t>0?`There ${r?"are":"is"} ${t} renderer${r?"s":""} configured in your \`astro.config.mjs\` file,
but ${r?"none were":"it was not"} able to server-side render \`${s}\`.`:`No valid renderer was found ${e?`for the \`.${e}\` file extension.`:"for this file extension."}`}`,hint:s=>`Did you mean to enable the ${s} integration?

See https://docs.astro.build/en/core-concepts/framework-components/ for more information on how to install and configure integrations.`},Yi={name:"NoClientEntrypoint",title:"No client entrypoint specified in renderer.",message:(s,e,r)=>`\`${s}\` component has a \`client:${e}\` directive, but no client entrypoint was provided by \`${r}\`.`,hint:"See https://docs.astro.build/en/reference/integrations-reference/#addrenderer-option for more information on how to configure your renderer."},zr={name:"NoClientOnlyHint",title:"Missing hint on client:only directive.",message:s=>`Unable to render \`${s}\`. When using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.`,hint:s=>`Did you mean to pass \`client:only="${s}"\`? See https://docs.astro.build/en/reference/directives-reference/#clientonly for more information on client:only`},ts={name:"InvalidGetStaticPathsEntry",title:"Invalid entry inside getStaticPath's return value",message:s=>`Invalid entry returned by getStaticPaths. Expected an object, got \`${s}\``,hint:"If you're using a `.map` call, you might be looking for `.flatMap()` instead. See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},rs={name:"InvalidGetStaticPathsReturn",title:"Invalid value returned by getStaticPaths.",message:s=>`Invalid type returned by \`getStaticPaths\`. Expected an \`array\`, got \`${s}\``,hint:"See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},un={name:"GetStaticPathsRemovedRSSHelper",title:"getStaticPaths RSS helper is not available anymore.",message:"The RSS helper has been removed from `getStaticPaths`. Try the new @astrojs/rss package instead.",hint:"See https://docs.astro.build/en/guides/rss/ for more information."},dn={name:"GetStaticPathsExpectedParams",title:"Missing params property on `getStaticPaths` route.",message:"Missing or empty required `params` property on `getStaticPaths` route.",hint:"See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},ss={name:"GetStaticPathsInvalidRouteParam",title:"Invalid value for `getStaticPaths` route parameter.",message:(s,e,r)=>`Invalid getStaticPaths route parameter for \`${s}\`. Expected undefined, a string or a number, received \`${r}\` (\`${e}\`)`,hint:"See https://docs.astro.build/en/reference/api-reference/#getstaticpaths for more information on getStaticPaths."},pn={name:"GetStaticPathsRequired",title:"`getStaticPaths()` function required for dynamic routes.",message:"`getStaticPaths()` function is required for dynamic routes. Make sure that you `export` a `getStaticPaths` function from your dynamic route.",hint:'See https://docs.astro.build/en/core-concepts/routing/#dynamic-routes for more information on dynamic routes.\n\nAlternatively, set `output: "server"` or `output: "hybrid"` in your Astro config file to switch to a non-static server build. This error can also occur if using `export const prerender = true;`.\nSee https://docs.astro.build/en/guides/server-side-rendering/ for more information on non-static rendering.'},is={name:"ReservedSlotName",title:"Invalid slot name.",message:s=>`Unable to create a slot named \`${s}\`. \`${s}\` is a reserved slot name. Please update the name of this slot.`},Xi={name:"NoMatchingImport",title:"No import found for component.",message:s=>`Could not render \`${s}\`. No matching import has been found for \`${s}\`.`,hint:"Please make sure the component is properly imported."},Qi={name:"InvalidComponentArgs",title:"Invalid component arguments.",message:s=>`Invalid arguments passed to${s?` <${s}>`:""} component.`,hint:"Astro components cannot be rendered directly via function call, such as `Component()` or `{items.map(Component)}`."},ns={name:"PageNumberParamNotFound",title:"Page number param not found.",message:s=>`[paginate()] page number param \`${s}\` not found in your filepath.`,hint:"Rename your file to `[page].astro` or `[...page].astro`."},as={name:"ImageMissingAlt",title:"Missing alt property.",message:"The alt property is required.",hint:"The `alt` property is important for the purpose of accessibility, without it users using screen readers or other assistive technologies won't be able to understand what your image is supposed to represent. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-alt for more information."},hn={name:"InvalidImageService",title:"Error while loading image service.",message:"There was an error loading the configured image service. Please see the stack trace for more information."},os={name:"MissingImageDimension",title:"Missing image dimensions",message:(s,e)=>`Missing ${s==="both"?"width and height attributes":`${s} attribute`} for ${e}. When using remote images, both dimensions are always required in order to avoid CLS.`,hint:"If your image is inside your `src` folder, you probably meant to import it instead. See [the Imports guide for more information](https://docs.astro.build/en/guides/imports/#other-assets)."},cs={name:"UnsupportedImageFormat",title:"Unsupported image format",message:(s,e,r)=>`Received unsupported format \`${s}\` from \`${e}\`. Currently only ${r.join(", ")} are supported by our image services.`,hint:"Using an `img` tag directly instead of the `Image` component might be what you're looking for."},fn={name:"UnsupportedImageConversion",title:"Unsupported image conversion",message:"Converting between vector (such as SVGs) and raster (such as PNGs and JPEGs) images is not currently supported."},Gt={name:"PrerenderDynamicEndpointPathCollide",title:"Prerendered dynamic endpoint has path collision.",message:s=>`Could not render \`${s}\` with an \`undefined\` param as the generated path will collide during prerendering. Prevent passing \`undefined\` as \`params\` for the endpoint's \`getStaticPaths()\` function, or add an additional extension to the endpoint's filename.`,hint:s=>`Rename \`${s}\` to \`${s.replace(/\.(js|ts)/,e=>".json"+e)}\``},ls={name:"ExpectedImage",title:"Expected src to be an image.",message:(s,e,r)=>`Expected \`src\` property for \`getImage\` or \`<Image />\` to be either an ESM imported image or a string with the path of a remote image. Received \`${s}\` (type: \`${e}\`).

Full serialized options received: \`${r}\`.`,hint:"This error can often happen because of a wrong path. Make sure the path to your image is correct. If you're passing an async function, make sure to call and await it."},us={name:"ExpectedImageOptions",title:"Expected image options.",message:s=>`Expected getImage() parameter to be an object. Received \`${s}\`.`},mn={name:"IncompatibleDescriptorOptions",title:"Cannot set both `densities` and `widths`",message:"Only one of `densities` or `widths` can be specified. In most cases, you'll probably want to use only `widths` if you require specific widths.",hint:"Those attributes are used to construct a `srcset` attribute, which cannot have both `x` and `w` descriptors."},nt={name:"ResponseSentError",title:"Unable to set response.",message:"The response has already been sent to the browser and cannot be altered."},gn={name:"MiddlewareNoDataOrNextCalled",title:"The middleware didn't return a response or call `next`.",message:"The middleware needs to either return a `Response` object or call the `next` function."},Jt={name:"MiddlewareNotAResponse",title:"The middleware returned something that is not a `Response` object.",message:"Any data returned from middleware must be a valid `Response` object."},Kt={name:"LocalsNotAnObject",title:"Value assigned to `locals` is not accepted.",message:"`locals` can only be assigned to an object. Other values like numbers, strings, etc. are not accepted.",hint:"If you tried to remove some information from the `locals` object, try to use `delete` or set the property to `undefined`."},ds={name:"LocalImageUsedWrongly",title:"Local images must be imported.",message:s=>`\`Image\`'s and \`getImage\`'s \`src\` parameter must be an imported image or an URL, it cannot be a string filepath. Received \`${s}\`.`,hint:"If you want to use an image from your `src` folder, you need to either import it or if the image is coming from a content collection, use the [image() schema helper](https://docs.astro.build/en/guides/images/#images-in-content-collections) See https://docs.astro.build/en/guides/images/#src-required for more information on the `src` property."},Zi={name:"AstroGlobUsedOutside",title:"Astro.glob() used outside of an Astro file.",message:s=>`\`Astro.glob(${s})\` can only be used in \`.astro\` files. \`import.meta.glob(${s})\` can be used instead to achieve a similar result.`,hint:"See Vite's documentation on `import.meta.glob` for more information: https://vitejs.dev/guide/features.html#glob-import"},en={name:"AstroGlobNoMatch",title:"Astro.glob() did not match any files.",message:s=>`\`Astro.glob(${s})\` did not return any matching files. Check the pattern for typos.`},Dn={name:"CantRenderPage",title:"Astro can't render the route.",message:"Astro cannot find any content to render for this route. There is no file or redirect associated with this route.",hint:"If you expect to find a route here, this may be an Astro bug. Please file an issue/restart the dev server"};y=class extends Error{loc;title;hint;frame;type="AstroError";constructor(e,...r){super(...r);let{name:t,title:i,message:n,stack:a,location:o,hint:c,frame:u}=e;this.title=i,this.name=t,n&&(this.message=n),this.stack=a||this.stack,this.loc=o,this.hint=c,this.frame=u}setLocation(e){this.loc=e}setName(e){this.name=e}setMessage(e){this.message=e}setHint(e){this.hint=e}setFrame(e,r){this.frame=Kc(e,r)}static is(e){return e.type==="AstroError"}};ps="3.6.5";it=Gi,ye=class extends String{get[Symbol.toStringTag](){return"HTMLString"}},$=s=>s instanceof ye?s:typeof s=="string"?new ye(s):s;yn="astro:jsx";xn=Symbol.for("astro:render");z={Value:0,JSON:1,RegExp:2,Date:3,Map:4,Set:5,BigInt:6,URL:7,Uint8Array:8,Uint16Array:9,Uint32Array:10};_n=Object.freeze(["data-astro-transition-scope","data-astro-transition-persist"]);Gr="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY",Wr=Gr.length;ol=Symbol.for("astro.headAndContent");cl='(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();',ll="<style>astro-island,astro-slot,astro-static-slot{display:contents}</style>";Ds=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,hl=/^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,fl=/^(contenteditable|draggable|spellcheck|value)$/i,ml=/^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,gl=new Set(["set:html","set:text"]),Dl=s=>s.trim().replace(/(?:(?!^)\b\w|\s+|[^\w]+)/g,(e,r)=>/[^\w]|\s/.test(e)?"":r===0?e:e.toUpperCase()),Ue=(s,e=!0)=>e?String(s).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):s,vl=s=>s.toLowerCase()===s?s:s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),sn=s=>Object.entries(s).filter(([e,r])=>typeof r=="string"&&r.trim()||typeof r=="number").map(([e,r])=>e[0]!=="-"&&e[1]!=="-"?`${vl(e)}:${r}`:`${e}:${r}`).join(";");Vr=(s,e,r)=>{let t=JSON.stringify(s.props),i=s.children;return e===r.findIndex(n=>JSON.stringify(n.props)===t&&n.children==i)};Kr=Symbol.for("astro:slot-string"),zt=class extends ye{instructions;[Kr];constructor(e,r){super(e),this.instructions=r,this[Kr]=!0}};vs=Symbol.for("astro:fragment"),on=Symbol.for("astro:renderer"),Ht=new TextEncoder,wl=new TextDecoder;kn=Symbol.for("astro.componentInstance"),Yr=class{[kn]=!0;result;props;slotValues;factory;returnValue;constructor(e,r,t,i){this.result=e,this.props=r,this.factory=i,this.slotValues={};for(let n in t){let a=!1,o=t[n](e);this.slotValues[n]=()=>a?t[n](e):(a=!0,o)}}async init(e){return this.returnValue!==void 0?this.returnValue:(this.returnValue=this.factory(e,this.props,this.slotValues),this.returnValue)}async render(e){this.returnValue===void 0&&await this.init(this.result);let r=this.returnValue;fs(r)&&(r=await r),gs(r)?await r.content.render(e):await Ne(e,r)}};$n=Symbol.for("astro.renderTemplateResult"),Xr=class{[$n]=!0;htmlParts;expressions;error;constructor(e,r){this.htmlParts=e,this.error=void 0,this.expressions=r.map(t=>fs(t)?Promise.resolve(t).catch(i=>{if(!this.error)throw this.error=i,i}):t)}async render(e){let r=this.expressions.map(t=>Cn(i=>{if(t||t===0)return Ne(i,t)}));for(let t=0;t<this.htmlParts.length;t++){let i=this.htmlParts[t],n=r[t];e.write($(i)),n&&await n.renderToFinalDestination(e)}}};jl=Symbol.for("astro.needsHeadRendering"),cn=new Map([["solid","solid-js"]]);Bl=/\<\/?astro-slot\b[^>]*>/g,Ll=/\<\/?astro-static-slot\b[^>]*>/g;ln="astro-client-only",ve=class{constructor(e){this.vnode=e,this.count=0}count;increment(){this.count++}haveNoTried(){return this.count===0}isCompleted(){return this.count>2}static symbol=Symbol("astro:jsx:skip")},xs=0});var I,pe=D(()=>{I=[]});var G,we=D(()=>{G=void 0});var ra=B((jh,ta)=>{"use strict";var yu=Ur();ta.exports=new yu(Nr())});function xu(s){return s?"transform"in s:!1}function na(s){let e=s.width,r=s.height;if(be(s.src)){let t=s.src.width/s.src.height;r&&!e?e=Math.round(r*t):e&&!r?r=Math.round(e/t):!e&&!r&&(e=s.src.width,r=s.src.height)}return{targetWidth:e,targetHeight:r}}function wu(s,e){return Fu(s,e.protocol)&&oa(s,e.hostname,!0)&&bu(s,e.port)&&_u(s,e.pathname,!0)}function bu(s,e){return!e||e===s.port}function Fu(s,e){return!e||e===s.protocol.slice(0,-1)}function oa(s,e,r){if(e){if(!r||!e.startsWith("*"))return e===s.hostname;if(e.startsWith("**.")){let t=e.slice(2);return t!==s.hostname&&s.hostname.endsWith(t)}else if(e.startsWith("*.")){let t=e.slice(1);return s.hostname.replace(t,"").split(".").filter(Boolean).length===1}}else return!0;return!1}function _u(s,e,r){if(e){if(!r||!e.endsWith("*"))return e===s.pathname;if(e.endsWith("/**")){let t=e.slice(0,-2);return t!==s.pathname&&s.pathname.startsWith(t)}else if(e.endsWith("/*")){let t=e.slice(0,-1);return s.pathname.replace(t,"").split("/").filter(Boolean).length===1}}else return!0;return!1}function be(s){return typeof s=="object"}function Eu(s){return typeof s=="string"}function Os(s,{domains:e=[],remotePatterns:r=[]}){if(!Le(s))return!1;let t=new URL(s);return e.some(i=>oa(t,i))||r.some(i=>wu(t,i))}async function Bs(){if(!globalThis?.astroAsset?.imageService){let{default:s}=await Promise.resolve().then(()=>Su).catch(e=>{let r=new y(hn);throw r.cause=e,r});return globalThis.astroAsset||(globalThis.astroAsset={}),globalThis.astroAsset.imageService=s,s}return globalThis.astroAsset.imageService}async function ca(s,e){if(!s||typeof s!="object")throw new y({...us,message:us.message(JSON.stringify(s))});let r=await Bs(),t={...s,src:typeof s.src=="object"&&"then"in s.src?(await s.src).default??await s.src:s.src},i=be(t.src)?t.src.clone??t.src:t.src;t.src=i;let n=r.validateOptions?await r.validateOptions(t,e):t,a=r.getSrcSet?await r.getSrcSet(n,e):[],o=await r.getURL(n,e),c=await Promise.all(a.map(async u=>({transform:u.transform,url:await r.getURL(u.transform,e),descriptor:u.descriptor,attributes:u.attributes})));if(xu(r)&&globalThis.astroAsset.addStaticImage&&!(Eu(n.src)&&o===n.src)){let u=r.propertiesToHash??aa;o=globalThis.astroAsset.addStaticImage(n,u),c=a.map(l=>({transform:l.transform,url:globalThis.astroAsset.addStaticImage(l.transform,u),descriptor:l.descriptor,attributes:l.attributes}))}return{rawOptions:t,options:n,src:o,srcSet:{values:c,attribute:c.map(u=>`${u.url} ${u.descriptor}`).join(", ")},attributes:r.getHTMLAttributes!==void 0?await r.getHTMLAttributes(n,e):{}}}var sa,ia,aa,er,Cu,Au,Su,la=D(()=>{rt();ee();sa=["jpeg","jpg","png","tiff","webp","gif","svg","avif"],ia="webp",aa=["src","width","height","format","quality"];er={propertiesToHash:aa,validateOptions(s){if(!s.src||typeof s.src!="string"&&typeof s.src!="object")throw new y({...ls,message:ls.message(JSON.stringify(s.src),typeof s.src,JSON.stringify(s,(e,r)=>r===void 0?null:r))});if(be(s.src)){if(!sa.includes(s.src.format))throw new y({...cs,message:cs.message(s.src.format,s.src.src,sa)});if(s.widths&&s.densities)throw new y(mn);if(s.src.format==="svg"&&(s.format="svg"),s.src.format==="svg"&&s.format!=="svg"||s.src.format!=="svg"&&s.format==="svg")throw new y(fn)}else{if(s.src.startsWith("/@fs/")||!Le(s.src)&&!s.src.startsWith("/"))throw new y({...ds,message:ds.message(s.src)});let e;if(!s.width&&!s.height?e="both":!s.width&&s.height?e="width":s.width&&!s.height&&(e="height"),e)throw new y({...os,message:os.message(e,s.src)})}return s.format||(s.format=ia),s.width&&(s.width=Math.round(s.width)),s.height&&(s.height=Math.round(s.height)),s},getHTMLAttributes(s){let{targetWidth:e,targetHeight:r}=na(s),{src:t,width:i,height:n,format:a,quality:o,densities:c,widths:u,formats:l,...d}=s;return{...d,width:e,height:r,loading:d.loading??"lazy",decoding:d.decoding??"async"}},getSrcSet(s){let e=[],{targetWidth:r}=na(s),{widths:t,densities:i}=s,n=s.format??ia,a=s.width,o=1/0;be(s.src)&&(a=s.src.width,o=a);let{width:c,height:u,...l}=s,d=[];if(i){let p=i.map(f=>typeof f=="number"?f:parseFloat(f)),h=p.sort().map(f=>Math.round(r*f));d.push(...h.map((f,m)=>({maxTargetWidth:Math.min(f,o),descriptor:`${p[m]}x`})))}else t&&d.push(...t.map(p=>({maxTargetWidth:Math.min(p,o),descriptor:`${p}w`})));for(let{maxTargetWidth:p,descriptor:h}of d){let f={...l};p!==a?f.width=p:s.width&&s.height&&(f.width=s.width,f.height=s.height),e.push({transform:f,descriptor:h,attributes:{type:`image/${n}`}})}return e},getURL(s,e){let r=new URLSearchParams;if(be(s.src))r.append("href",s.src.src);else if(Os(s.src,e))r.append("href",s.src);else return s.src;return Object.entries({w:"width",h:"height",q:"quality",f:"format"}).forEach(([n,a])=>{s[a]&&r.append(n,s[a].toString())}),`${De("/","/_image")}?${r}`},parseURL(s){let e=s.searchParams;return e.has("href")?{src:e.get("href"),width:e.has("w")?parseInt(e.get("w")):void 0,height:e.has("h")?parseInt(e.get("h")):void 0,format:e.get("f"),quality:e.get("q")}:void 0}};Cu={propertiesToHash:["src"],validateOptions:er.validateOptions,getURL:er.getURL,parseURL:er.parseURL,getHTMLAttributes:er.getHTMLAttributes,async transform(s,e){return{data:s,format:e.format}}},Au=Cu,Su=Object.freeze(Object.defineProperty({__proto__:null,default:Au},Symbol.toStringTag,{value:"Module"}))});var da={};q(da,{GET:()=>Lu});async function Bu(s){try{let e=await fetch(s);return e.ok?await e.arrayBuffer():void 0}catch{return}}var ua,ku,$u,Tu,ju,Ru,Pu,tr,Ou,Ls,Lu,pa=D(()=>{rt();ua=ge(ra(),1);la();ee();Z();ae();ku=s=>{let e=s.length,r=0,t=0,i=8997,n=0,a=33826,o=0,c=40164,u=0,l=52210;for(;r<e;)i^=s.charCodeAt(r++),t=i*435,n=a*435,o=c*435,u=l*435,o+=i<<8,u+=a<<8,n+=t>>>16,i=t&65535,o+=n>>>16,a=n&65535,l=u+(o>>>16)&65535,c=o&65535;return(l&15)*281474976710656+c*4294967296+a*65536+(i^l>>4)},$u=(s,e=!1)=>(e?'W/"':'"')+ku(s).toString(36)+s.length.toString(36)+'"',Tu=le(),ju=W(async(s,e,r)=>{let t=s.createAstro(Tu,e,r);t.self=ju;let i=t.props;if(i.alt===void 0||i.alt===null)throw new y(as);typeof i.width=="string"&&(i.width=parseInt(i.width)),typeof i.height=="string"&&(i.height=parseInt(i.height));let n=await Ls(i),a={};return n.srcSet.values.length>0&&(a.srcset=n.srcSet.attribute),x`${V()}<img${S(n.src,"src")}${ue(a)}${ue(n.attributes)}>`},"/Users/aaronbaker/astro-directory-v2/node_modules/astro/components/Image.astro",void 0),Ru=le(),Pu=W(async(s,e,r)=>{let t=s.createAstro(Ru,e,r);t.self=Pu;let i=["webp"],n="png",a=["gif","svg","jpg","jpeg"],{formats:o=i,pictureAttributes:c={},fallbackFormat:u,...l}=t.props;if(l.alt===void 0||l.alt===null)throw new y(as);let d=await Promise.all(o.map(async g=>await Ls({...l,format:g,widths:l.widths,densities:l.densities}))),p=u??n;!u&&be(l.src)&&a.includes(l.src.format)&&(p=l.src.format);let h=await Ls({...l,format:p,widths:l.widths,densities:l.densities}),f={},m={};return l.sizes&&(m.sizes=l.sizes),h.srcSet.values.length>0&&(f.srcset=h.srcSet.attribute),x`${V()}<picture${ue(c)}> ${Object.entries(d).map(([g,E])=>{let w=l.densities||!l.densities&&!l.widths?`${E.src}${E.srcSet.values.length>0?", "+E.srcSet.attribute:""}`:E.srcSet.attribute;return x`<source${S(w,"srcset")}${S("image/"+E.options.format,"type")}${ue(m)}>`})} <img${S(h.src,"src")}${ue(f)}${ue(h.attributes)}> </picture>`},"/Users/aaronbaker/astro-directory-v2/node_modules/astro/components/Picture.astro",void 0),tr={service:{entrypoint:"astro/assets/services/noop",config:{}},domains:[],remotePatterns:[]},Ou=new URL("file:///Users/aaronbaker/astro-directory-v2/dist/");new URL("_astro",Ou);Ls=async s=>await ca(s,tr);Lu=async({request:s})=>{try{let e=await Bs();if(!("transform"in e))throw new Error("Configured image service is not a local service");let r=new URL(s.url),t=await e.parseURL(r,tr);if(!t?.src)throw new Error("Incorrect transform returned by `parseURL`");let i,n=Le(t.src)?new URL(t.src):new URL(t.src,r.origin);if(Le(t.src)&&Os(t.src,tr)===!1)return new Response("Forbidden",{status:403});if(i=await Bu(n),!i)return new Response("Not Found",{status:404});let{data:a,format:o}=await e.transform(new Uint8Array(i),t,tr);return new Response(a,{status:200,headers:{"Content-Type":ua.default.getType(o)??`image/${o}`,"Cache-Control":"public, max-age=31536000",ETag:$u(a.toString()),Date:new Date().toUTCString()}})}catch(e){return new Response(`Server Error: ${e}`,{status:500})}}});var ha={};q(ha,{onRequest:()=>G,page:()=>Iu,renderers:()=>I});var Iu,fa=D(()=>{pe();we();Iu=()=>Promise.resolve().then(()=>(pa(),da))});var Fe={};q(Fe,{Headers:()=>Us,Request:()=>Mu,Response:()=>qu,default:()=>Is,fetch:()=>Nu});var Uu,qe,Nu,Is,Us,Mu,qu,he=D(()=>{"use strict";Uu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qe=Uu(),Nu=qe.fetch,Is=qe.fetch.bind(qe),Us=qe.Headers,Mu=qe.Request,qu=qe.Response});var ma,ga=D(()=>{ma=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(he(),Fe)).then(({default:t})=>t(...r)):e=fetch,(...r)=>e(...r)}});var pt,rr,sr,ir,nr,Da=D(()=>{pt=class extends Error{constructor(e,r="FunctionsError",t){super(e),this.name=r,this.context=t}},rr=class extends pt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},sr=class extends pt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ir=class extends pt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(nr||(nr={}))});var zu,ht,va=D(()=>{ga();Da();zu=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},ht=class{constructor(e,{headers:r={},customFetch:t,region:i=nr.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=ma(t)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var t;return zu(this,void 0,void 0,function*(){try{let{headers:i,method:n,body:a}=r,o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));let l=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:u}).catch(f=>{throw new rr(f)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new sr(l);if(!l.ok)throw new ir(l);let p=((t=l.headers.get("Content-Type"))!==null&&t!==void 0?t:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield l.json():p==="application/octet-stream"?h=yield l.blob():p==="text/event-stream"?h=l:p==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}});var ya=D(()=>{va()});var qs=B(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var Ns=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ms.default=Ns});var Hs=B(ft=>{"use strict";var xa=ft&&ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ft,"__esModule",{value:!0});var Hu=xa((he(),$c(Fe))),Wu=xa(qs()),zs=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Hu.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let t=this.fetch,i=t(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var a,o,c;let u=null,l=null,d=null,p=n.status,h=n.statusText;if(n.ok){if(this.method!=="HEAD"){let E=await n.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=E:l=JSON.parse(E))}let m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(o=n.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,p=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let m=await n.text();try{u=JSON.parse(m),Array.isArray(u)&&n.status===404&&(l=[],u=null,p=200,h="OK")}catch{n.status===404&&m===""?(p=204,h="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,h="OK"),u&&this.shouldThrowOnError)throw new Wu.default(u)}return{error:u,data:l,count:d,status:p,statusText:h}});return this.shouldThrowOnError||(i=i.catch(n=>{var a,o,c;return{error:{message:`${(a=n?.name)!==null&&a!==void 0?a:"FetchError"}: ${n?.message}`,details:`${(o=n?.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=n?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}};ft.default=zs});var Vs=B(mt=>{"use strict";var Vu=mt&&mt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mt,"__esModule",{value:!0});var Gu=Vu(Hs()),Ws=class extends Gu.default{select(e){let r=!1,t=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",t),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:t,foreignTable:i,referencedTable:n=i}={}){let a=n?`${n}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:t=r}={}){let i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:t,referencedTable:i=t}={}){let n=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:t=!1,buffers:i=!1,wal:n=!1,format:a="text"}={}){var o;let c=[e?"analyze":null,r?"verbose":null,t?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mt.default=Ws});var ar=B(gt=>{"use strict";var Ju=gt&&gt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gt,"__esModule",{value:!0});var Ku=Ju(Vs()),Gs=class extends Ku.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){let t=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${t})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:t,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");let a=t===void 0?"":`(${t})`;return this.url.searchParams.append(e,`${n}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,t])=>{this.url.searchParams.append(r,`eq.${t}`)}),this}not(e,r,t){return this.url.searchParams.append(e,`not.${r}.${t}`),this}or(e,{foreignTable:r,referencedTable:t=r}={}){let i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,t){return this.url.searchParams.append(e,`${r}.${t}`),this}};gt.default=Gs});var Ks=B(vt=>{"use strict";var Yu=vt&&vt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vt,"__esModule",{value:!0});var Dt=Yu(ar()),Js=class{constructor(e,{headers:r={},schema:t,fetch:i}){this.url=e,this.headers=r,this.schema=t,this.fetch=i}select(e,{head:r=!1,count:t}={}){let i=r?"HEAD":"GET",n=!1,a=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",a),t&&(this.headers.Prefer=`count=${t}`),new Dt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:t=!0}={}){let i="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),t||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){let a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){let o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Dt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:t=!1,count:i,defaultToNull:n=!0}={}){let a="POST",o=[`resolution=${t?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Dt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){let t="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Dt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let r="DELETE",t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Dt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vt.default=Js});var wa=B(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.version=void 0;or.version="0.0.0-automated"});var ba=B(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.DEFAULT_HEADERS=void 0;var Xu=wa();cr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Xu.version}`}});var _a=B(yt=>{"use strict";var Fa=yt&&yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yt,"__esModule",{value:!0});var Qu=Fa(Ks()),Zu=Fa(ar()),ed=ba(),Ys=class s{constructor(e,{headers:r={},schema:t,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},ed.DEFAULT_HEADERS),r),this.schemaName=t,this.fetch=i}from(e){let r=new URL(`${this.url}/${e}`);return new Qu.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:t=!1,get:i=!1,count:n}={}){let a,o=new URL(`${this.url}/rpc/${e}`),c;t||i?(a=t?"HEAD":"GET",Object.entries(r).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{o.searchParams.append(l,d)})):(a="POST",c=r);let u=Object.assign({},this.headers);return n&&(u.Prefer=`count=${n}`),new Zu.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};yt.default=Ys});var Ta=B(L=>{"use strict";var ze=L&&L.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(L,"__esModule",{value:!0});L.PostgrestError=L.PostgrestBuilder=L.PostgrestTransformBuilder=L.PostgrestFilterBuilder=L.PostgrestQueryBuilder=L.PostgrestClient=void 0;var Ea=ze(_a());L.PostgrestClient=Ea.default;var Ca=ze(Ks());L.PostgrestQueryBuilder=Ca.default;var Aa=ze(ar());L.PostgrestFilterBuilder=Aa.default;var Sa=ze(Vs());L.PostgrestTransformBuilder=Sa.default;var ka=ze(Hs());L.PostgrestBuilder=ka.default;var $a=ze(qs());L.PostgrestError=$a.default;L.default={PostgrestClient:Ea.default,PostgrestQueryBuilder:Ca.default,PostgrestFilterBuilder:Aa.default,PostgrestTransformBuilder:Sa.default,PostgrestBuilder:ka.default,PostgrestError:$a.default}});var ja,Ra,af,of,cf,lf,Pa=D(()=>{ja=ge(Ta(),1),{PostgrestClient:Ra,PostgrestQueryBuilder:af,PostgrestFilterBuilder:of,PostgrestTransformBuilder:cf,PostgrestBuilder:lf}=ja.default});var Oa,Ba=D(()=>{Oa="2.10.9"});var La,Ia,ur,Ua,_e,U,H,lr,fe,dr=D(()=>{Ba();La={"X-Client-Info":`realtime-js/${Oa}`},Ia="1.0.0",ur=1e4,Ua=1e3;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(_e||(_e={}));(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(U||(U={}));(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(H||(H={}));(function(s){s.websocket="websocket"})(lr||(lr={}));(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(fe||(fe={}))});var xt,Na=D(()=>{xt=class{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let r=new DataView(e),t=new TextDecoder;return this._decodeBroadcast(e,r,t)}_decodeBroadcast(e,r,t){let i=r.getUint8(1),n=r.getUint8(2),a=this.HEADER_LENGTH+2,o=t.decode(e.slice(a,a+i));a=a+i;let c=t.decode(e.slice(a,a+n));a=a+n;let u=JSON.parse(t.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}});var Ee,Xs=D(()=>{Ee=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var R,Zs,td,Ma,Qs,rd,sd,id,nd,ad,pr,hr=D(()=>{(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(R||(R={}));Zs=(s,e,r={})=>{var t;let i=(t=r.skipTypes)!==null&&t!==void 0?t:[];return Object.keys(e).reduce((n,a)=>(n[a]=td(a,s,e,i),n),{})},td=(s,e,r,t)=>{let i=e.find(o=>o.name===s),n=i?.type,a=r[s];return n&&!t.includes(n)?Ma(n,a):Qs(a)},Ma=(s,e)=>{if(s.charAt(0)==="_"){let r=s.slice(1,s.length);return nd(e,r)}switch(s){case R.bool:return rd(e);case R.float4:case R.float8:case R.int2:case R.int4:case R.int8:case R.numeric:case R.oid:return sd(e);case R.json:case R.jsonb:return id(e);case R.timestamp:return ad(e);case R.abstime:case R.date:case R.daterange:case R.int4range:case R.int8range:case R.money:case R.reltime:case R.text:case R.time:case R.timestamptz:case R.timetz:case R.tsrange:case R.tstzrange:return Qs(e);default:return Qs(e)}},Qs=s=>s,rd=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},sd=s=>{if(typeof s=="string"){let e=parseFloat(s);if(!Number.isNaN(e))return e}return s},id=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},nd=(s,e)=>{if(typeof s!="string")return s;let r=s.length-1,t=s[r];if(s[0]==="{"&&t==="}"){let n,a=s.slice(1,r);try{n=JSON.parse("["+a+"]")}catch{n=a?a.split(","):[]}return n.map(o=>Ma(e,o))}return s},ad=s=>typeof s=="string"?s.replace(" ","T"):s,pr=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")}});var Ce,qa=D(()=>{dr();Ce=class{constructor(e,r,t={},i=ur){this.channel=e,this.event=r,this.payload=t,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var t;return this._hasReceived(e)&&r((t=this.receivedResp)===null||t===void 0?void 0:t.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(t=>t.status===e).forEach(t=>t.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}});var ei,He,ti=D(()=>{(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ei||(ei={}));He=class s{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let t=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(t.state,{},i=>{let{onJoin:n,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=s.syncState(this.state,i,n,a),this.pendingDiffs.forEach(c=>{this.state=s.syncDiff(this.state,c,n,a)}),this.pendingDiffs=[],o()}),this.channel._on(t.diff,{},i=>{let{onJoin:n,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=s.syncDiff(this.state,i,n,a),o())}),this.onJoin((i,n,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:a})}),this.onLeave((i,n,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,t,i){let n=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(n,(u,l)=>{a[u]||(c[u]=l)}),this.map(a,(u,l)=>{let d=n[u];if(d){let p=l.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),f=l.filter(g=>h.indexOf(g.presence_ref)<0),m=d.filter(g=>p.indexOf(g.presence_ref)<0);f.length>0&&(o[u]=f),m.length>0&&(c[u]=m)}else o[u]=l}),this.syncDiff(n,{joins:o,leaves:c},t,i)}static syncDiff(e,r,t,i){let{joins:n,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return t||(t=()=>{}),i||(i=()=>{}),this.map(n,(o,c)=>{var u;let l=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),l.length>0){let d=e[o].map(h=>h.presence_ref),p=l.filter(h=>d.indexOf(h.presence_ref)<0);e[o].unshift(...p)}t(o,l,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[o]=u,i(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(t=>r(t,e[t]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,t)=>{let i=e[t];return"metas"in i?r[t]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):r[t]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var ri,si,ii,We,ni=D(()=>{dr();qa();Xs();ti();hr();hr();(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(ri||(ri={}));(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(si||(si={}));(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ii||(ii={}));We=class s{constructor(e,r={config:{}},t){this.topic=e,this.params=r,this.socket=t,this.bindings={},this.state=U.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ce(this,H.join,this.params,this.timeout),this.rejoinTimer=new Ee(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=U.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=U.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=U.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=U.errored,this.rejoinTimer.scheduleTimeout())}),this._on(H.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new He(this),this.broadcastEndpointURL=pr(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var t,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:n,presence:a,private:o}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));let c={},u={broadcast:n,presence:a,postgres_changes:(i=(t=this.bindings.postgres_changes)===null||t===void 0?void 0:t.map(l=>l.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:l})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{let p=this.bindings.postgres_changes,h=(d=p?.length)!==null&&d!==void 0?d:0,f=[];for(let m=0;m<h;m++){let g=p[m],{filter:{event:E,schema:w,table:b,filter:C}}=g,v=l&&l[m];if(v&&v.event===E&&v.schema===w&&v.table===b&&v.filter===C)f.push(Object.assign(Object.assign({},g),{id:v.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,t){return this._on(e,r,t)}async send(e,r={}){var t,i;if(!this._canPush()&&e.type==="broadcast"){let{event:n,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:a,private:this.private}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(t=r.timeout)!==null&&t!==void 0?t:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var a,o,c;let u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&n("ok"),u.receive("ok",()=>n("ok")),u.receive("error",()=>n("error")),u.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=U.leaving;let r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(H.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(t=>{let i=new Ce(this,H.leave,{},e);i.receive("ok",()=>{r(),t("ok")}).receive("timeout",()=>{r(),t("timed out")}).receive("error",()=>{t("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,r,t){let i=new AbortController,n=setTimeout(()=>i.abort(),t),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(n),a}_push(e,r,t=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ce(this,e,r,t);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,t){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,t){var i,n;let a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:l}=H;if(t&&[o,c,u,l].indexOf(a)>=0&&t!==this._joinRef())return;let p=this._onMessage(a,r,t);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var f,m,g;return((f=h.filter)===null||f===void 0?void 0:f.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===a}).map(h=>h.callback(p,t)):(n=this.bindings[a])===null||n===void 0||n.filter(h=>{var f,m,g,E,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let C=h.id,v=(f=h.filter)===null||f===void 0?void 0:f.event;return C&&((m=r.ids)===null||m===void 0?void 0:m.includes(C))&&(v==="*"||v?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{let C=(w=(E=h?.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return C==="*"||C===((b=r?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let f=p.data,{schema:m,table:g,commit_timestamp:E,type:w,errors:b}=f;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:E,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(f))}h.callback(p,t)})}_isClosed(){return this.state===U.closed}_isJoined(){return this.state===U.joined}_isJoining(){return this.state===U.joining}_isLeaving(){return this.state===U.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,t){let i=e.toLocaleLowerCase(),n={type:i,filter:r,callback:t};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,r){let t=e.toLocaleLowerCase();return this.bindings[t]=this.bindings[t].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===t&&s.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let t in e)if(e[t]!==r[t])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(H.close,{},e)}_onError(e){this._on(H.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=U.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zs(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zs(e.columns,e.old_record)),r}}});var Ha=B((Ef,za)=>{"use strict";za.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var cd,ld,ud,Ve,ai,Wa=D(()=>{dr();Na();Xs();hr();ni();cd=()=>{},ld=typeof WebSocket<"u",ud=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ve=class{constructor(e,r){var t;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=La,this.params={},this.timeout=ur,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=cd,this.conn=null,this.sendBuffer=[],this.serializer=new xt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=n=>{let a;return n?a=n:typeof fetch>"u"?a=(...o)=>Promise.resolve().then(()=>(he(),Fe)).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${lr.websocket}`,this.httpEndpoint=pr(e),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);let i=(t=r?.params)===null||t===void 0?void 0:t.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=r?.encode?r.encode:(n,a)=>a(JSON.stringify(n)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ee(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(ld){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new ai(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Promise.resolve().then(()=>ge(Ha())).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){let e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,t){this.logger(e,r,t)}connectionState(){switch(this.conn&&this.conn.readyState){case _e.connecting:return fe.Connecting;case _e.open:return fe.Open;case _e.closing:return fe.Closing;default:return fe.Closed}}isConnected(){return this.connectionState()===fe.Open}channel(e,r={config:{}}){let t=new We(`realtime:${e}`,r,this);return this.channels.push(t),t}push(e){let{topic:r,event:t,payload:i,ref:n}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${t} (${n})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e){if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0)){this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);return}}this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(H.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ia}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:t,event:i,payload:n,ref:a}=r;(a&&a===this.pendingHeartbeatRef||i===n?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${i} ${a&&"("+a+")"||""}`,n),this.channels.filter(o=>o._isMember(t)).forEach(o=>o._trigger(i,n,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(H.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;let t=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${t}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ua,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let r;if(e)r=e;else{let t=new Blob([ud],{type:"application/javascript"});r=URL.createObjectURL(t)}return r}},ai=class{constructor(e,r,t){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_e.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=t.close}}});var oi=D(()=>{Wa();ni();ti()});function P(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Ge,fr,Ae,wt=D(()=>{Ge=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};fr=class extends Ge{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ae=class extends Ge{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}});var dd,gr,Va,mr,Dr=D(()=>{dd=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},gr=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(he(),Fe)).then(({default:t})=>t(...r)):e=fetch,(...r)=>e(...r)},Va=()=>dd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>(he(),Fe))).Response:Response}),mr=s=>{if(Array.isArray(s))return s.map(r=>mr(r));if(typeof s=="function"||s!==Object(s))return s;let e={};return Object.entries(s).forEach(([r,t])=>{let i=r.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=mr(t)}),e}});function bt(s,e,r,t,i,n){return Se(this,void 0,void 0,function*(){return new Promise((a,o)=>{s(r,hd(e,t,i,n)).then(c=>{if(!c.ok)throw c;return t?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>pd(c,o,t))})})}function Je(s,e,r,t){return Se(this,void 0,void 0,function*(){return bt(s,"GET",e,r,t)})}function X(s,e,r,t,i){return Se(this,void 0,void 0,function*(){return bt(s,"POST",e,t,i,r)})}function Ga(s,e,r,t,i){return Se(this,void 0,void 0,function*(){return bt(s,"PUT",e,t,i,r)})}function Ja(s,e,r,t){return Se(this,void 0,void 0,function*(){return bt(s,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),t)})}function vr(s,e,r,t,i){return Se(this,void 0,void 0,function*(){return bt(s,"DELETE",e,t,i,r)})}var Se,ci,pd,hd,li=D(()=>{wt();Dr();Se=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},ci=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),pd=(s,e,r)=>Se(void 0,void 0,void 0,function*(){let t=yield Va();s instanceof t&&!r?.noResolveJson?s.json().then(i=>{e(new fr(ci(i),s.status||500))}).catch(i=>{e(new Ae(ci(i),i))}):e(new Ae(ci(s),s))}),hd=(s,e,r,t)=>{let i={method:s,headers:e?.headers||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),t&&(i.body=JSON.stringify(t)),Object.assign(Object.assign({},i),r))}});var N,fd,Ka,Ft,Ya=D(()=>{wt();li();Dr();N=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},fd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ka={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ft=class{constructor(e,r={},t,i){this.url=e,this.headers=r,this.bucketId=t,this.fetch=gr(i)}uploadOrUpdate(e,r,t,i){return N(this,void 0,void 0,function*(){try{let n,a=Object.assign(Object.assign({},Ka),i),o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&t instanceof Blob?(n=new FormData,n.append("cacheControl",a.cacheControl),c&&n.append("metadata",this.encodeMetadata(c)),n.append("",t)):typeof FormData<"u"&&t instanceof FormData?(n=t,n.append("cacheControl",a.cacheControl),c&&n.append("metadata",this.encodeMetadata(c))):(n=t,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(o=Object.assign(Object.assign({},o),i.headers));let u=this._removeEmptyFolders(r),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:n,headers:o},a?.duplex?{duplex:a.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(n){if(P(n))return{data:null,error:n};throw n}})}upload(e,r,t){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,t)})}uploadToSignedUrl(e,r,t,i){return N(this,void 0,void 0,function*(){let n=this._removeEmptyFolders(e),a=this._getFinalPath(n),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c,u=Object.assign({upsert:Ka.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&t instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",t)):typeof FormData<"u"&&t instanceof FormData?(c=t,c.append("cacheControl",u.cacheControl)):(c=t,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:l}),p=yield d.json();return d.ok?{data:{path:n,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(P(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return N(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");let n=yield X(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:i}),a=new URL(this.url+n.url),o=a.searchParams.get("token");if(!o)throw new Ge("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}update(e,r,t){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,t)})}move(e,r,t){return N(this,void 0,void 0,function*(){try{return{data:yield X(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:t?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(P(i))return{data:null,error:i};throw i}})}copy(e,r,t){return N(this,void 0,void 0,function*(){try{return{data:{path:(yield X(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:t?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(P(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,t){return N(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),n=yield X(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},t?.transform?{transform:t.transform}:{}),{headers:this.headers}),a=t?.download?`&download=${t.download===!0?"":t.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${a}`)},{data:n,error:null}}catch(i){if(P(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,t){return N(this,void 0,void 0,function*(){try{let i=yield X(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),n=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${n}`):null})),error:null}}catch(i){if(P(i))return{data:null,error:i};throw i}})}download(e,r){return N(this,void 0,void 0,function*(){let i=typeof r?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(r?.transform||{}),a=n?`?${n}`:"";try{let o=this._getFinalPath(e);return{data:yield(yield Je(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(P(o))return{data:null,error:o};throw o}})}info(e){return N(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{let t=yield Je(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mr(t),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}exists(e){return N(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{return yield Ja(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if(P(t)&&t instanceof Ae){let i=t.originalError;if([400,404].includes(i?.status))return{data:!1,error:t}}throw t}})}getPublicUrl(e,r){let t=this._getFinalPath(e),i=[],n=r?.download?`download=${r.download===!0?"":r.download}`:"";n!==""&&i.push(n);let o=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${u}`)}}}remove(e){return N(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}list(e,r,t){return N(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},fd),r),{prefix:e||""});return{data:yield X(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(P(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}});var Xa,Qa=D(()=>{Xa="2.7.1"});var Za,eo=D(()=>{Qa();Za={"X-Client-Info":`storage-js/${Xa}`}});var Ke,_t,to=D(()=>{eo();wt();li();Dr();Ke=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},_t=class{constructor(e,r={},t){this.url=e,this.headers=Object.assign(Object.assign({},Za),r),this.fetch=gr(t)}listBuckets(){return Ke(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(P(e))return{data:null,error:e};throw e}})}getBucket(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ke(this,void 0,void 0,function*(){try{return{data:yield X(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}updateBucket(e,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}emptyBucket(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield X(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}}});var Et,ro=D(()=>{Ya();to();Et=class extends _t{constructor(e,r={},t){super(e,r,t)}from(e){return new Ft(this.url,this.headers,e,this.fetch)}}});var so=D(()=>{});var io=D(()=>{ro();so();wt()});var no,ao=D(()=>{no="2.46.2"});var Ct,md,oo,co,lo,uo,po=D(()=>{ao();Ct="";typeof Deno<"u"?Ct="deno":typeof document<"u"?Ct="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ct="react-native":Ct="node";md={"X-Client-Info":`supabase-js-${Ct}/${no}`},oo={headers:md},co={schema:"public"},lo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uo={}});var gd,Dd,vd,ho,fo=D(()=>{he();gd=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},Dd=s=>{let e;return s?e=s:typeof fetch>"u"?e=Is:e=fetch,(...r)=>e(...r)},vd=()=>typeof Headers>"u"?Us:Headers,ho=(s,e,r)=>{let t=Dd(r),i=vd();return(n,a)=>gd(void 0,void 0,void 0,function*(){var o;let c=(o=yield e())!==null&&o!==void 0?o:s,u=new i(a?.headers);return u.has("apikey")||u.set("apikey",s),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),t(n,Object.assign(Object.assign({},a),{headers:u}))})}});function mo(s){return s.replace(/\/$/,"")}function go(s,e){let{db:r,auth:t,realtime:i,global:n}=s,{db:a,auth:o,realtime:c,global:u}=e,l={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),t),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),n),accessToken:()=>yd(this,void 0,void 0,function*(){return""})};return s.accessToken?l.accessToken=s.accessToken:delete l.accessToken,l}var yd,Do=D(()=>{yd=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})}});var yr,ui=D(()=>{yr="2.65.1"});var vo,yo,xo,di,At,pi,xr=D(()=>{ui();vo="http://localhost:9999",yo="supabase.auth.token",xo={"X-Client-Info":`gotrue-js/${yr}`},di=10,At="X-Supabase-Api-Version",pi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}}});function wo(s){return Math.round(Date.now()/1e3)+s}function bo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){let e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}function wr(s){let e={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return r.searchParams.forEach((t,i)=>{e[i]=t}),e}function xd(s){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",t,i,n,a,o,c,u,l=0;for(s=s.replace("-","+").replace("_","/");l<s.length;)a=e.indexOf(s.charAt(l++)),o=e.indexOf(s.charAt(l++)),c=e.indexOf(s.charAt(l++)),u=e.indexOf(s.charAt(l++)),t=a<<2|o>>4,i=(o&15)<<4|c>>2,n=(c&3)<<6|u,r=r+String.fromCharCode(t),c!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&n!=0&&(r=r+String.fromCharCode(n));return r}function fi(s){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=s.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");let t=r[1];return JSON.parse(xd(t))}async function _o(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function Eo(s,e){return new Promise((t,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{let a=await s(n);if(!e(n,null,a)){t(a);return}}catch(a){if(!e(n,a)){i(a);return}}})()})}function wd(s){return("0"+s.toString(16)).substr(-2)}function bd(){let e=new Uint32Array(56);if(typeof crypto>"u"){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=r.length,i="";for(let n=0;n<56;n++)i+=r.charAt(Math.floor(Math.random()*t));return i}return crypto.getRandomValues(e),Array.from(e,wd).join("")}async function Fd(s){let r=new TextEncoder().encode(s),t=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(t);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}function _d(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ed(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;let r=await Fd(s);return _d(r)}async function $e(s,e,r=!1){let t=bd(),i=t;r&&(i+="/PASSWORD_RECOVERY"),await hi(s,`${e}-code-verifier`,i);let n=await Ed(t);return[n,t===n?"plain":"s256"]}function Co(s){let e=s.headers.get(At);if(!e||!e.match(Cd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}var J,ke,me,br,Fo,hi,kt,$t,St,Cd,Ye=D(()=>{xr();J=()=>typeof document<"u",ke={tested:!1,writable:!1},me=()=>{if(!J())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ke.tested)return ke.writable;let s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ke.tested=!0,ke.writable=!0}catch{ke.tested=!0,ke.writable=!1}return ke.writable};br=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(he(),Fe)).then(({default:t})=>t(...r)):e=fetch,(...r)=>e(...r)},Fo=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",hi=async(s,e,r)=>{await s.setItem(e,JSON.stringify(r))},kt=async(s,e)=>{let r=await s.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$t=async(s,e)=>{await s.removeItem(e)};St=class s{constructor(){this.promise=new s.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};St.promiseConstructor=Promise;Cd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i});function _(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}function Ao(s){return _(s)&&s.name==="AuthApiError"}function So(s){return _(s)&&s.name==="AuthSessionMissingError"}function _r(s){return _(s)&&s.name==="AuthRetryableFetchError"}var Tt,Fr,Xe,te,K,Qe,Te,je,jt,Ze,Rt,Pt=D(()=>{Tt=class extends Error{constructor(e,r,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=t}};Fr=class extends Tt{constructor(e,r,t){super(e,r,t),this.name="AuthApiError",this.status=r,this.code=t}};Xe=class extends Tt{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},te=class extends Tt{constructor(e,r,t,i){super(e,t,i),this.name=r,this.status=t}},K=class extends te{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Qe=class extends te{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Te=class extends te{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},je=class extends te{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},jt=class extends te{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ze=class extends te{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};Rt=class extends te{constructor(e,r,t){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=t}}});async function ko(s){var e;if(!Fo(s))throw new Ze(Re(s),0);if(Sd.includes(s.status))throw new Ze(Re(s),s.status);let r;try{r=await s.json()}catch(n){throw new Xe(Re(n),n)}let t,i=Co(s);if(i&&i.getTime()>=pi["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?t=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(t=r.error_code),t){if(t==="weak_password")throw new Rt(Re(r),s.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(t==="session_not_found")throw new K}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0))throw new Rt(Re(r),s.status,r.weak_password.reasons);throw new Fr(Re(r),s.status||500,t)}async function A(s,e,r,t){var i;let n=Object.assign({},t?.headers);n[At]||(n[At]=pi["2024-01-01"].name),t?.jwt&&(n.Authorization=`Bearer ${t.jwt}`);let a=(i=t?.query)!==null&&i!==void 0?i:{};t?.redirectTo&&(a.redirect_to=t.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await $d(s,e,r+o,{headers:n,noResolveJson:t?.noResolveJson},{},t?.body);return t?.xform?t?.xform(c):{data:Object.assign({},c),error:null}}async function $d(s,e,r,t,i,n){let a=kd(e,t,i,n),o;try{o=await s(r,Object.assign({},a))}catch(c){throw console.error(c),new Ze(Re(c),0)}if(o.ok||await ko(o),t?.noResolveJson)return o;try{return await o.json()}catch(c){await ko(c)}}function re(s){var e;let r=null;Td(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=wo(s.expires_in)));let t=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:r,user:t},error:null}}function mi(s){let e=re(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,t)=>r&&typeof t=="string",!0)&&(e.data.weak_password=s.weak_password),e}function Q(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function $o(s){return{data:s,error:null}}function To(s){let{action_link:e,email_otp:r,hashed_token:t,redirect_to:i,verification_type:n}=s,a=Ad(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:t,redirect_to:i,verification_type:n},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function jo(s){return s}function Td(s){return s.access_token&&s.refresh_token&&s.expires_in}var Ad,Re,Sd,kd,gi=D(()=>{xr();Ye();Pt();Ad=function(s,e){var r={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(r[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(s);i<t.length;i++)e.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(s,t[i])&&(r[t[i]]=s[t[i]]);return r},Re=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Sd=[502,503,504];kd=(s,e,r,t)=>{let i={method:s,headers:e?.headers||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(t),Object.assign(Object.assign({},i),r))}});var jd,Pe,Er=D(()=>{gi();Ye();Pt();jd=function(s,e){var r={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(r[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(s);i<t.length;i++)e.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(s,t[i])&&(r[t[i]]=s[t[i]]);return r},Pe=class{constructor({url:e="",headers:r={},fetch:t}){this.url=e,this.headers=r,this.fetch=br(t),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(_(t))return{data:null,error:t};throw t}}async inviteUserByEmail(e,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Q})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}async generateLink(e){try{let{options:r}=e,t=jd(e,["options"]),i=Object.assign(Object.assign({},t),r);return"newEmail"in t&&(i.new_email=t?.newEmail,delete i.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:To,redirectTo:r?.redirectTo})}catch(r){if(_(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Q})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,t,i,n,a,o,c;try{let u={nextPage:null,lastPage:0,total:0},l=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(t=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&t!==void 0?t:"",per_page:(n=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:jo});if(l.error)throw l.error;let d=await l.json(),p=(a=l.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(o=l.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(f=>{let m=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(f.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Q})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Q})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}async deleteUser(e,r=!1){try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Q})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}async _listFactors(e){try{let{data:r,error:t}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:t}}catch(r){if(_(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}}});function Di(s={}){return{getItem:e=>s[e]||null,setItem:(e,r)=>{s[e]=r},removeItem:e=>{delete s[e]}}}var Ro,Po=D(()=>{Ye();Ro={getItem:s=>me()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{me()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{me()&&globalThis.localStorage.removeItem(s)}}});function Oo(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Bo=D(()=>{});async function vi(s,e,r){Oe.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);let t=new globalThis.AbortController;return e>0&&setTimeout(()=>{t.abort(),Oe.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:t.signal},async i=>{if(i){Oe.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,i.name);try{return await r()}finally{Oe.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,i.name)}}else{if(e===0)throw Oe.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Cr(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Oe.debug)try{let n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}var Oe,Ot,Cr,yi=D(()=>{Ye();Oe={debug:!!(globalThis&&me()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ot=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Cr=class extends Ot{}});async function Io(s,e,r){return await r()}var Rd,Bt,Lo,Be,xi=D(()=>{Er();xr();Pt();gi();Ye();Po();Bo();ui();yi();Oo();Rd={url:vo,storageKey:yo,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xo,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Bt=30*1e3,Lo=3;Be=class s{constructor(e){var r,t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=s.nextInstanceID,s.nextInstanceID+=1,this.instanceID>0&&J()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},Rd),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Pe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=br(i.fetch),this.lock=i.lock||Io,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:J()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=vi:this.lock=Io,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:me()?this.storage=Ro:(this.memoryStorage={},this.storage=Di(this.memoryStorage)):(this.memoryStorage={},this.storage=Di(this.memoryStorage)),J()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yr}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let e=J()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:t}=await this._getSessionFromURL(e);if(t)return this._debug("#_initialize()","error detecting session from URL",t),t?.code==="identity_already_exists"?{error:t}:(await this._removeSession(),{error:t});let{session:i,redirectType:n}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",n),await this._saveSession(i),setTimeout(async()=>{n==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return _(e)?{error:e}:{error:new Xe("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,t,i;try{let n=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(t=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:re}),{data:a,error:o}=n;if(o||!a)return{data:{user:null,session:null},error:o};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var r,t,i;try{let n;if("email"in e){let{email:l,password:d,options:p}=e,h=null,f=null;this.flowType==="pkce"&&([h,f]=await $e(this.storage,this.storageKey)),n=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:l,password:d,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:f},xform:re})}else if("phone"in e){let{phone:l,password:d,options:p}=e;n=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:d,data:(t=p?.data)!==null&&t!==void 0?t:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:re})}else throw new Te("You must provide either an email or phone number and a password");let{data:a,error:o}=n;if(o||!a)return{data:{user:null,session:null},error:o};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let r;if("email"in e){let{email:n,password:a,options:o}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:mi})}else if("phone"in e){let{phone:n,password:a,options:o}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:mi})}else throw new Te("You must provide either an email or phone number and a password");let{data:t,error:i}=r;return i?{data:{user:null,session:null},error:i}:!t||!t.session||!t.user?{data:{user:null,session:null},error:new Qe}:(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({user:t.user,session:t.session},t.weak_password?{weakPassword:t.weak_password}:null),error:i})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,t,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(t=e.options)===null||t===void 0?void 0:t.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await kt(this.storage,`${this.storageKey}-code-verifier`),[t,i]=(r??"").split("/");try{let{data:n,error:a}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:re});if(await $t(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new Qe}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:a})}catch(n){if(_(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{let{options:r,provider:t,token:i,access_token:n,nonce:a}=e,o=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:t,id_token:i,access_token:n,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:re}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Qe}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,t,i,n,a;try{if("email"in e){let{email:o,options:c}=e,u=null,l=null;this.flowType==="pkce"&&([u,l]=await $e(this.storage,this.storageKey));let{error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(t=c?.shouldCreateUser)!==null&&t!==void 0?t:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){let{phone:o,options:c}=e,{data:u,error:l}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:l}}throw new Te("You must provide either an email or phone number.")}catch(o){if(_(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,t;try{let i,n;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,n=(t=e.options)===null||t===void 0?void 0:t.captchaToken);let{data:a,error:o}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:re});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,t,i;try{let n=null,a=null;return this.flowType==="pkce"&&([n,a]=await $e(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(t=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&t!==void 0?t:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:a}),headers:this.headers,xform:$o})}catch(n){if(_(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:t}=e;if(t)throw t;if(!r)throw new K;let{error:i}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(_(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let r=`${this.url}/resend`;if("email"in e){let{email:t,type:i,options:n}=e,{error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:t,type:i,gotrue_meta_security:{captcha_token:n?.captchaToken}},redirectTo:n?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:t,type:i,options:n}=e,{data:a,error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:t,type:i,gotrue_meta_security:{captcha_token:n?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new Te("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await t,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let t=r();for(this.pendingInLock.push((async()=>{try{await t}catch{}})()),await t;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let t=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${t?"":" not"} expired`,"expires_at",e.expires_at),!t){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,l)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,l))})}return{data:{session:e},error:null}}let{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Q}):await this._useSession(async r=>{var t,i,n;let{data:a,error:o}=r;if(o)throw o;return!(!((t=a.session)===null||t===void 0)&&t.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new K}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:Q})})}catch(r){if(_(r))return So(r)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async t=>{let{data:i,error:n}=t;if(n)throw n;if(!i.session)throw new K;let a=i.session,o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await $e(this.storage,this.storageKey));let{data:u,error:l}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Q});if(l)throw l;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}}_decodeJWT(e){return fi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new K;let r=Date.now()/1e3,t=r,i=!0,n=null,a=fi(e.access_token);if(a.exp&&(t=a.exp,i=t<=r),i){let{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};n=o}else{let{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;n={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:t-r,expires_at:t},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var t;if(!e){let{data:a,error:o}=r;if(o)throw o;e=(t=a.session)!==null&&t!==void 0?t:void 0}if(!e?.refresh_token)throw new K;let{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!J())throw new je("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new je("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new jt("Not a valid PKCE flow url.");let r=wr(window.location.href);if(e){if(!r.code)throw new jt("No code detected.");let{data:w,error:b}=await this._exchangeCodeForSession(r.code);if(b)throw b;let C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:w.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new je(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:t,provider_refresh_token:i,access_token:n,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=r;if(!n||!o||!a||!u)throw new je("No session defined in URL");let l=Math.round(Date.now()/1e3),d=parseInt(o),p=l+d;c&&(p=parseInt(c));let h=p-l;h*1e3<=Bt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);let f=p-d;l-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,p,l):l-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,p,l);let{data:m,error:g}=await this._getUser(n);if(g)throw g;let E={provider_token:t,provider_refresh_token:i,access_token:n,expires_in:d,expires_at:p,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:r.type},error:null}}catch(r){if(_(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){let e=wr(window.location.href);return!!(J()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=wr(window.location.href),r=await kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var t;let{data:i,error:n}=r;if(n)return{error:n};let a=(t=i.session)===null||t===void 0?void 0:t.access_token;if(a){let{error:o}=await this.admin.signOut(a,e);if(o&&!(Ao(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let r=bo(),t={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,t),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:t}}}async _emitInitialSession(e){return await this._useSession(async r=>{var t,i;try{let{data:{session:n},error:a}=r;if(a)throw a;await((t=this.stateChangeEmitters.get(e))===null||t===void 0?void 0:t.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,r={}){let t=null,i=null;this.flowType==="pkce"&&([t,i]=await $e(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:t,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(n){if(_(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{let{data:r,error:t}=await this.getUser();if(t)throw t;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:t,error:i}=await this._useSession(async n=>{var a,o,c,u,l;let{data:d,error:p}=n;if(p)throw p;let h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",h,{headers:this.headers,jwt:(l=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(i)throw i;return J()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(t?.url),{data:{provider:e.provider,url:t?.url},error:null}}catch(t){if(_(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var t,i;let{data:n,error:a}=r;if(a)throw a;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let t=Date.now();return await Eo(async i=>(i>0&&await _o(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:re})),(i,n)=>{let a=200*Math.pow(2,i);return n&&_r(n)&&Date.now()+a-t<Bt})}catch(t){if(this._debug(r,"error",t),_(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let t=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",t),J()&&!r.skipBrowserRedirect&&window.location.assign(t),{data:{provider:e,url:t},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let t=await kt(this.storage,this.storageKey);if(this._debug(r,"session from storage",t),!this._isValidSession(t)){this._debug(r,"session is not valid"),t!==null&&await this._removeSession();return}let i=Math.round(Date.now()/1e3),n=((e=t.expires_at)!==null&&e!==void 0?e:1/0)<i+di;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${di}s`),n){if(this.autoRefreshToken&&t.refresh_token){let{error:a}=await this._callRefreshToken(t.refresh_token);a&&(console.error(a),_r(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){this._debug(r,"error",t),console.error(t);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,t;if(!e)throw new K;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new St;let{data:n,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!n.session)throw new K;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);let o={session:n.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(n){if(this._debug(i,"error",n),_(n)){let a={session:null,error:n};return _r(n)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(t=this.refreshingDeferred)===null||t===void 0||t.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,t=!0){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${t}`);try{this.broadcastChannel&&t&&this.broadcastChannel.postMessage({event:e,session:r});let n=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){n.push(c)}});if(await Promise.all(a),n.length>0){for(let o=0;o<n.length;o+=1)console.error(n[o]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $t(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&J()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Bt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:t}}=r;if(!t||!t.refresh_token||!t.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((t.expires_at*1e3-e)/Bt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bt}ms, refresh threshold is ${Lo} ticks`),i<=Lo&&await this._callRefreshToken(t.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ot)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!J()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,t){let i=[`provider=${encodeURIComponent(r)}`];if(t?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t?.scopes&&i.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){let[n,a]=await $e(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(t?.queryParams){let n=new URLSearchParams(t.queryParams);i.push(n.toString())}return t?.skipBrowserRedirect&&i.push(`skip_http_redirect=${t.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var t;let{data:i,error:n}=r;return n?{data:null,error:n}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=i?.session)===null||t===void 0?void 0:t.access_token})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var t,i;let{data:n,error:a}=r;if(a)return{data:null,error:a};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(t=n?.session)===null||t===void 0?void 0:t.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var t;let{data:i,error:n}=r;if(n)return{data:null,error:n};let{data:a,error:o}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=i?.session)===null||t===void 0?void 0:t.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var t;let{data:i,error:n}=r;return n?{data:null,error:n}:await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(t=i?.session)===null||t===void 0?void 0:t.access_token})})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:t}=await this._challenge({factorId:e.factorId});return t?{data:null,error:t}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let t=e?.factors||[],i=t.filter(a=>a.factor_type==="totp"&&a.status==="verified"),n=t.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:t,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,t;let{data:{session:i},error:n}=e;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),o=null;a.aal&&(o=a.aal);let c=o;((t=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");let l=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}};Be.nextInstanceID=0});var Uo=D(()=>{Er()});var Pd,wi,No=D(()=>{xi();Pd=Be,wi=Pd});var Mo=D(()=>{});var bi=D(()=>{Er();xi();Uo();No();Mo();Pt();yi()});var Ar,qo=D(()=>{bi();Ar=class extends wi{constructor(e){super(e)}}});var Od,Lt,zo=D(()=>{ya();Pa();oi();io();po();fo();Do();qo();Od=function(s,e,r,t){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{u(t.next(l))}catch(d){a(d)}}function c(l){try{u(t.throw(l))}catch(d){a(d)}}function u(l){l.done?n(l.value):i(l.value).then(o,c)}u((t=t.apply(s,e||[])).next())})},Lt=class{constructor(e,r,t){var i,n,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");let o=mo(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:co,realtime:uo,auth:Object.assign(Object.assign({},lo),{storageKey:c}),global:oo},l=go(t??{},u);this.storageKey=(i=l.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=l.auth)!==null&&a!==void 0?a:{},this.headers,l.global.fetch),this.fetch=ho(r,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},l.realtime)),this.rest=new Ra(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new ht(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Et(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},t={}){return this.rest.rpc(e,r,t)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Od(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:t}=yield this.auth.getSession();return(r=(e=t.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:t,storage:i,storageKey:n,flowType:a,lock:o,debug:c},u,l){var d;let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ar({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:n,autoRefreshToken:e,persistSession:r,detectSessionInUrl:t,storage:i,flowType:a,lock:o,debug:c,fetch:l,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Ve(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t?.access_token)})}_handleTokenChanged(e,r,t){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}});var Ho,Wo=D(()=>{zo();bi();oi();Ho=(s,e,r)=>new Lt(s,e,r)});var Go={};q(Go,{$:()=>se,_:()=>zd,s:()=>ie});var Bd,se,Ld,Id,ie,Ud,Nd,Vo,Md,qd,zd,et=D(()=>{ee();Z();ae();Wo();Bd=le(),se=W((s,e,r)=>{let t=s.createAstro(Bd,e,r);t.self=se;let{title:i,description:n="Discover and explore amazing places in your area",image:a="/og-image.jpg",canonicalURL:o=t.url.href}=t.props,c="Places Directory",u=i===c?i:`${i} | ${c}`;return x`<html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator"${S(t.generator,"content")}><!-- Primary Meta Tags --><title>${u}</title><meta name="title"${S(u,"content")}><meta name="description"${S(n,"content")}><!-- Canonical URL --><link rel="canonical"${S(o,"href")}><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url"${S(t.url.href,"content")}><meta property="og:title"${S(u,"content")}><meta property="og:description"${S(n,"content")}>${a&&x`<meta property="og:image"${S(new URL(a,t.url),"content")}>`}<!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url"${S(t.url.href,"content")}><meta property="twitter:title"${S(u,"content")}><meta property="twitter:description"${S(n,"content")}>${a&&x`<meta property="twitter:image"${S(new URL(a,t.url),"content")}>`}<!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"><!-- Additional Meta Tags -->${at(s,r.head)}${An()}</head> <body class="bg-gray-50 min-h-screen font-['Inter']"> <nav class="bg-white shadow-sm"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> <div class="flex justify-between h-16"> <div class="flex"> <a href="/" class="flex items-center text-primary-600 font-semibold text-lg">
 ${c} </a> </div> <div class="flex items-center space-x-4"> <a href="/directory" class="text-gray-600 hover:text-gray-900">
Directory
</a> </div> </div> </div> </nav> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"> ${at(s,r.default)} </main> <footer class="bg-white border-t border-gray-200 mt-12"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"> <p class="text-center text-gray-500 text-sm">
 ${new Date().getFullYear()} ${c}. All rights reserved.
</p> </div> </footer> </body></html>`},"/Users/aaronbaker/astro-directory-v2/src/layouts/Layout.astro",void 0),Ld="https://xynhhmliqdvyzrqnlvmk.supabase.co",Id="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5bmhobWxpcWR2eXpycW5sdm1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI5MzAxMzMsImV4cCI6MjA0ODUwNjEzM30.9CQJDsQNph80lCbckTf5lCCaTf5tSLLvonHx21WTIqw",ie=Ho(Ld,Id),Ud=async()=>{let{data:s,error:e}=await ie.from("places").select("count");e?console.error("Supabase connection error:",e):console.log("Supabase connected successfully")};Ud();Nd=le(),Vo=W(async(s,e,r)=>{let t=s.createAstro(Nd,e,r);t.self=Vo,console.log("\u{1F680} Page Processing Started");let i=t.params.slug;console.log("\u{1F4DD} Processing slug:",i);let n=/^\d+$/.test(i||""),a=ie.from("places").select("*");n?a=a.eq("id",parseInt(i||"0")):a=a.eq("slug",i);let{data:o,error:c}=await a.single();if(console.log("\u{1F50D} Query Response:",{isNumeric:n,slug:i,found:!!o,error:c?.message||null}),c)return console.error("\u274C Database Error:",c),new Response(`Database error: ${c.message}`,{status:500});if(!o)return console.error("\u274C Place not found:",{slug:i}),new Response("Place not found",{status:404});if(n&&o.slug)return console.log("\u{1F504} Redirecting to slug URL"),t.redirect(`/places/${o.slug.replace(/^"|"$/g,"")}`,301);let u=[o.title,o.category,o.rating&&`Rated ${o.rating}/5`,o.address].filter(Boolean).join(" - ");return console.log("\u2705 Rendering page for:",o.title),x`${Y(s,"Layout",se,{title:o.title,description:u},{default:l=>x` ${V()}<div class="max-w-3xl mx-auto"> <nav class="mb-6"> <a href="/directory" class="text-primary-600 hover:text-primary-700 flex items-center gap-1"> <span></span> Back to Directory
</a> </nav> <article class="bg-white rounded-lg shadow-sm border border-gray-200 p-8"> <header class="mb-8"> <h1 class="text-3xl font-bold text-gray-900 mb-2">${o.title}</h1> ${o.category&&x`<p class="text-primary-600 font-medium">${o.category}</p>`} </header> ${o.rating&&x`<section class="mb-8 pb-8 border-b border-gray-100"> <div class="flex items-center gap-2"> <span class="text-yellow-500 text-xl"></span> <span class="font-medium">${o.rating}</span> ${o.rating_count&&x`<span class="text-gray-500">
(${o.rating_count} reviews)
</span>`} </div> </section>`} ${o.address&&x`<section class="mb-8 pb-8 border-b border-gray-100"> <h2 class="text-lg font-semibold mb-2">Location</h2> <p class="text-gray-600">${o.address}</p> ${o.latitude&&o.longitude&&x`<a${S(`https://www.google.com/maps/search/?api=1&query=${o.latitude},${o.longitude}`,"href")} target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-primary-600 hover:text-primary-700 mt-3"> <span class="mr-1"></span> View on Google Maps
</a>`} </section>`} <div class="space-y-6"> ${o.phone_number&&x`<section> <h2 class="text-lg font-semibold mb-2">Contact</h2> <a${S(`tel:${o.phone_number}`,"href")} class="text-primary-600 hover:text-primary-700 flex items-center gap-2"> <span></span> ${o.phone_number} </a> </section>`} ${o.website&&x`<section> <h2 class="text-lg font-semibold mb-2">Website</h2> <a${S(o.website,"href")} target="_blank" rel="noopener noreferrer" class="text-primary-600 hover:text-primary-700 flex items-center gap-2"> <span></span>
Visit Website
</a> </section>`} </div> </article> </div> `})}`},"/Users/aaronbaker/astro-directory-v2/src/pages/places/[slug].astro",void 0),Md="/Users/aaronbaker/astro-directory-v2/src/pages/places/[slug].astro",qd="/places/[slug]",zd=Object.freeze(Object.defineProperty({__proto__:null,default:Vo,file:Md,url:qd},Symbol.toStringTag,{value:"Module"}))});var Jo={};q(Jo,{default:()=>Hd,file:()=>Wd,url:()=>Vd});var Hd,Wd,Vd,Ko=D(()=>{ee();Z();ae();et();Hd=W((s,e,r)=>x`${Y(s,"Layout",se,{title:"Welcome to Places Directory"},{default:t=>x` ${V()}<div class="max-w-3xl mx-auto text-center"> <h1 class="text-4xl font-bold text-gray-900 mb-6">
Welcome to Places Directory
</h1> <p class="text-lg text-gray-600 mb-8">
Discover and explore amazing places in your area.
</p> <a href="/directory" class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors">
View Directory
</a> </div> `})}`,"/Users/aaronbaker/astro-directory-v2/src/pages/index.astro",void 0),Wd="/Users/aaronbaker/astro-directory-v2/src/pages/index.astro",Vd=""});var Yo={};q(Yo,{onRequest:()=>G,page:()=>Gd,renderers:()=>I});var Gd,Xo=D(()=>{pe();we();Gd=()=>Promise.resolve().then(()=>(Ko(),Jo))});var Zo={};q(Zo,{default:()=>Qo,file:()=>Kd,url:()=>Yd});var Jd,Qo,Kd,Yd,ec=D(()=>{ee();Z();et();Jd=le(),Qo=W(async(s,e,r)=>{let t=s.createAstro(Jd,e,r);t.self=Qo;function i(b,C){return`${b.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}-${C}`}let n=new URL(t.request.url),a=n.searchParams.get("search")||"",o=n.searchParams.get("category")||"",c=parseInt(n.searchParams.get("page")||"1"),u=12,l={1:"Masonry Contractors",2:"Chimney Repair",3:"Roofing Services",4:"Brick Repair"},d=Object.entries(l).reduce((b,[C,v])=>(b[v]=parseInt(C),b),{}),p=ie.from("query_places_view").select(`
    id,
    title,
    rating,
    rating_count,
    category,
    phone_number,
    website,
    address,
    query_id,
    query_text,
    latitude,
    longitude,
    city,
    province_state,
    created_at
  `,{count:"exact"}).in("query_id",[1,2,3,4]);if(a&&(p=p.textSearch("title",a)),o){let b=d[o];b&&(p=p.eq("query_id",b))}let{data:h,error:f,count:m}=await p.order("rating",{ascending:!1}).range((c-1)*u,c*u-1),g=m?Math.ceil(m/u):0,E={"Masonry Contractors":"Expert masonry services for your home or business","Chimney Repair":"Professional chimney repair and maintenance services","Roofing Services":"Specialized roofing and chimney flashing repairs","Brick Repair":"Expert brick repair and restoration services"};h?.reduce((b,C)=>{let v=C.category||l[C.query_id]||"Other";return b[v]||(b[v]=[]),b[v].push(C),b},{});let w=Object.keys(l).map(b=>l[b]);return x`${Y(s,"Layout",se,{title:"ChimneyRepairPro Directory"},{default:b=>x` ${V()}<div class="mb-8"> <h1 class="text-4xl font-bold text-gray-900 mb-3">
Find Local Chimney Professionals
</h1> <p class="text-lg text-gray-600 mb-6">
Connect with trusted chimney repair experts in your area
</p> <form class="flex flex-col sm:flex-row gap-4 mb-6" method="get"> <div class="flex-1"> <input type="search" name="search"${S(a,"value")} placeholder="Search for chimney professionals..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"> </div> <div class="sm:w-48"> <select name="category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"> <option value="">All Services</option> ${w.map(C=>x`<option${S(C,"value")}${S(C===o,"selected")}> ${C} </option>`)} </select> </div> <div class="sm:w-24"> <button type="submit" class="w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
Search
</button> </div> </form> <div class="text-sm text-gray-600 mb-6"> ${a||o?x`<p>
Showing ${(c-1)*u+1}-
${Math.min(c*u,m||0)} of ${m||0}${" "}
professionals
${a&&` matching "${a}"`} ${o&&` in ${o}`} </p>`:x`<p>Browse trusted chimney professionals by service type</p>`} </div> </div> ${f&&x`<div class="bg-red-50 border border-red-200 rounded-lg p-4"> <p class="text-red-700">Error loading professionals: ${f.message}</p> </div>`}${!f&&(a||o)?x`${Y(b,"Fragment",vs,{},{default:C=>x` <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-8"> ${h?.map(v=>x`<a${S(`/places/${i(v.title,v.id)}`,"href")} class="block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 h-full flex flex-col"> <div class="p-6 flex-1 flex flex-col"> <div class="flex justify-between items-start mb-auto"> <div> <h3 class="text-xl font-semibold text-gray-900 mb-1"> ${v.title} </h3> ${(v.category&&!v.category.toLowerCase().includes("not specified")||l[v.query_id])&&x`<p class="text-primary-600 text-sm font-medium"> ${!v.category?.toLowerCase().includes("not specified")&&v.category||l[v.query_id]} </p>`} </div> ${v.rating&&x`<div class="flex items-center bg-primary-50 px-2 py-1 rounded-lg"> <span class="text-yellow-500 text-lg mr-1"></span> <span class="font-medium text-primary-700"> ${v.rating} </span> ${v.rating_count&&x`<span class="text-primary-600 text-sm ml-1">
(${v.rating_count})
</span>`} </div>`} </div> <div class="mt-4 space-y-2"> ${v.address&&x`<p class="text-gray-600 text-sm flex items-start"> <span class="text-gray-400 mr-2"></span> <span> ${v.address} ${(v.city||v.province_state)&&x`<span class="block mt-1 text-gray-500"> ${[v.city,v.province_state].filter(Boolean).join(", ")} </span>`} </span> </p>`} ${v.phone_number&&x`<p class="text-gray-600 text-sm flex items-center"> <span class="text-gray-400 mr-2"></span> <span>${v.phone_number}</span> </p>`} </div> </div> ${(v.website||v.phone_number)&&x`<div class="border-t border-gray-100 px-6 py-4 bg-gray-50 rounded-b-lg mt-auto"> <div class="flex items-center justify-between"> <div class="flex items-center space-x-4"> ${v.website&&x`<span class="text-primary-600 text-sm font-medium hover:text-primary-700">
Visit Website
</span>`} ${v.phone_number&&x`<span class="text-primary-600 text-sm font-medium hover:text-primary-700">
Call Now
</span>`} </div> <span class="text-gray-400"></span> </div> </div>`} </a>`)} </div> ${g>1&&x`<div class="flex justify-center gap-2 mt-8"> ${c>1&&x`<a${S(`?${new URLSearchParams({...Object.fromEntries(n.searchParams),page:(c-1).toString()})}`,"href")} class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
Previous
</a>`} <span class="px-4 py-2">
Page ${c} of ${g} </span> ${c<g&&x`<a${S(`?${new URLSearchParams({...Object.fromEntries(n.searchParams),page:(c+1).toString()})}`,"href")} class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
Next
</a>`} </div>`}`})}`:x`<div class="space-y-8"> ${w.map(C=>x`<a${S(`?category=${encodeURIComponent(C)}`,"href")} class="block bg-white border border-gray-200 rounded-lg p-6 hover:bg-gray-50 transition-colors"> <div> <h2 class="text-2xl font-semibold text-gray-900">${C}</h2> <p class="text-gray-600 text-sm mt-1"> ${E[C]} </p> </div> <div class="mt-4 text-primary-600 hover:text-primary-700 text-sm font-medium">
View all professionals 
</div> </a>`)} </div>`}`})} `},"/Users/aaronbaker/astro-directory-v2/src/pages/directory.astro",void 0),Kd="/Users/aaronbaker/astro-directory-v2/src/pages/directory.astro",Yd="/directory"});var tc={};q(tc,{onRequest:()=>G,page:()=>Xd,renderers:()=>I});var Xd,rc=D(()=>{pe();we();Xd=()=>Promise.resolve().then(()=>(ec(),Zo))});var sc={};q(sc,{onRequest:()=>G,page:()=>Qd,renderers:()=>I});var Qd,ic=D(()=>{pe();we();Qd=()=>Promise.resolve().then(()=>(et(),Go)).then(s=>s._)});var nc={};q(nc,{default:()=>Zd,file:()=>ep,url:()=>tp});var Zd,ep,tp,ac=D(()=>{ee();Z();ae();et();Zd=W(async(s,e,r)=>{let{data:t,error:i}=await ie.from("places").select("*").limit(1);return console.log("Test page - Supabase response:",{data:t,error:i}),x`${Y(s,"Layout",se,{title:"Test Page"},{default:n=>x` ${V()}<div class="p-8"> <h1 class="text-2xl font-bold mb-4">Supabase Test</h1> ${i&&x`<div class="bg-red-50 p-4 rounded"> <p class="text-red-700">Error: ${i.message}</p> </div>`} ${t&&t.length>0&&x`<div class="bg-green-50 p-4 rounded"> <p class="text-green-700">Success! Found ${t.length} place(s)</p> <pre class="mt-4 bg-white p-4 rounded overflow-auto">            ${JSON.stringify(t[0],null,2)}
          </pre> </div>`} ${t&&t.length===0&&x`<div class="bg-yellow-50 p-4 rounded"> <p class="text-yellow-700">No places found in database</p> </div>`} </div> `})}`},"/Users/aaronbaker/astro-directory-v2/src/pages/test.astro",void 0),ep="/Users/aaronbaker/astro-directory-v2/src/pages/test.astro",tp="/test"});var oc={};q(oc,{onRequest:()=>G,page:()=>rp,renderers:()=>I});var rp,cc=D(()=>{pe();we();rp=()=>Promise.resolve().then(()=>(ac(),nc))});var lc={};q(lc,{GET:()=>sp});async function sp(){let{data:s,error:e}=await ie.from("directory").select("*");return e?new Response(JSON.stringify({error:e.message}),{status:500,headers:{"Content-Type":"application/json"}}):new Response(JSON.stringify(s),{status:200,headers:{"Content-Type":"application/json"}})}var uc=D(()=>{et()});var dc={};q(dc,{onRequest:()=>G,page:()=>ip,renderers:()=>I});var ip,pc=D(()=>{pe();we();ip=()=>Promise.resolve().then(()=>(uc(),lc))});rt();var zg=ge(Pr(),1);rt();var ot=ge(Pr(),1);var Or,Ti,ji,Ri,Pi=!0;typeof process<"u"&&({FORCE_COLOR:Or,NODE_DISABLE_COLORS:Ti,NO_COLOR:ji,TERM:Ri}=process.env||{},Pi=process.stdout&&process.stdout.isTTY);var Nc={enabled:!Ti&&ji==null&&Ri!=="dumb"&&(Or!=null&&Or!=="0"||Pi)};function j(s,e){let r=new RegExp(`\\x1b\\[${e}m`,"g"),t=`\x1B[${s}m`,i=`\x1B[${e}m`;return function(n){return!Nc.enabled||n==null?n:t+(~(""+n).indexOf(i)?n.replace(r,i+t):n)+i}}var Oi=j(0,0),Ie=j(1,22),Bi=j(2,22),Pp=j(3,23),Op=j(4,24),Bp=j(7,27),Lp=j(8,28),Ip=j(9,29),Up=j(30,39),Li=j(31,39),Np=j(32,39),Br=j(33,39),Mp=j(34,39),qp=j(35,39),Ii=j(36,39),zp=j(37,39),Hp=j(90,39),Wp=j(90,39),Vp=j(40,49),Gp=j(41,49),Jp=j(42,49),Kp=j(43,49),Yp=j(44,49),Xp=j(45,49),Qp=j(46,49),Zp=j(47,49);function Lr({onlyFirst:s=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,s?void 0:"g")}var sh=Lr();var Mc=ge(Ni(),1);var Nn=ge(Vi(),1);ee();Z();ae();function Xl(s){for(var e=[],r=0;r<s.length;){var t=s[r];if(t==="*"||t==="+"||t==="?"){e.push({type:"MODIFIER",index:r,value:s[r++]});continue}if(t==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:s[r++]});continue}if(t==="{"){e.push({type:"OPEN",index:r,value:s[r++]});continue}if(t==="}"){e.push({type:"CLOSE",index:r,value:s[r++]});continue}if(t===":"){for(var i="",n=r+1;n<s.length;){var a=s.charCodeAt(n);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){i+=s[n++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:i}),r=n;continue}if(t==="("){var o=1,c="",n=r+1;if(s[n]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(n));for(;n<s.length;){if(s[n]==="\\"){c+=s[n++]+s[n++];continue}if(s[n]===")"){if(o--,o===0){n++;break}}else if(s[n]==="("&&(o++,s[n+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(n));c+=s[n++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(r));if(!c)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:c}),r=n;continue}e.push({type:"CHAR",index:r,value:s[r++]})}return e.push({type:"END",index:r,value:""}),e}function Ql(s,e){e===void 0&&(e={});for(var r=Xl(s),t=e.prefixes,i=t===void 0?"./":t,n=e.delimiter,a=n===void 0?"/#?":n,o=[],c=0,u=0,l="",d=function(k){if(u<r.length&&r[u].type===k)return r[u++].value},p=function(k){var O=d(k);if(O!==void 0)return O;var M=r[u],kr=M.type,_c=M.index;throw new TypeError("Unexpected ".concat(kr," at ").concat(_c,", expected ").concat(k))},h=function(){for(var k="",O;O=d("CHAR")||d("ESCAPED_CHAR");)k+=O;return k},f=function(k){for(var O=0,M=a;O<M.length;O++){var kr=M[O];if(k.indexOf(kr)>-1)return!0}return!1},m=function(k){var O=o[o.length-1],M=k||(O&&typeof O=="string"?O:"");if(O&&!M)throw new TypeError('Must have text between two parameters, missing text after "'.concat(O.name,'"'));return!M||f(M)?"[^".concat(ws(a),"]+?"):"(?:(?!".concat(ws(M),")[^").concat(ws(a),"])+?")};u<r.length;){var g=d("CHAR"),E=d("NAME"),w=d("PATTERN");if(E||w){var b=g||"";i.indexOf(b)===-1&&(l+=b,b=""),l&&(o.push(l),l=""),o.push({name:E||c++,prefix:b,suffix:"",pattern:w||m(b),modifier:d("MODIFIER")||""});continue}var C=g||d("ESCAPED_CHAR");if(C){l+=C;continue}l&&(o.push(l),l="");var v=d("OPEN");if(v){var b=h(),It=d("NAME")||"",F=d("PATTERN")||"",T=h();p("CLOSE"),o.push({name:It||(F?c++:""),pattern:It&&!F?m(b):F,prefix:b,suffix:T,modifier:d("MODIFIER")||""});continue}p("END")}return o}function On(s,e){return Zl(Ql(s,e),e)}function Zl(s,e){e===void 0&&(e={});var r=eu(e),t=e.encode,i=t===void 0?function(c){return c}:t,n=e.validate,a=n===void 0?!0:n,o=s.map(function(c){if(typeof c=="object")return new RegExp("^(?:".concat(c.pattern,")$"),r)});return function(c){for(var u="",l=0;l<s.length;l++){var d=s[l];if(typeof d=="string"){u+=d;continue}var p=c?c[d.name]:void 0,h=d.modifier==="?"||d.modifier==="*",f=d.modifier==="*"||d.modifier==="+";if(Array.isArray(p)){if(!f)throw new TypeError('Expected "'.concat(d.name,'" to not repeat, but got an array'));if(p.length===0){if(h)continue;throw new TypeError('Expected "'.concat(d.name,'" to not be empty'))}for(var m=0;m<p.length;m++){var g=i(p[m],d);if(a&&!o[l].test(g))throw new TypeError('Expected all "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(g,'"'));u+=d.prefix+g+d.suffix}continue}if(typeof p=="string"||typeof p=="number"){var g=i(String(p),d);if(a&&!o[l].test(g))throw new TypeError('Expected "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(g,'"'));u+=d.prefix+g+d.suffix;continue}if(!h){var E=f?"an array":"a string";throw new TypeError('Expected "'.concat(d.name,'" to be ').concat(E))}}return u}}function ws(s){return s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function eu(s){return s&&s.sensitive?"":"i"}var tu=new Date(0),Bn="deleted",ru=Symbol.for("astro.responseSent"),Yt=class{constructor(e){this.value=e}json(){if(this.value===void 0)throw new Error("Cannot convert undefined to an object.");return JSON.parse(this.value)}number(){return Number(this.value)}boolean(){return this.value==="false"||this.value==="0"?!1:!!this.value}},ct=class{#e;#t;#r;constructor(e){this.#e=e,this.#t=null,this.#r=null}delete(e,r){let t={expires:tu};r?.domain&&(t.domain=r.domain),r?.path&&(t.path=r.path),this.#n().set(e,[Bn,(0,ot.serialize)(e,Bn,t),!1])}get(e){if(this.#r?.has(e)){let[t,,i]=this.#r.get(e);return i?new Yt(t):void 0}let r=this.#i();if(e in r){let t=r[e];return new Yt(t)}}has(e){if(this.#r?.has(e)){let[,,t]=this.#r.get(e);return t}return!!this.#i()[e]}set(e,r,t){let i;if(typeof r=="string")i=r;else{let a=r.toString();a===Object.prototype.toString.call(r)?i=JSON.stringify(r):i=a}let n={};if(t&&Object.assign(n,t),this.#n().set(e,[i,(0,ot.serialize)(e,i,n),!0]),this.#e[ru])throw new y({...nt})}*headers(){if(this.#r!=null)for(let[,e]of this.#r)yield e[1]}#i(){return this.#t||this.#s(),this.#t||(this.#t={}),this.#t}#n(){return this.#r||(this.#r=new Map),this.#r}#s(){let e=this.#e.headers.get("cookie");e&&(this.#t=(0,ot.parse)(e))}},Es=Symbol.for("astro.cookies");function lt(s,e){Reflect.set(s,Es,e)}function su(s){return Reflect.has(s,Es)}function iu(s){let e=Reflect.get(s,Es);if(e!=null)return e}function*Mn(s){let e=iu(s);if(!e)return[];for(let r of e.headers())yield r;return[]}var qn=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),ut={debug:20,info:30,warn:40,error:50,silent:90};function Cs(s,e,r,t){let i=s.level,n=s.dest,a={label:r,level:e,message:t};ut[i]>ut[e]||n.write(a)}function zn(s,e,r){return Cs(s,"info",e,r)}function Hn(s,e,r){return Cs(s,"warn",e,r)}function Wn(s,e,r){return Cs(s,"error",e,r)}function Vn(...s){"_astroGlobalDebug"in globalThis&&globalThis._astroGlobalDebug(...s)}if(typeof process<"u"){let s=process;"argv"in s&&Array.isArray(s.argv)&&(s.argv.includes("--verbose")||s.argv.includes("--silent"))}var Xt=class{options;constructor(e){this.options=e}info(e,r){zn(this.options,e,r)}warn(e,r){Hn(this.options,e,r)}error(e,r){Wn(this.options,e,r)}debug(e,...r){Vn(e,...r)}level(){return this.options.level}forkIntegrationLogger(e){return new dt(this.options,e)}},dt=class s{options;label;constructor(e,r){this.options=e,this.label=r}fork(e){return new s(this.options,e)}info(e){zn(this.options,this.label,e)}warn(e){Hn(this.options,this.label,e)}error(e){Wn(this.options,this.label,e)}debug(e){Vn(this.label,e)}};async function As(s,e,r,t){let i=!1,n,o=e(r,async()=>(i=!0,n=t(),n));return await Promise.resolve(o).then(async c=>{if(nu(c)&&s.warn("middleware",`Using simple endpoints can cause unexpected issues in the chain of middleware functions.
It's strongly suggested to use full ${Ie("Response")} objects.`),i)if(typeof c<"u"){if(!(c instanceof Response))throw new y(Jt);return Ln(r,c)}else{if(n)return n;throw new y(Jt)}else{if(typeof c>"u")throw new y(gn);if(c instanceof Response)return Ln(r,c);throw new y(Jt)}})}function Ln(s,e){return s.cookies!==void 0&&!su(e)&&lt(e,s.cookies),e}function nu(s){return!(s instanceof Response)&&typeof s=="object"&&typeof s.body=="string"}function de(s){return s.replaceAll("_","-").toLowerCase()}function Ss(s){return s?.type==="redirect"}function ks(s){return s?.type==="fallback"}function Gn(s,e){let r=s.redirectRoute,t=s.redirect;return typeof r<"u"?r?.generate(e)||r?.pathname||"/":typeof t=="string"?t:typeof t>"u"?"/":t.destination}function Jn(s,e="GET"){let r=s.redirectRoute;return typeof r?.redirect=="object"?r.redirect.status:e!=="GET"?308:301}var au=["string","number","undefined"];function ou([s,e],r){if(!au.includes(typeof e))throw new y({...ss,message:ss.message(s,e,typeof e),location:{file:r}})}function cu(s,{ssr:e,route:r}){if((!e||r.prerender)&&!s.getStaticPaths)throw new y({...pn,location:{file:r.component}})}function lu(s,e,r){if(!Array.isArray(s))throw new y({...rs,message:rs.message(typeof s),location:{file:r.component}});s.forEach(t=>{if(typeof t=="object"&&Array.isArray(t)||t===null)throw new y({...ts,message:ts.message(Array.isArray(t)?"array":typeof t)});if(t.params===void 0||t.params===null||t.params&&Object.keys(t.params).length===0)throw new y({...dn,location:{file:r.component}});for(let[i,n]of Object.entries(t.params))typeof n>"u"||typeof n=="string"||typeof n=="number"||e.warn("getStaticPaths",`invalid path param: ${i}. A string, number or undefined value was expected, but got \`${JSON.stringify(n)}\`.`),typeof n=="string"&&n===""&&e.warn("getStaticPaths",`invalid path param: ${i}. \`undefined\` expected for an optional param, but got empty string.`)})}function uu(s){return r=>{let t={};return s.forEach((i,n)=>{i.startsWith("...")?t[i.slice(3)]=r[n+1]?decodeURIComponent(r[n+1]):void 0:t[i]=decodeURIComponent(r[n+1])}),t}}function Kn(s,e){let r=Object.entries(s).reduce((t,i)=>{ou(i,e.component);let[n,a]=i;return a!==void 0&&(t[n]=typeof a=="string"?Tr(a):a.toString()),t},{});return JSON.stringify(e.generate(r))}function du(s){return function(r,t={}){let{pageSize:i,params:n,props:a}=t,o=i||10,c="page",u=n||{},l=a||{},d;if(s.params.includes(`...${c}`))d=!1;else if(s.params.includes(`${c}`))d=!0;else throw new y({...ns,message:ns.message(c)});let p=Math.max(1,Math.ceil(r.length/o));return[...Array(p).keys()].map(f=>{let m=f+1,g=o===1/0?0:(m-1)*o,E=Math.min(g+o,r.length),w={...u,[c]:d||m>1?String(m):void 0},b=bs(s.generate({...w})),C=m===p?void 0:bs(s.generate({...w,page:String(m+1)})),v=m===1?void 0:bs(s.generate({...w,page:!d&&m-1===1?void 0:String(m-1)}));return{params:w,props:{...l,page:{data:r.slice(g,E),start:g,end:E-1,size:o,total:r.length,currentPage:m,lastPage:p,url:{current:b,next:C,prev:v}}}}})}}function bs(s){return s===""?"/":s}async function pu({mod:s,route:e,routeCache:r,logger:t,ssr:i}){let n=r.get(e);if(!s)throw new Error("This is an error caused by Astro and not your code. Please file an issue.");if(n?.staticPaths)return n.staticPaths;if(cu(s,{ssr:i,route:e}),i&&!e.prerender){let c=Object.assign([],{keyed:new Map});return r.set(e,{...n,staticPaths:c}),c}let a=[];if(!s.getStaticPaths)throw new Error("Unexpected Error.");a=await s.getStaticPaths({paginate:du(e),rss(){throw new y(un)}}),lu(a,t,e);let o=a;o.keyed=new Map;for(let c of o){let u=Kn(c.params,e);o.keyed.set(u,c)}return r.set(e,{...n,staticPaths:o}),o}var Qt=class{logger;cache={};mode;constructor(e,r="production"){this.logger=e,this.mode=r}clearAll(){this.cache={}}set(e,r){this.mode==="production"&&this.cache[e.component]?.staticPaths&&this.logger.warn("routeCache",`Internal Warning: route cache overwritten. (${e.component})`),this.cache[e.component]=r}get(e){return this.cache[e.component]}};function hu(s,e,r,t){let i=Kn(e,r),n=s.keyed.get(i);if(n)return n;t.debug("findPathItemByKey",`Unexpected cache miss looking for ${i}`)}async function fu(s){let{logger:e,mod:r,route:t,routeCache:i,pathname:n,ssr:a}=s;if(!t||t.pathname)return[{},{}];let o=mu(t,n)??{};if(Ss(t)||ks(t))return[o,{}];r&&gu(t,r,o);let c=await pu({mod:r,route:t,routeCache:i,logger:e,ssr:a}),u=hu(c,o,t,e);if(!u&&(!a||t.prerender))throw new y({...Vt,message:Vt.message(n),hint:Vt.hint([t.component])});let l=u?.props?{...u.props}:{};return[o,l]}function mu(s,e){if(s.params.length){let r=s.pattern.exec(decodeURIComponent(e));if(r)return uu(s.params)(r)}}function gu(s,e,r){if(s.type==="endpoint"&&e.getStaticPaths){let t=s.segments[s.segments.length-1],i=Object.values(r),n=i[i.length-1];if(t.length===1&&t[0].dynamic&&n===void 0)throw new y({...Gt,message:Gt.message(s.route),hint:Gt.hint(s.component),location:{file:s.component}})}}var In=Symbol.for("astro.locals");async function $s(s){let e=s.request,r=s.pathname??new URL(e.url).pathname,[t,i]=await fu({mod:s.mod,route:s.route,routeCache:s.env.routeCache,pathname:r,logger:s.env.logger,ssr:s.env.ssr}),n={...s,pathname:r,params:t,props:i,locales:s.locales,routing:s.routing,defaultLocale:s.defaultLocale};return Object.defineProperty(n,"locals",{enumerable:!0,get(){return Reflect.get(e,In)},set(a){if(typeof a!="object")throw new y(Kt);Reflect.set(e,In,a)}}),n}function Yn(s){if(s==="*")return[{locale:s,qualityValue:void 0}];let e=[],r=s.split(",").map(t=>t.trim());for(let t of r){let i=t.split(";").map(o=>o.trim()),n=i[0],a=i[1];if(i)if(a&&a.startsWith("q=")){let o=Number.parseFloat(a.slice(2));Number.isNaN(o)||o>1?e.push({locale:n,qualityValue:void 0}):e.push({locale:n,qualityValue:o})}else e.push({locale:n,qualityValue:void 0})}return e}function Xn(s,e){let r=e.map(de);return s.filter(t=>t.locale!=="*"?r.includes(de(t.locale)):!0).sort((t,i)=>{if(t.qualityValue&&i.qualityValue){if(t.qualityValue>i.qualityValue)return-1;if(t.qualityValue<i.qualityValue)return 1}return 0})}function Ts(s,e){let r=s.headers.get("Accept-Language"),t;if(r){let n=Xn(Yn(r),e).at(0);n&&n.locale!=="*"&&(t=e.find(a=>de(a)===de(n.locale)))}return t}function js(s,e){let r=s.headers.get("Accept-Language"),t=[];if(r){let i=Xn(Yn(r),e);if(i.length===1&&i.at(0).locale==="*")return e;if(i.length>0)for(let n of i){let a=e.find(o=>de(o)===de(n.locale));a&&t.push(a)}}return t}function Rs(s,e,r,t){let i=new URL(s.url);for(let n of i.pathname.split("/"))for(let a of e)if(de(a)===de(n))return a;if(r==="prefix-other-locales")return t}var Qn=new TextEncoder,Un=Symbol.for("astro.clientAddress"),Fs=Symbol.for("astro.locals");function Ps({request:s,params:e,site:r,props:t,adapterName:i,locales:n,routingStrategy:a,defaultLocale:o}){let c,u,l;return{cookies:new ct(s),request:s,params:e,site:r?new URL(r):void 0,generator:`Astro v${ps}`,props:t,redirect(p,h){return new Response(null,{status:h||302,headers:{Location:p}})},ResponseWithEncoding:_s,get preferredLocale(){if(c)return c;if(n)return c=Ts(s,n),c},get preferredLocaleList(){if(u)return u;if(n)return u=js(s,n),u},get currentLocale(){return l||(n&&(l=Rs(s,n,a,o)),l)},url:new URL(s.url),get clientAddress(){if(Un in s)return Reflect.get(s,Un);throw i?new y({...Me,message:Me.message(i)}):new y(Wt)},get locals(){let p=Reflect.get(s,Fs);if(p===void 0&&(p={},Reflect.set(s,Fs,p)),typeof p!="object")throw new y(Kt);return p},set locals(p){if(typeof p!="object")throw new y(Kt);Reflect.set(s,Fs,p)}}}var _s=class extends Response{constructor(e,r,t){typeof e=="string"&&(typeof Buffer<"u"&&Buffer.from?e=Buffer.from(e,t):(t==null||t==="utf8"||t==="utf-8")&&(e=Qn.encode(e))),super(e,r),t&&this.headers.set("X-Astro-Encoding",t)}};async function Zn(s,e,r,t){let i=Ps({request:r.request,params:r.params,props:r.props,site:e.site,adapterName:e.adapterName,routingStrategy:r.routing,defaultLocale:r.defaultLocale,locales:r.locales}),n;t?n=await As(e.logger,t,i,async()=>await hs(s,i,e.ssr,e.logger)):n=await hs(s,i,e.ssr,e.logger);let a=e.ssr&&!r.route?.prerender;if(n instanceof Response)return a&&n.headers.get("X-Astro-Encoding")&&e.logger.warn("ssr","`ResponseWithEncoding` is ignored in SSR. Please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information."),lt(n,i.cookies),n;e.logger.warn("astro",`${r.route.component} returns a simple object which is deprecated. Please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information.`),a&&(n.hasOwnProperty("headers")&&e.logger.warn("ssr","Setting headers is not supported when returning an object. Please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information."),n.encoding&&e.logger.warn("ssr","`encoding` is ignored in SSR. To return a charset other than UTF-8, please return an instance of Response. See https://docs.astro.build/en/core-concepts/endpoints/#server-endpoints-api-routes for more information."));let o,c=new Headers,u=r.route?r.route.pathname??r.route.segments.map(d=>d.map(p=>p.content).join("")).join("/"):r.pathname,l=Nn.default.getType(u)||"text/plain";return c.set("Content-Type",`${l};charset=utf-8`),n.encoding&&c.set("X-Astro-Encoding",n.encoding),n.body instanceof Uint8Array?(o=n.body,c.set("Content-Length",o.byteLength.toString())):typeof Buffer<"u"&&Buffer.from?(o=Buffer.from(n.body,n.encoding),c.set("Content-Length",o.byteLength.toString())):n.encoding==null||n.encoding==="utf8"||n.encoding==="utf-8"?(o=Qn.encode(n.body),c.set("Content-Length",o.byteLength.toString())):o=n.body,n=new Response(o,{status:200,headers:c}),lt(n,i.cookies),n}function Du(s,e){let r=s.map(n=>"/"+n.map(a=>a.spread?`:${a.content.slice(3)}(.*)?`:a.dynamic?`:${a.content}`:a.content.normalize().replace(/\?/g,"%3F").replace(/#/g,"%23").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("")).join(""),t="";return e==="always"&&s.length&&(t="/"),On(r+t)}function Zt(s){return{route:s.route,type:s.type,pattern:new RegExp(s.pattern),params:s.params,component:s.component,generate:Du(s.segments,s._meta.trailingSlash),pathname:s.pathname||void 0,segments:s.segments,prerender:s.prerender,redirect:s.redirect,redirectRoute:s.redirectRoute?Zt(s.redirectRoute):void 0,fallbackRoutes:s.fallbackRoutes.map(e=>Zt(e))}}function vu(s){let e=[];for(let n of s.routes){e.push({...n,routeData:Zt(n.routeData)});let a=n;a.routeData=Zt(n.routeData)}let r=new Set(s.assets),t=new Map(s.componentMetadata),i=new Map(s.clientDirectives);return{...s,assets:r,componentMetadata:t,clientDirectives:i,routes:e}}var ea=vu({adapterName:"@astrojs/cloudflare",routes:[{file:"",links:[],scripts:[],styles:[],routeData:{type:"endpoint",route:"/_image",pattern:"^\\/_image$",segments:[[{content:"_image",dynamic:!1,spread:!1}]],params:[],component:"node_modules/astro/dist/assets/endpoint/generic.js",pathname:"/_image",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.a3d6b464.css"}],routeData:{route:"/",type:"page",pattern:"^\\/$",segments:[],params:[],component:"src/pages/index.astro",pathname:"/",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[{type:"inline",value:`const o=document.getElementById("searchForm"),t=document.getElementById("useMyLocation"),n=o?.querySelector('input[name="lat"]'),r=o?.querySelector('input[name="lon"]');t?.addEventListener("click",()=>{navigator.geolocation?(t.textContent="\u{1F4CD} Getting location...",t.setAttribute("disabled","true"),navigator.geolocation.getCurrentPosition(e=>{n.value=e.coords.latitude.toString(),r.value=e.coords.longitude.toString(),o?.submit()},e=>{console.error("Geolocation error:",e),alert("Unable to get your location. Please try again."),t.textContent="\u{1F4CD} Search near me",t.removeAttribute("disabled")})):alert("Geolocation is not supported by your browser")});
`}],styles:[{type:"external",src:"/_astro/directory.a3d6b464.css"}],routeData:{route:"/directory",type:"page",pattern:"^\\/directory\\/?$",segments:[[{content:"directory",dynamic:!1,spread:!1}]],params:[],component:"src/pages/directory.astro",pathname:"/directory",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.a3d6b464.css"}],routeData:{route:"/places/[slug]",type:"page",pattern:"^\\/places\\/([^/]+?)\\/?$",segments:[[{content:"places",dynamic:!1,spread:!1}],[{content:"slug",dynamic:!0,spread:!1}]],params:["slug"],component:"src/pages/places/[slug].astro",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[{type:"external",src:"/_astro/directory.a3d6b464.css"}],routeData:{route:"/test",type:"page",pattern:"^\\/test\\/?$",segments:[[{content:"test",dynamic:!1,spread:!1}]],params:[],component:"src/pages/test.astro",pathname:"/test",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],styles:[],routeData:{route:"/api/directory",type:"endpoint",pattern:"^\\/api\\/directory$",segments:[[{content:"api",dynamic:!1,spread:!1}],[{content:"directory",dynamic:!1,spread:!1}]],params:[],component:"src/pages/api/directory.js",pathname:"/api/directory",prerender:!1,fallbackRoutes:[],_meta:{trailingSlash:"ignore"}}}],base:"/",trailingSlash:"ignore",compressHTML:!0,componentMetadata:[["/Users/aaronbaker/astro-directory-v2/src/pages/directory.astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/index.astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/places/[slug].astro",{propagation:"none",containsHead:!0}],["/Users/aaronbaker/astro-directory-v2/src/pages/test.astro",{propagation:"none",containsHead:!0}]],renderers:[],clientDirectives:[["idle",'(()=>{var i=t=>{let e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)};(self.Astro||(self.Astro={})).idle=i;window.dispatchEvent(new Event("astro:idle"));})();'],["load",'(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();'],["media",'(()=>{var s=(i,t)=>{let a=async()=>{await(await i())()};if(t.value){let e=matchMedia(t.value);e.matches?a():e.addEventListener("change",a,{once:!0})}};(self.Astro||(self.Astro={})).media=s;window.dispatchEvent(new Event("astro:media"));})();'],["only",'(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();'],["visible",'(()=>{var r=(i,c,s)=>{let n=async()=>{await(await i())()},t=new IntersectionObserver(e=>{for(let o of e)if(o.isIntersecting){t.disconnect(),n();break}});for(let e of s.children)t.observe(e)};(self.Astro||(self.Astro={})).visible=r;window.dispatchEvent(new Event("astro:visible"));})();']],entryModules:{"\0@astrojs-ssr-virtual-entry":"_worker.mjs","\0@astro-renderers":"renderers.mjs","\0empty-middleware":"_empty-middleware.mjs","/src/pages/directory.astro":"chunks/pages/directory_d1326117.mjs","/src/pages/api/directory.js":"chunks/pages/directory_9321e352.mjs","/node_modules/astro/dist/assets/endpoint/generic.js":"chunks/pages/generic_62cee758.mjs","/src/pages/index.astro":"chunks/pages/index_da29aa50.mjs","/src/pages/test.astro":"chunks/pages/test_0ffd43fc.mjs","\0@astrojs-manifest":"manifest_7a25e5c5.mjs","\0@astro-page:node_modules/astro/dist/assets/endpoint/generic@_@js":"chunks/generic_b83500fc.mjs","\0@astro-page:src/pages/index@_@astro":"chunks/index_b21c88fe.mjs","\0@astro-page:src/pages/directory@_@astro":"chunks/directory_187f68bd.mjs","\0@astro-page:src/pages/places/[slug]@_@astro":"chunks/_slug__93861231.mjs","\0@astro-page:src/pages/test@_@astro":"chunks/test_ec09db96.mjs","\0@astro-page:src/pages/api/directory@_@js":"chunks/directory_064d38b7.mjs","/astro/hoisted.js?q=0":"_astro/hoisted.7f6012d9.js","astro:scripts/before-hydration.js":""},assets:["/_astro/directory.a3d6b464.css","/$server_build/_empty-middleware.mjs","/$server_build/_worker.mjs","/$server_build/renderers.mjs","/$server_build/_astro/directory.a3d6b464.css","/$server_build/chunks/_slug__93861231.mjs","/$server_build/chunks/astro_34338937.mjs","/$server_build/chunks/directory_064d38b7.mjs","/$server_build/chunks/directory_187f68bd.mjs","/$server_build/chunks/generic_b83500fc.mjs","/$server_build/chunks/index_b21c88fe.mjs","/$server_build/chunks/test_ec09db96.mjs","/$server_build/chunks/astro/assets-service_54ee8c8a.mjs","/$server_build/chunks/pages/_slug__ee648b23.mjs","/$server_build/chunks/pages/directory_9321e352.mjs","/$server_build/chunks/pages/directory_d1326117.mjs","/$server_build/chunks/pages/generic_62cee758.mjs","/$server_build/chunks/pages/index_da29aa50.mjs","/$server_build/chunks/pages/test_0ffd43fc.mjs"]});ee();Z();ae();pe();var xc=Symbol.for("astro.routeData");function np(s,e){for(let r of e)if(s.includes(`/${r}`))return!1;return!0}function ap(s,e,r){if(s)return async(t,i)=>{if(!s)return await i();let n=Reflect.get(t.request,xc);if(n&&n.type!=="page"&&n.type!=="fallback")return await i();let a=t.url,{locales:o,defaultLocale:c,fallback:u}=s,l=await i();if(l instanceof Response){let d=a.pathname.split("/"),p=a.pathname.includes(`/${c}`),h=np(a.pathname,s.locales);if(s.routing==="prefix-other-locales"&&p){let f=a.pathname.replace(`/${c}`,"");return l.headers.set("Location",f),new Response(null,{status:404,headers:l.headers})}else if(s.routing==="prefix-always"){if(a.pathname===e+"/"||a.pathname===e)return r==="always"?t.redirect(`${$i(De(e,s.defaultLocale))}`):t.redirect(`${De(e,s.defaultLocale)}`);if(h)return new Response(null,{status:404,headers:l.headers})}if(l.status>=300&&u){let f=s.fallback?Object.keys(s.fallback):[],m=d.find(g=>o.includes(g));if(m&&f.includes(m)){let g=u[m],E;return g===c&&s.routing!=="prefix-always"?E=a.pathname.replace(`/${m}`,""):E=a.pathname.replace(`/${m}`,`/${g}`),t.redirect(E)}}}return l}}var op=s=>{Reflect.set(s.request,xc,s.route)},hc,Fi=1,cp={write(s){let e=console.error;ut[s.level]<ut.error&&(e=console.log);function r(){let n="",a=s.label;return a&&(n+=Bi(qn.format(new Date)+" "),s.level==="info"?a=Ie(Ii(`[${a}]`)):s.level==="warn"?a=Ie(Br(`[${a}]`)):s.level==="error"&&(a=Ie(Li(`[${a}]`))),n+=`${a} `),Oi(n)}let t=s.message;t===hc?(Fi++,t=`${t} ${Br(`(x${Fi})`)}`):(hc=t,Fi=1);let i=r()+t;return e(i),!0}},lp={default(){return new Response(null,{status:301})}},up={page:()=>Promise.resolve(lp),onRequest:(s,e)=>e(),renderers:[]};function dp(...s){let e=s.filter(t=>!!t),r=e.length;return r?(t,i)=>{return n(0,t);function n(a,o){let c=e[a];return c(o,async()=>a<r-1?n(a+1,o):i())}}:(i,n)=>n()}function Si(s,e,r){return r?De(r,jr(s)):e?tt(De(e,jr(s))):s}function pp(s,e,r){return s.type==="inline"?{props:{},children:s.content}:{props:{rel:"stylesheet",href:Si(s.src,e,r)},children:""}}function hp(s,e,r){return new Set(s.map(t=>pp(t,e,r)))}function fp(s,e,r){return s.type==="external"?mp(s.value,e,r):{props:{type:"module"},children:s.value}}function mp(s,e,r){return{props:{type:"module",src:Si(s,e,r)},children:""}}function fc(s,e){let r=decodeURI(s);return e.routes.find(t=>t.pattern.test(r)||t.fallbackRoutes.some(i=>i.pattern.test(r)))}var mc=Symbol.for("astro.clientAddress"),gp=Symbol.for("astro.responseSent");function Dp(s){if(s&&s.expressions?.length===1)return s.expressions[0]}var _i=class{#e;#t;#r;constructor(e,r,t){if(this.#e=e,this.#t=r,this.#r=t,r)for(let i of Object.keys(r)){if(this[i]!==void 0)throw new y({...is,message:is.message(i)});Object.defineProperty(this,i,{get(){return!0},enumerable:!0})}}has(e){return this.#t?!!this.#t[e]:!1}async render(e,r=[]){if(!this.#t||!this.has(e))return;let t=this.#e;if(!Array.isArray(r))this.#r.warn("Astro.slots.render",`Expected second parameter to be an array, received a ${typeof r}. If you're trying to pass an array as a single argument and getting unexpected results, make sure you're passing your array as a item of an array. Ex: Astro.slots.render('default', [["Hello", "World"]])`);else if(r.length>0){let a=this.#t[e],o=typeof a=="function"?await a(t):await a,c=Dp(o);if(c)return await xe(t,async()=>typeof c=="function"?c(...r):c).then(l=>l!=null?String(l):l);if(typeof o=="function")return await oe(t,o(...r)).then(u=>u!=null?String(u):u)}let i=await xe(t,this.#t[e]);return ce(t,i)}};function vp(s){let{params:e,request:r,resolve:t,locals:i}=s,n=new URL(r.url),a=new Headers;a.set("Content-Type","text/html");let o={status:s.status,statusText:"OK",headers:a};Object.defineProperty(o,"headers",{value:o.headers,enumerable:!0,writable:!1});let c=s.cookies,u,l,d,p={styles:s.styles??new Set,scripts:s.scripts??new Set,links:s.links??new Set,componentMetadata:s.componentMetadata??new Map,renderers:s.renderers,clientDirectives:s.clientDirectives,compressHTML:s.compressHTML,partial:s.partial,pathname:s.pathname,cookies:c,createAstro(h,f,m){let g=new _i(p,m,s.logger);return{__proto__:h,get clientAddress(){if(!(mc in r))throw s.adapterName?new y({...Me,message:Me.message(s.adapterName)}):new y(Wt);return Reflect.get(r,mc)},get cookies(){return c||(c=new ct(r),p.cookies=c,c)},get preferredLocale(){if(u)return u;if(s.locales)return u=Ts(r,s.locales),u},get preferredLocaleList(){if(l)return l;if(s.locales)return l=js(r,s.locales),l},get currentLocale(){if(d||s.locales&&(d=Rs(r,s.locales,s.routingStrategy,s.defaultLocale),d))return d},params:e,props:f,locals:i,request:r,url:n,redirect(w,b){if(r[gp])throw new y({...nt});return new Response(null,{status:b||302,headers:{Location:w}})},response:o,slots:g}},resolve:t,response:o,_metadata:{hasHydrationScript:!1,hasRenderedHead:!1,hasDirectives:new Set,headInTree:!1,extraHead:[],propagators:new Set}};return p}async function gc({mod:s,renderContext:e,env:r,cookies:t}){if(Ss(e.route))return new Response(null,{status:Jn(e.route,e.request.method),headers:{location:Gn(e.route,e.params)}});if(ks(e.route))return new Response(null,{status:404});if(!s)throw new y(Dn);let i=s.default;if(!i)throw new Error(`Expected an exported Astro component but received typeof ${typeof i}`);let n=vp({adapterName:r.adapterName,links:e.links,styles:e.styles,logger:r.logger,params:e.params,pathname:e.pathname,componentMetadata:e.componentMetadata,resolve:r.resolve,renderers:r.renderers,clientDirectives:r.clientDirectives,compressHTML:r.compressHTML,request:e.request,partial:!!s.partial,site:r.site,scripts:e.scripts,ssr:r.ssr,status:e.status??200,cookies:t,locals:e.locals??{},locales:e.locales,defaultLocale:e.defaultLocale,routingStrategy:e.routing});s.frontmatter&&typeof s.frontmatter=="object"&&"draft"in s.frontmatter&&r.logger.warn("astro",`The drafts feature is deprecated and used in ${e.route.component}. You should migrate to content collections instead. See https://docs.astro.build/en/guides/content-collections/#filtering-collection-queries for more information.`);let a=await Pn(n,i,e.props,{},r.streaming,e.route);return n.cookies&&lt(a,n.cookies),a}var Ei=class{env;#e;#t={before:[]};#r;constructor(e){this.env=e}setEnvironment(){}setEndpointHandler(e){this.#r=e}setMiddlewareFunction(e){this.#e=e}unsetMiddlewareFunction(){this.#e=void 0}getEnvironment(){return this.env}async renderRoute(e,r){for(let i of this.#t.before)i(e,r);let t=await this.#i(e,this.env,r,this.#e);if(e.route.type==="endpoint"){if(!this.#r)throw new Error("You created a pipeline that does not know how to handle the result coming from an endpoint.");return this.#r(e.request,t)}else return t}async#i(e,r,t,i){let n=Ps({request:e.request,params:e.params,props:e.props,site:r.site,adapterName:r.adapterName,locales:e.locales,routingStrategy:e.routing,defaultLocale:e.defaultLocale});switch(e.route.type){case"page":case"fallback":case"redirect":return i?await As(r.logger,i,n,()=>gc({mod:t,renderContext:e,env:r,cookies:n.cookies})):await gc({mod:t,renderContext:e,env:r,cookies:n.cookies});case"endpoint":return await Zn(t,r,e,i);default:throw new Error(`Couldn't find route of type [${e.route.type}]`)}}onBeforeRenderRoute(e){this.#t.before.push(e)}},Sr=class extends Error{originalResponse;constructor(e){super(),this.originalResponse=e}},Ci=class extends Ei{constructor(e){super(e),this.setEndpointHandler(this.#e)}async#e(e,r){if(r.headers.get("X-Astro-Response")==="Not-Found")throw new Sr(r);return r}},yp=Symbol.for("astro.locals"),Dc=Symbol.for("astro.responseSent"),xp=new Set([404,500]),Ai=class{#e;#t;#r;#i=new Xt({dest:cp,level:"info"});#n;#s;#c;constructor(e,r=!0){this.#e=e,this.#t={routes:e.routes.map(t=>t.routeData)},this.#r=new Map(e.routes.map(t=>[t.routeData,t])),this.#n=Nt(this.#e.base),this.#s=new Ci(this.#d(r)),this.#c=new dt(this.#i.options,this.#e.adapterName)}getAdapterLogger(){return this.#c}#d(e=!1){return{adapterName:this.#e.adapterName,logger:this.#i,mode:"production",compressHTML:this.#e.compressHTML,renderers:this.#e.renderers,clientDirectives:this.#e.clientDirectives,resolve:async r=>{if(!(r in this.#e.entryModules))throw new Error(`Unable to resolve [${r}]`);let t=this.#e.entryModules[r];switch(!0){case t.startsWith("data:"):case t.length===0:return t;default:return Si(t,this.#e.base,this.#e.assetsPrefix)}},routeCache:new Qt(this.#i),site:this.#e.site,ssr:!0,streaming:e}}set setManifestData(e){this.#t=e}removeBase(e){return e.startsWith(this.#e.base)?e.slice(this.#n.length+1):e}#p(e){let r=new URL(e.url);return tt(this.removeBase(r.pathname))}match(e,r={}){let t=new URL(e.url);if(this.#e.assets.has(t.pathname))return;let i=tt(this.removeBase(t.pathname)),n=fc(i,this.#t);if(!(!n||n.prerender))return n}async render(e,r,t){if(e.url!==$r(e.url)&&(e=new Request($r(e.url),e)),r||(r=this.match(e)),!r)return this.#a(e,{status:404});Reflect.set(e,yp,t??{});let i=this.#p(e),n=this.#h(r,i),a=await this.#u(r),o=await a.page(),c=new URL(e.url),u=await this.#l(c,e,r,a,n),l;try{let d=ap(this.#e.i18n,this.#e.base,this.#e.trailingSlash);d?(a.onRequest?this.#s.setMiddlewareFunction(dp(d,a.onRequest)):this.#s.setMiddlewareFunction(d),this.#s.onBeforeRenderRoute(op)):a.onRequest&&this.#s.setMiddlewareFunction(a.onRequest),l=await this.#s.renderRoute(u,o)}catch(d){return d instanceof Sr?this.#a(e,{status:404,response:d.originalResponse}):(this.#i.error("ssr",d.stack||d.message||String(d)),this.#a(e,{status:500}))}return r.type==="page"||r.type==="redirect"?xp.has(l.status)?this.#a(e,{response:l,status:l.status}):(Reflect.set(l,Dc,!0),l):l}setCookieHeaders(e){return Mn(e)}async#l(e,r,t,i,n=200){if(t.type==="endpoint"){let a="/"+this.removeBase(e.pathname),c=await i.page();return await $s({request:r,pathname:a,route:t,status:n,env:this.#s.env,mod:c,locales:this.#e.i18n?.locales,routing:this.#e.i18n?.routing,defaultLocale:this.#e.i18n?.defaultLocale})}else{let a=tt(this.removeBase(e.pathname)),o=this.#r.get(t),c=new Set,u=hp(o.styles),l=new Set;for(let p of o.scripts)"stage"in p?p.stage==="head-inline"&&l.add({props:{},children:p.children}):l.add(fp(p));let d=await i.page();return await $s({request:r,pathname:a,componentMetadata:this.#e.componentMetadata,scripts:l,styles:u,links:c,route:t,status:n,mod:d,env:this.#s.env,locales:this.#e.i18n?.locales,routing:this.#e.i18n?.routing,defaultLocale:this.#e.i18n?.defaultLocale})}}async#a(e,{status:r,response:t,skipMiddleware:i=!1}){let n=fc("/"+r,this.#t),a=new URL(e.url);if(n){if(n.prerender){let u=n.route.endsWith(`/${r}`)?".html":"",l=new URL(`${this.#n}/${r}${u}`,a),d=await fetch(l.toString()),p={status:r};return this.#o(d,t,p)}let c=await this.#u(n);try{let u=await this.#l(a,e,n,c,r),l=await c.page();i===!1&&c.onRequest&&this.#s.setMiddlewareFunction(c.onRequest),i&&this.#s.unsetMiddlewareFunction();let d=await this.#s.renderRoute(u,l);return this.#o(d,t)}catch{if(i===!1&&c.onRequest)return this.#a(e,{status:r,response:t,skipMiddleware:!0})}}let o=this.#o(new Response(null,{status:r}),t);return Reflect.set(o,Dc,!0),o}#o(e,r,t){if(!r)return t!==void 0?new Response(e.body,{status:t.status,statusText:e.statusText,headers:e.headers}):e;let{statusText:i,headers:n}=r,a=t?.status?t.status:r.status===200?e.status:r.status;return new Response(e.body,{status:a,statusText:a===200?e.statusText:i,headers:new Headers(Array.from(n))})}#h(e,r){if(!e.pattern.exec(r)){for(let i of e.fallbackRoutes)if(i.pattern.test(r))return 302}let t=Nt(e.route);return t.endsWith("/404")?404:t.endsWith("/500")?500:200}async#u(e){if(e.type==="redirect")return up;if(this.#e.pageMap){let r=this.#e.pageMap.get(e.component);if(!r)throw new Error(`Unexpectedly unable to find a component instance for route ${e.route}`);return await r()}else{if(this.#e.pageModule)return this.#e.pageModule;throw new Error("Astro couldn't find the correct page to render, probably because it wasn't correctly mapped for SSR usage. This is an internal error, please file an issue.")}}},wp=typeof process=="object"&&Object.prototype.toString.call(process)==="[object process]";function bp(){return new Proxy({},{get:(s,e)=>{console.warn(`Unable to access \`import.meta\0.env.${e.toString()}\` on initialization as the Cloudflare platform only provides the environment variables per request. Please move the environment variable access inside a function that's only called after a request has been received.`)}})}wp||(process.env=bp());function wc(s){let e=new Ai(s);return{onRequest:async t=>{let i=t.request,{env:n}=t;process.env=n;let{pathname:a}=new URL(i.url);if(s.assets.has(a))return n.ASSETS.fetch(i);let o=e.match(i);Reflect.set(i,Symbol.for("astro.clientAddress"),i.headers.get("cf-connecting-ip"));let c={runtime:{waitUntil:l=>{t.waitUntil(l)},env:t.env,cf:i.cf,caches}},u=await e.render(i,o,c);if(e.setCookieHeaders)for(let l of e.setCookieHeaders(u))u.headers.append("Set-Cookie",l);return u},manifest:s}}var vc=Object.freeze(Object.defineProperty({__proto__:null,createExports:wc},Symbol.toStringTag,{value:"Module"})),Fp=()=>Promise.resolve().then(()=>(fa(),ha)),_p=()=>Promise.resolve().then(()=>(Xo(),Yo)),Ep=()=>Promise.resolve().then(()=>(rc(),tc)),Cp=()=>Promise.resolve().then(()=>(ic(),sc)),Ap=()=>Promise.resolve().then(()=>(cc(),oc)),Sp=()=>Promise.resolve().then(()=>(pc(),dc)),kp=new Map([["node_modules/astro/dist/assets/endpoint/generic.js",Fp],["src/pages/index.astro",_p],["src/pages/directory.astro",Ep],["src/pages/places/[slug].astro",Cp],["src/pages/test.astro",Ap],["src/pages/api/directory.js",Sp]]),bc=Object.assign(ea,{pageMap:kp,renderers:I}),$p=void 0,Fc=wc(bc),Yg=Fc.onRequest,Xg=Fc.manifest,yc="start";yc in vc&&vc[yc](bc,$p);export{Xg as manifest,Yg as onRequest,kp as pageMap};
/**
 * shortdash - https://github.com/bibig/node-shorthash
 *
 * @license
 *
 * (The MIT License)
 *
 * Copyright (c) 2013 Bibig <bibig@me.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
