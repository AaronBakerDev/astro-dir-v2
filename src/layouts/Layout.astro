---
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
  image?: string;
  canonicalURL?: string;
}

const {
  title,
  description = 'Expert chimney repair and maintenance services you can trust.',
  image = '/og-image.jpg',
  canonicalURL = Astro.url.href,
} = Astro.props;

const siteTitle = 'ChimneyRepairPro';
const fullTitle = title === siteTitle ? title : `${title} | ${siteTitle}`;
---

<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <meta name='generator' content={Astro.generator} />

    <!-- Primary Meta Tags -->
    <title>{fullTitle}</title>
    <meta name='title' content={fullTitle} />
    <meta name='description' content={description} />

    <!-- Canonical URL -->
    <link rel='canonical' href={canonicalURL} />

    <!-- Open Graph / Facebook -->
    <meta property='og:type' content='website' />
    <meta property='og:url' content={Astro.url.href} />
    <meta property='og:title' content={fullTitle} />
    <meta property='og:description' content={description} />
    {image && <meta property='og:image' content={new URL(image, Astro.url)} />}

    <!-- Twitter -->
    <meta property='twitter:card' content='summary_large_image' />
    <meta property='twitter:url' content={Astro.url.href} />
    <meta property='twitter:title' content={fullTitle} />
    <meta property='twitter:description' content={description} />
    {
      image && (
        <meta property='twitter:image' content={new URL(image, Astro.url)} />
      )
    }

    <!-- Fonts -->
    <link rel='preconnect' href='https://fonts.googleapis.com' />
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
    <link
      href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap'
      rel='stylesheet'
    />

    <!-- Additional Meta Tags -->
    <slot name='head' />
  </head>
  <body class="bg-white min-h-screen font-['Inter']">
    <nav class='border-b border-gray-100'>
      <div class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8'>
        <div class='flex justify-between h-16'>
          <div class='flex'>
            <a
              href='/'
              class='flex items-center text-gray-900 font-bold text-xl'>
              {siteTitle}
            </a>
          </div>
          <div class='flex items-center'>
            <a
              href='/sign-in'
              class='bg-gray-900 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800'>
              Sign in
            </a>
          </div>
        </div>
      </div>
    </nav>

    <main>
      <slot />
    </main>

    <footer class='bg-white border-t border-gray-100 mt-12'>
      <div class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12'>
        <div class='grid grid-cols-1 md:grid-cols-4 gap-8'>
          <!-- Brand Column -->
          <div>
            <h3 class='text-red-600 font-bold text-lg mb-4'>{siteTitle}</h3>
            <p class='text-gray-600 text-sm'>
              Professional chimney repair and maintenance services you can
              trust.
            </p>
          </div>

          <!-- Services Column -->
          <div>
            <h4 class='font-semibold mb-4'>Services</h4>
            <ul class='space-y-3'>
              <li>
                <a
                  href='/services/inspection'
                  class='text-gray-600 hover:text-gray-900'
                  >Chimney Inspection</a
                >
              </li>
              <li>
                <a
                  href='/services/cleaning'
                  class='text-gray-600 hover:text-gray-900'>Chimney Cleaning</a
                >
              </li>
              <li>
                <a
                  href='/services/repair'
                  class='text-gray-600 hover:text-gray-900'>Chimney Repair</a
                >
              </li>
              <li>
                <a
                  href='/services/masonry'
                  class='text-gray-600 hover:text-gray-900'>Masonry Work</a
                >
              </li>
            </ul>
          </div>

          <!-- Support Column -->
          <div>
            <h4 class='font-semibold mb-4'>Support</h4>
            <ul class='space-y-3'>
              <li>
                <a href='/emergency' class='text-gray-600 hover:text-gray-900'
                  >Emergency Service</a
                >
              </li>
              <li>
                <a href='/directory' class='text-gray-600 hover:text-gray-900'
                  >Find a Provider</a
                >
              </li>
              <li>
                <a href='/contact' class='text-gray-600 hover:text-gray-900'
                  >Contact Us</a
                >
              </li>
              <li>
                <a href='/areas' class='text-gray-600 hover:text-gray-900'
                  >Service Areas</a
                >
              </li>
            </ul>
          </div>

          <!-- Company Column -->
          <div>
            <h4 class='font-semibold mb-4'>Company</h4>
            <ul class='space-y-3'>
              <li>
                <a href='/about' class='text-gray-600 hover:text-gray-900'
                  >About Us</a
                >
              </li>
              <li>
                <a href='/blog' class='text-gray-600 hover:text-gray-900'
                  >Blog</a
                >
              </li>
              <li>
                <a href='/partners' class='text-gray-600 hover:text-gray-900'
                  >Partners</a
                >
              </li>
              <li>
                <a href='/careers' class='text-gray-600 hover:text-gray-900'
                  >Careers</a
                >
              </li>
            </ul>
          </div>
        </div>

        <div class='mt-8 pt-8 border-t border-gray-100'>
          <p class='text-gray-500 text-sm'>
            Â© {new Date().getFullYear()}
            {siteTitle}. All rights reserved.
          </p>
        </div>
      </div>
    </footer>
  </body>
</html>
